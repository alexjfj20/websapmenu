"use strict";(self["webpackChunkwebsap"]=self["webpackChunkwebsap"]||[]).push([[838,854,884],{6296:function(a,e,n){n.r(e),n.d(e,{default:function(){return Z}});var s=n(6768),t=n(4232);const o={class:"admin-container"},i={class:"admin-header"},r={class:"user-info"},c={class:"admin-layout"},l={class:"sidebar"},u={class:"nav-menu"},d=["onClick"],v={class:"nav-icon"},p={class:"nav-text"},b={class:"content"},m={key:0,class:"tab-content"},g={key:1,class:"tab-content"},h={key:2,class:"tab-content"},f={key:3,class:"tab-content"},k={key:4,class:"tab-content"},A={key:5,class:"tab-content"},C={key:6,class:"tab-content"},E={key:7,class:"tab-content"},L={key:8,class:"tab-content"},y={key:9,class:"tab-content"};function T(a,e,n,T,R,w){const B=(0,s.g2)("AdminDashboard"),S=(0,s.g2)("AdminUsers"),X=(0,s.g2)("AdminInventory"),I=(0,s.g2)("MenuComponent"),F=(0,s.g2)("AdminReservas"),Q=(0,s.g2)("SyncBusinessInfo"),W=(0,s.g2)("AdminConfig"),_=(0,s.g2)("AdminBackups"),U=(0,s.g2)("AdminLogs");return(0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("header",i,[e[1]||(e[1]=(0,s.Lk)("h1",null,"Panel de Administración",-1)),(0,s.Lk)("div",r,[(0,s.Lk)("span",null,(0,t.v_)(T.currentUser?.nombre||"Administrador"),1),(0,s.Lk)("button",{onClick:e[0]||(e[0]=(...a)=>T.logout&&T.logout(...a)),class:"logout-btn"},"Cerrar Sesión")])]),(0,s.Lk)("div",c,[(0,s.Lk)("aside",l,[(0,s.Lk)("nav",u,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(T.tabs,(a=>((0,s.uX)(),(0,s.CE)("button",{key:a.id,class:(0,t.C4)(["nav-item",{active:T.activeTab===a.id}]),onClick:e=>T.activeTab=a.id},[(0,s.Lk)("span",v,(0,t.v_)(a.icon),1),(0,s.Lk)("span",p,(0,t.v_)(a.name),1)],10,d)))),128))])]),(0,s.Lk)("main",b,["dashboard"===T.activeTab?((0,s.uX)(),(0,s.CE)("div",m,[(0,s.bF)(B,{onChangeTab:T.changeTab},null,8,["onChangeTab"])])):(0,s.Q3)("",!0),"users"===T.activeTab?((0,s.uX)(),(0,s.CE)("div",g,[(0,s.bF)(S,{onUserCreated:T.refreshDashboard},null,8,["onUserCreated"])])):(0,s.Q3)("",!0),"inventory"===T.activeTab?((0,s.uX)(),(0,s.CE)("div",h,[(0,s.bF)(X)])):(0,s.Q3)("",!0),"products"===T.activeTab?((0,s.uX)(),(0,s.CE)("div",f,[(0,s.bF)(I)])):(0,s.Q3)("",!0),"reservas"===T.activeTab?((0,s.uX)(),(0,s.CE)("div",k,[(0,s.bF)(F,{ref:"adminReservasRef"},null,512)])):(0,s.Q3)("",!0),"sync-business-info"===T.activeTab?((0,s.uX)(),(0,s.CE)("div",A,[(0,s.bF)(Q)])):(0,s.Q3)("",!0),"config"===T.activeTab?((0,s.uX)(),(0,s.CE)("div",C,[(0,s.bF)(W)])):(0,s.Q3)("",!0),"backups"===T.activeTab?((0,s.uX)(),(0,s.CE)("div",E,[(0,s.bF)(_)])):(0,s.Q3)("",!0),"logs"===T.activeTab?((0,s.uX)(),(0,s.CE)("div",L,[(0,s.bF)(U)])):(0,s.Q3)("",!0),"reports"===T.activeTab?((0,s.uX)(),(0,s.CE)("div",y,e[2]||(e[2]=[(0,s.Lk)("h2",null,"Reportes",-1),(0,s.Lk)("p",null,"Módulo de reportes en desarrollo...",-1)]))):(0,s.Q3)("",!0)])])])}n(4114);var R=n(144),w=n(1387),B=n(981),S=n(4887),X=n(7816),I=n(2346),F=n(573),Q=n(1874),W=n(7469),_=n(5130);const U={class:"admin-config"},D={class:"config-section"},K={class:"config-item"},x={class:"config-header"},M={class:"toggle-switch"};function V(a,e,n,o,i,r){return(0,s.uX)(),(0,s.CE)("div",U,[e[6]||(e[6]=(0,s.Lk)("h2",null,"Configuración de la Aplicación",-1)),(0,s.Lk)("div",D,[e[5]||(e[5]=(0,s.Lk)("h3",null,"Configuración General",-1)),(0,s.Lk)("div",K,[(0,s.Lk)("div",x,[e[3]||(e[3]=(0,s.Lk)("h4",null,'Botón "Simular WhatsApp"',-1)),(0,s.Lk)("div",M,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"whatsapp-button-toggle","onUpdate:modelValue":e[0]||(e[0]=a=>o.whatsappButtonEnabled=a),onChange:e[1]||(e[1]=(...a)=>o.toggleWhatsAppButton&&o.toggleWhatsAppButton(...a))},null,544),[[_.lH,o.whatsappButtonEnabled]]),e[2]||(e[2]=(0,s.Lk)("label",{for:"whatsapp-button-toggle"},null,-1))])]),e[4]||(e[4]=(0,s.Lk)("p",{class:"config-description"},' Activa o desactiva el botón "Simular WhatsApp" en todas las páginas de la aplicación. Esta función permite a los usuarios simular reservas como si vinieran de WhatsApp. ',-1)),(0,s.Lk)("div",{class:(0,t.C4)(["status-message",{success:o.statusSuccess}])},(0,t.v_)(o.statusMessage),3)])])])}var G=n(7051),P={name:"AdminConfig",setup(){const a=(0,R.KR)(!0),e=(0,R.KR)(""),n=(0,R.KR)(!0);(0,s.sV)((()=>{const e=localStorage.getItem("whatsappButtonEnabled");null!==e&&(a.value="true"===e)}));const t=()=>{try{localStorage.setItem("whatsappButtonEnabled",a.value),G.A.emit("whatsapp-button-config-changed",a.value),e.value=a.value?'Botón "Simular WhatsApp" activado correctamente':'Botón "Simular WhatsApp" desactivado correctamente',n.value=!0,setTimeout((()=>{e.value=""}),5e3)}catch(s){console.error("Error al cambiar la configuración del botón WhatsApp:",s),e.value="Error al cambiar la configuración",n.value=!1}};return{whatsappButtonEnabled:a,toggleWhatsAppButton:t,statusMessage:e,statusSuccess:n}}},z=n(1241);const H=(0,z.A)(P,[["render",V],["__scopeId","data-v-af0f1400"]]);var N=H,j=n(7598),q=n(4970),J=n(4070),O={name:"AdminView",components:{AdminDashboard:X.A,AdminInventory:I.A,AdminUsers:F.A,AdminBackups:Q.A,AdminLogs:W.A,MenuComponent:j["default"],AdminReservas:q.A,SyncBusinessInfo:J["default"],AdminConfig:N},setup(){const a=(0,w.rd)(),e=(0,R.KR)("dashboard"),n=(0,R.KR)(null),t=[{id:"dashboard",name:"Dashboard",icon:"📊"},{id:"users",name:"Usuarios",icon:"👥"},{id:"inventory",name:"Inventario",icon:"📦"},{id:"products",name:"Gestión de Productos",icon:"🍔"},{id:"reservas",name:"Gestión de Reservas",icon:"📅"},{id:"sync-business-info",name:"Sincronización de Información del Negocio",icon:"🔄"},{id:"config",name:"Configuración",icon:"⚙️"},{id:"backups",name:"Respaldos",icon:"💾"},{id:"logs",name:"Logs",icon:"📝"},{id:"reports",name:"Reportes",icon:"📈"}],o=(0,R.KR)(null),i=()=>{"reservas"===e.value&&o.value&&o.value.refreshReservations()};(0,s.sV)((async()=>{try{const e=(0,B.HW)();if(!e)return await(0,S.xE)("Debe iniciar sesión para acceder a esta sección",{title:"Acceso Restringido"}),void a.push("/login");if(!(0,B.hf)("Administrador")&&!(0,B.hf)("Superadministrador"))return await(0,S.xE)("No tiene permisos para acceder a esta sección",{title:"Acceso Denegado"}),void a.push("/menu");n.value=e,G.A.on("nueva-reserva",i)}catch(e){console.error("Error al cargar la vista de Administrador:",e)}})),(0,s.hi)((()=>{G.A.off("nueva-reserva",i)}));const r=a=>{t.some((e=>e.id===a))&&(e.value=a)},c=async()=>{try{(0,B.ri)(),a.push("/login")}catch(e){console.error("Error al cerrar sesión:",e),await(0,S.xE)("Error al cerrar sesión. Por favor, intente nuevamente.")}},l=()=>{console.log("Se creó un nuevo usuario, se actualizará el dashboard"),"dashboard"===e.value&&(e.value="_temp",setTimeout((()=>{e.value="dashboard"}),10))};return{activeTab:e,currentUser:n,tabs:t,changeTab:r,logout:c,refreshDashboard:l,adminReservasRef:o}}};const Y=(0,z.A)(O,[["render",T],["__scopeId","data-v-166db822"]]);var Z=Y}}]);
//# sourceMappingURL=admin.6ca59a3b.js.map