"use strict";(self["webpackChunkwebsap"]=self["webpackChunkwebsap"]||[]).push([[272],{3591:function(e,n,r){r.r(n),r.d(n,{default:function(){return y}});var t=r(6768),o=r(4232);const a={class:"public-menu"},u={key:0},s={key:0},i={key:1,class:"menu-content"},l={key:0,class:"error-message"},d={key:1},c={key:2,class:"error-message"},p={key:1};function m(e,n,r,m,h,k){return(0,t.uX)(),(0,t.CE)("div",a,[n[3]||(n[3]=(0,t.Lk)("h1",null,"Menú Público",-1)),k.menuId?((0,t.uX)(),(0,t.CE)("div",u,[h.loading?((0,t.uX)(),(0,t.CE)("p",s,"Cargando menú con ID: "+(0,o.v_)(k.menuId),1)):h.menu?((0,t.uX)(),(0,t.CE)("div",i,[(0,t.Lk)("h2",null,(0,o.v_)(h.menu.name),1),h.error?((0,t.uX)(),(0,t.CE)("div",l,[(0,t.Lk)("p",null,(0,o.v_)(h.error),1),(0,t.Lk)("button",{onClick:n[0]||(n[0]=(...e)=>k.retryLoadMenu&&k.retryLoadMenu(...e))},"Intentar nuevamente")])):((0,t.uX)(),(0,t.CE)("div",d))])):h.error?((0,t.uX)(),(0,t.CE)("div",c,[(0,t.Lk)("p",null,(0,o.v_)(h.error),1),(0,t.Lk)("button",{onClick:n[1]||(n[1]=(...e)=>k.retryLoadMenu&&k.retryLoadMenu(...e))},"Intentar nuevamente")])):(0,t.Q3)("",!0)])):((0,t.uX)(),(0,t.CE)("div",p,n[2]||(n[2]=[(0,t.Lk)("p",null,"Cargando menú...",-1)])))])}var h={name:"PublicMenu",props:{id:{type:String,required:!1}},data(){return{menu:null,loading:!0,error:null}},computed:{menuId(){const e=this.id,n=this.$route&&this.$route.params?this.$route.params.id:null,r=window.MENU_PUBLIC_ID;return e||n||r}},mounted(){this.loadMenu()},methods:{async loadMenu(){if(this.menuId)try{this.loading=!0,this.error=null;const e=await fetch(`/api/menus/${this.menuId}`,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error(`Error ${e.status}: ${e.statusText}`);const n=e.headers.get("content-type");if(!n||!n.includes("application/json"))throw new Error("La respuesta del servidor no es JSON válido");this.menu=await e.json()}catch(e){console.error("Error al cargar el menú:",e),this.error="No se pudo cargar el menú. Inténtalo de nuevo más tarde."}finally{this.loading=!1}},retryLoadMenu(){this.loadMenu()}}},k=r(1241);const v=(0,k.A)(h,[["render",m],["__scopeId","data-v-9cc87e7c"]]);var y=v}}]);
//# sourceMappingURL=public-menu.2810c342.js.map