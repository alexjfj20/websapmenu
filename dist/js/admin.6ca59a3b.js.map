{"version":3,"file":"js/admin.6ca59a3b.js","mappings":"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","sources":["webpack://websap/./src/views/AdminView.vue","webpack://websap/./src/components/admin/AdminConfig.vue","webpack://websap/./src/components/admin/AdminConfig.vue?f287","webpack://websap/./src/views/AdminView.vue?e347"],"sourcesContent":["<template>\n  <div class=\"admin-container\">\n    <header class=\"admin-header\">\n      <h1>Panel de Administración</h1>\n      <div class=\"user-info\">\n        <span>{{ currentUser?.nombre || 'Administrador' }}</span>\n        <button @click=\"logout\" class=\"logout-btn\">Cerrar Sesión</button>\n      </div>\n    </header>\n\n    <div class=\"admin-layout\">\n      <!-- Barra lateral de navegación -->\n      <aside class=\"sidebar\">\n        <nav class=\"nav-menu\">\n          <button \n            v-for=\"tab in tabs\" \n            :key=\"tab.id\"\n            :class=\"['nav-item', { active: activeTab === tab.id }]\"\n            @click=\"activeTab = tab.id\"\n          >\n            <span class=\"nav-icon\">{{ tab.icon }}</span>\n            <span class=\"nav-text\">{{ tab.name }}</span>\n          </button>\n        </nav>\n      </aside>\n\n      <!-- Contenido principal -->\n      <main class=\"content\">\n        <!-- Dashboard -->\n        <div v-if=\"activeTab === 'dashboard'\" class=\"tab-content\">\n          <AdminDashboard @change-tab=\"changeTab\" />\n        </div>\n\n        <!-- Usuarios -->\n        <div v-if=\"activeTab === 'users'\" class=\"tab-content\">\n          <AdminUsers @user-created=\"refreshDashboard\" />\n        </div>\n\n        <!-- Inventario -->\n        <div v-if=\"activeTab === 'inventory'\" class=\"tab-content\">\n          <AdminInventory />\n        </div>\n\n        <!-- Gestión de productos -->\n        <div v-if=\"activeTab === 'products'\" class=\"tab-content\">\n          <MenuComponent />\n        </div>\n\n        <!-- Gestión de Reservas -->\n        <div v-if=\"activeTab === 'reservas'\" class=\"tab-content\">\n          <AdminReservas ref=\"adminReservasRef\" />\n        </div>\n\n        <!-- Sincronización de Información del Negocio -->\n        <div v-if=\"activeTab === 'sync-business-info'\" class=\"tab-content\">\n          <SyncBusinessInfo />\n        </div>\n\n        <!-- Configuración de la Aplicación -->\n        <div v-if=\"activeTab === 'config'\" class=\"tab-content\">\n          <AdminConfig />\n        </div>\n\n        <!-- Respaldos -->\n        <div v-if=\"activeTab === 'backups'\" class=\"tab-content\">\n          <AdminBackups />\n        </div>\n\n        <!-- Logs -->\n        <div v-if=\"activeTab === 'logs'\" class=\"tab-content\">\n          <AdminLogs />\n        </div>\n\n        <!-- Reportes -->\n        <div v-if=\"activeTab === 'reports'\" class=\"tab-content\">\n          <h2>Reportes</h2>\n          <p>Módulo de reportes en desarrollo...</p>\n        </div>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, onUnmounted, reactive } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { getCurrentUser, logout, hasRole } from '../services/authService';\nimport { alert } from '../services/dialogService';\nimport AdminDashboard from '../components/admin/AdminDashboard.vue';\nimport AdminInventory from '../components/admin/AdminInventory.vue';\nimport AdminUsers from '../components/admin/AdminUsers.vue';\nimport AdminBackups from '../components/admin/AdminBackups.vue';\nimport AdminLogs from '../components/admin/AdminLogs.vue';\nimport AdminConfig from '../components/admin/AdminConfig.vue';\nimport MenuComponent from '../components/MenuComponent.vue';\nimport AdminReservas from '@/components/admin/AdminReservas.vue';\nimport SyncBusinessInfo from '@/components/admin/SyncBusinessInfo.vue'; // Importar componente SyncBusinessInfo\nimport eventBus from '@/utils/eventBus';\n\nexport default {\n  name: 'AdminView',\n  components: {\n    AdminDashboard,\n    AdminInventory,\n    AdminUsers,\n    AdminBackups,\n    AdminLogs,\n    MenuComponent,\n    AdminReservas,\n    SyncBusinessInfo, // Registrar componente SyncBusinessInfo\n    AdminConfig\n  },\n  setup() {\n    const router = useRouter();\n    const activeTab = ref('dashboard');\n    const currentUser = ref(null);\n    \n    // Definir pestañas disponibles\n    const tabs = [\n      { id: 'dashboard', name: 'Dashboard', icon: '📊' },\n      { id: 'users', name: 'Usuarios', icon: '👥' },\n      { id: 'inventory', name: 'Inventario', icon: '📦' },\n      { id: 'products', name: 'Gestión de Productos', icon: '🍔' },\n      { id: 'reservas', name: 'Gestión de Reservas', icon: '📅' },\n      { id: 'sync-business-info', name: 'Sincronización de Información del Negocio', icon: '🔄' },\n      { id: 'config', name: 'Configuración', icon: '⚙️' },\n      { id: 'backups', name: 'Respaldos', icon: '💾' },\n      { id: 'logs', name: 'Logs', icon: '📝' },\n      { id: 'reports', name: 'Reportes', icon: '📈' }\n    ];\n\n    // Referencia al componente AdminReservas\n    const adminReservasRef = ref(null);\n    \n    // Escuchar eventos de nueva reserva\n    const handleNuevaReserva = () => {\n      // Si la pestaña activa es reservas, actualizamos inmediatamente\n      if (activeTab.value === 'reservas' && adminReservasRef.value) {\n        adminReservasRef.value.refreshReservations();\n      }\n    };\n    \n    onMounted(async () => {\n      try {\n        // Verificar permisos de Administrador\n        const user = getCurrentUser();\n        \n        if (!user) {\n          await alert('Debe iniciar sesión para acceder a esta sección', {\n            title: 'Acceso Restringido'\n          });\n          router.push('/login');\n          return;\n        }\n        \n        // Verificar rol de Administrador\n        if (!hasRole('Administrador') && !hasRole('Superadministrador')) {\n          await alert('No tiene permisos para acceder a esta sección', {\n            title: 'Acceso Denegado'\n          });\n          router.push('/menu');\n          return;\n        }\n        \n        currentUser.value = user;\n\n        eventBus.on('nueva-reserva', handleNuevaReserva);\n      } catch (error) {\n        console.error('Error al cargar la vista de Administrador:', error);\n      }\n    });\n\n    onUnmounted(() => {\n      eventBus.off('nueva-reserva', handleNuevaReserva);\n    });\n\n    // Cambiar de pestaña\n    const changeTab = (tabId) => {\n      if (tabs.some(tab => tab.id === tabId)) {\n        activeTab.value = tabId;\n      }\n    };\n\n    // Cerrar sesión\n    const handleLogout = async () => {\n      try {\n        logout();\n        router.push('/login');\n      } catch (error) {\n        console.error('Error al cerrar sesión:', error);\n        await alert('Error al cerrar sesión. Por favor, intente nuevamente.');\n      }\n    };\n\n    // Función para refrescar el dashboard cuando se crea un usuario\n    const refreshDashboard = () => {\n      console.log(\"Se creó un nuevo usuario, se actualizará el dashboard\");\n      // Cambiar temporalmente a otra pestaña y luego volver a dashboard\n      // para forzar la recarga del componente\n      if (activeTab.value === 'dashboard') {\n        activeTab.value = '_temp';\n        setTimeout(() => {\n          activeTab.value = 'dashboard';\n        }, 10);\n      }\n    };\n\n    return {\n      activeTab,\n      currentUser,\n      tabs,\n      changeTab,\n      logout: handleLogout,\n      refreshDashboard,\n      adminReservasRef\n    };\n  }\n};\n</script>\n\n<style scoped>\n.admin-container {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.admin-header {\n  background-color: #1c2b36;\n  color: white;\n  padding: 15px 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n}\n\n.admin-header h1 {\n  font-size: 1.5rem;\n  margin: 0;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.logout-btn {\n  background-color: rgba(255,255,255,0.1);\n  color: white;\n  border: 1px solid rgba(255,255,255,0.2);\n  border-radius: 4px;\n  padding: 6px 12px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.3s;\n}\n\n.logout-btn:hover {\n  background-color: rgba(255,255,255,0.2);\n}\n\n.admin-layout {\n  display: flex;\n  flex: 1;\n}\n\n.sidebar {\n  width: 250px;\n  background-color: #2c3e50;\n  color: white;\n  padding: 20px 0;\n  box-shadow: 2px 0 10px rgba(0,0,0,0.1);\n}\n\n.nav-menu {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.nav-item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 12px 20px;\n  background: transparent;\n  border: none;\n  color: #ecf0f1;\n  cursor: pointer;\n  text-align: left;\n  transition: all 0.3s;\n  border-left: 3px solid transparent;\n}\n\n.nav-item:hover {\n  background-color: rgba(255,255,255,0.1);\n}\n\n.nav-item.active {\n  background-color: rgba(255,255,255,0.2);\n  border-left-color: #4CAF50;\n  font-weight: 600;\n}\n\n.nav-icon {\n  font-size: 20px;\n  width: 24px;\n  text-align: center;\n}\n\n.content {\n  flex: 1;\n  padding: 20px;\n  background-color: #f5f5f5;\n  overflow-y: auto;\n}\n\n.tab-content {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n  padding: 20px;\n  min-height: calc(100vh - 140px);\n}\n\n.coming-soon {\n  text-align: center;\n  padding: 40px 20px;\n  color: #666;\n}\n\n.coming-soon h2 {\n  color: #333;\n  margin-bottom: 10px;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .admin-layout {\n    flex-direction: column;\n  }\n  \n  .sidebar {\n    width: 100%;\n    padding: 10px 0;\n  }\n  \n  .nav-menu {\n    flex-direction: row;\n    overflow-x: auto;\n    white-space: nowrap;\n    gap: 0;\n  }\n  \n  .nav-item {\n    padding: 10px 15px;\n    border-left: none;\n    border-bottom: 3px solid transparent;\n  }\n  \n  .nav-item.active {\n    border-left-color: transparent;\n    border-bottom-color: #4CAF50;\n  }\n  \n  .nav-text {\n    display: none;\n  }\n  \n  .nav-icon {\n    font-size: 24px;\n  }\n}\n\n/* Estilos para la sección de configuración de reservas */\n.reservas-config-section {\n  margin-top: 30px;\n  padding: 20px;\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\n}\n\n.section-description {\n  color: #666;\n  margin-bottom: 20px;\n}\n\n.reservas-settings {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: 0 1px 5px rgba(0,0,0,0.1);\n}\n\n.settings-form h3 {\n  margin-top: 0;\n  margin-bottom: 20px;\n  color: #333;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 10px;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 5px;\n  font-weight: 500;\n  color: #333;\n}\n\n.form-group input[type=\"number\"],\n.form-group input[type=\"time\"] {\n  width: 100%;\n  max-width: 200px;\n  padding: 8px 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 14px;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.checkbox-label input[type=\"checkbox\"] {\n  margin-right: 8px;\n}\n\n.time-slots-container {\n  margin-top: 10px;\n}\n\n.time-slot {\n  display: flex;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.time-slot input {\n  flex: 1;\n  max-width: 150px;\n  margin-right: 10px;\n}\n\n.remove-btn {\n  background: none;\n  border: none;\n  color: #dc3545;\n  cursor: pointer;\n  font-size: 16px;\n  padding: 0 5px;\n}\n\n.add-btn {\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 6px 12px;\n  margin-top: 5px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.3s;\n}\n\n.add-btn:hover {\n  background-color: #0069d9;\n}\n\n.form-actions {\n  margin-top: 25px;\n  display: flex;\n  gap: 10px;\n}\n\n.save-btn {\n  background-color: #28a745;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 8px 15px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.save-btn:hover {\n  background-color: #218838;\n}\n\n.reset-btn {\n  background-color: #6c757d;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 8px 15px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.reset-btn:hover {\n  background-color: #5a6268;\n}\n\n.restaurant-menu-section h2 {\n  margin-bottom: 20px;\n  color: #333;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 10px;\n}\n</style>","<template>\r\n  <div class=\"admin-config\">\r\n    <h2>Configuración de la Aplicación</h2>\r\n    \r\n    <div class=\"config-section\">\r\n      <h3>Configuración General</h3>\r\n      <div class=\"config-item\">\r\n        <div class=\"config-header\">\r\n          <h4>Botón \"Simular WhatsApp\"</h4>\r\n          <div class=\"toggle-switch\">\r\n            <input \r\n              type=\"checkbox\" \r\n              id=\"whatsapp-button-toggle\" \r\n              v-model=\"whatsappButtonEnabled\" \r\n              @change=\"toggleWhatsAppButton\"\r\n            />\r\n            <label for=\"whatsapp-button-toggle\"></label>\r\n          </div>\r\n        </div>\r\n        <p class=\"config-description\">\r\n          Activa o desactiva el botón \"Simular WhatsApp\" en todas las páginas de la aplicación. \r\n          Esta función permite a los usuarios simular reservas como si vinieran de WhatsApp.\r\n        </p>\r\n        <div class=\"status-message\" :class=\"{ 'success': statusSuccess }\">\r\n          {{ statusMessage }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport eventBus from '@/utils/eventBus';\r\n\r\nexport default {\r\n  name: 'AdminConfig',\r\n  setup() {\r\n    const whatsappButtonEnabled = ref(true);\r\n    const statusMessage = ref('');\r\n    const statusSuccess = ref(true);\r\n    \r\n    // Cargar el estado actual al montar el componente\r\n    onMounted(() => {\r\n      const storedValue = localStorage.getItem('whatsappButtonEnabled');\r\n      // Si tiene un valor específico en localStorage, usar ese valor\r\n      if (storedValue !== null) {\r\n        whatsappButtonEnabled.value = storedValue === 'true';\r\n      }\r\n    });\r\n    \r\n    // Función para activar/desactivar el botón de WhatsApp\r\n    const toggleWhatsAppButton = () => {\r\n      try {\r\n        // Guardar en localStorage\r\n        localStorage.setItem('whatsappButtonEnabled', whatsappButtonEnabled.value);\r\n        \r\n        // Emitir evento para notificar al componente WhatsAppSimulator\r\n        eventBus.emit('whatsapp-button-config-changed', whatsappButtonEnabled.value);\r\n        \r\n        // Mostrar mensaje de confirmación\r\n        statusMessage.value = whatsappButtonEnabled.value \r\n          ? 'Botón \"Simular WhatsApp\" activado correctamente' \r\n          : 'Botón \"Simular WhatsApp\" desactivado correctamente';\r\n        statusSuccess.value = true;\r\n        \r\n        // Limpiar el mensaje después de 5 segundos\r\n        setTimeout(() => {\r\n          statusMessage.value = '';\r\n        }, 5000);\r\n      } catch (error) {\r\n        console.error('Error al cambiar la configuración del botón WhatsApp:', error);\r\n        statusMessage.value = 'Error al cambiar la configuración';\r\n        statusSuccess.value = false;\r\n      }\r\n    };\r\n    \r\n    return {\r\n      whatsappButtonEnabled,\r\n      toggleWhatsAppButton,\r\n      statusMessage,\r\n      statusSuccess\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.admin-config {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.admin-config h2 {\r\n  margin-bottom: 30px;\r\n  color: #333;\r\n  border-bottom: 2px solid #4CAF50;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.config-section {\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  margin-bottom: 30px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\r\n}\r\n\r\n.config-section h3 {\r\n  color: #333;\r\n  margin-top: 0;\r\n  margin-bottom: 20px;\r\n  font-size: 18px;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.config-item {\r\n  background-color: white;\r\n  border-radius: 6px;\r\n  padding: 15px;\r\n  margin-bottom: 15px;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n}\r\n\r\n.config-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.config-header h4 {\r\n  margin: 0;\r\n  color: #333;\r\n  font-size: 16px;\r\n}\r\n\r\n.config-description {\r\n  color: #666;\r\n  font-size: 14px;\r\n  margin: 10px 0;\r\n}\r\n\r\n/* Toggle Switch Styles */\r\n.toggle-switch {\r\n  position: relative;\r\n  width: 60px;\r\n  height: 34px;\r\n}\r\n\r\n.toggle-switch input {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\n.toggle-switch label {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #ccc;\r\n  transition: .4s;\r\n  border-radius: 34px;\r\n}\r\n\r\n.toggle-switch label:before {\r\n  position: absolute;\r\n  content: \"\";\r\n  height: 26px;\r\n  width: 26px;\r\n  left: 4px;\r\n  bottom: 4px;\r\n  background-color: white;\r\n  transition: .4s;\r\n  border-radius: 50%;\r\n}\r\n\r\n.toggle-switch input:checked + label {\r\n  background-color: #4CAF50;\r\n}\r\n\r\n.toggle-switch input:checked + label:before {\r\n  transform: translateX(26px);\r\n}\r\n\r\n.status-message {\r\n  margin-top: 15px;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  text-align: center;\r\n  opacity: 0;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.status-message:not(:empty) {\r\n  opacity: 1;\r\n}\r\n\r\n.status-message.success {\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.status-message:not(.success) {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n}\r\n</style>","import { render } from \"./AdminConfig.vue?vue&type=template&id=af0f1400&scoped=true\"\nimport script from \"./AdminConfig.vue?vue&type=script&lang=js\"\nexport * from \"./AdminConfig.vue?vue&type=script&lang=js\"\n\nimport \"./AdminConfig.vue?vue&type=style&index=0&id=af0f1400&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-af0f1400\"]])\n\nexport default __exports__","import { render } from \"./AdminView.vue?vue&type=template&id=166db822&scoped=true\"\nimport script from \"./AdminView.vue?vue&type=script&lang=js\"\nexport * from \"./AdminView.vue?vue&type=script&lang=js\"\n\nimport \"./AdminView.vue?vue&type=style&index=0&id=166db822&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-166db822\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","$setup","currentUser","nombre","onClick","_cache","args","logout","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","tabs","tab","id","_normalizeClass","active","activeTab","$event","_hoisted_8","icon","_hoisted_9","name","_hoisted_7","_hoisted_10","_hoisted_11","_createVNode","_component_AdminDashboard","onChangeTab","changeTab","_createCommentVNode","_hoisted_12","_component_AdminUsers","onUserCreated","refreshDashboard","_hoisted_13","_component_AdminInventory","_hoisted_14","_component_MenuComponent","_hoisted_15","_component_AdminReservas","ref","_hoisted_16","_component_SyncBusinessInfo","_hoisted_17","_component_AdminConfig","_hoisted_18","_component_AdminBackups","_hoisted_19","_component_AdminLogs","_hoisted_20","type","whatsappButtonEnabled","onChange","toggleWhatsAppButton","for","statusSuccess","statusMessage","setup","onMounted","storedValue","localStorage","getItem","value","setItem","eventBus","emit","setTimeout","error","console","__exports__","components","AdminDashboard","AdminInventory","AdminUsers","AdminBackups","AdminLogs","MenuComponent","AdminReservas","SyncBusinessInfo","AdminConfig","router","useRouter","adminReservasRef","handleNuevaReserva","refreshReservations","async","user","getCurrentUser","alert","title","push","hasRole","on","onUnmounted","off","tabId","some","handleLogout","log","render"],"sourceRoot":""}