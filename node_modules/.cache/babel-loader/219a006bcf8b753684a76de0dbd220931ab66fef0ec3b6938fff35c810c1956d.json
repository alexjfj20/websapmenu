{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, vModelRadio as _vModelRadio, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = [\"id\"];\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"error\"\n};\nconst _hoisted_4 = {\n  key: 2,\n  class: \"menu-content\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"business-info\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"business-header-banner\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"business-content\"\n};\nconst _hoisted_9 = {\n  class: \"description\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"contact-info\"\n};\nconst _hoisted_11 = {\n  key: 0\n};\nconst _hoisted_12 = {\n  key: 1\n};\nconst _hoisted_13 = {\n  class: \"menu-list\"\n};\nconst _hoisted_14 = {\n  class: \"menu-items\"\n};\nconst _hoisted_15 = {\n  class: \"item-image-container\"\n};\nconst _hoisted_16 = [\"src\"];\nconst _hoisted_17 = {\n  key: 1,\n  src: \"https://via.placeholder.com/150?text=Sin+Imagen\",\n  alt: \"Sin imagen disponible\",\n  class: \"item-image\"\n};\nconst _hoisted_18 = {\n  class: \"item-details\"\n};\nconst _hoisted_19 = {\n  class: \"item-description\"\n};\nconst _hoisted_20 = {\n  class: \"item-price\"\n};\nconst _hoisted_21 = {\n  key: 0,\n  class: \"includes-drink\"\n};\nconst _hoisted_22 = [\"onClick\", \"disabled\"];\nconst _hoisted_23 = {\n  key: 0,\n  class: \"btn-icon\"\n};\nconst _hoisted_24 = {\n  key: 1,\n  class: \"btn-icon\"\n};\nconst _hoisted_25 = {\n  key: 0,\n  class: \"menu-list special-menu-list\"\n};\nconst _hoisted_26 = {\n  class: \"menu-items\"\n};\nconst _hoisted_27 = {\n  class: \"item-image-container\"\n};\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = {\n  key: 1,\n  src: \"https://via.placeholder.com/150?text=Sin+Imagen\",\n  alt: \"Sin imagen disponible\",\n  class: \"item-image\"\n};\nconst _hoisted_30 = {\n  class: \"item-details\"\n};\nconst _hoisted_31 = {\n  class: \"item-description\"\n};\nconst _hoisted_32 = {\n  class: \"item-price\"\n};\nconst _hoisted_33 = {\n  key: 0,\n  class: \"includes-drink\"\n};\nconst _hoisted_34 = [\"onClick\", \"disabled\"];\nconst _hoisted_35 = {\n  key: 0,\n  class: \"btn-icon\"\n};\nconst _hoisted_36 = {\n  key: 1,\n  class: \"btn-icon\"\n};\nconst _hoisted_37 = {\n  class: \"order-section\",\n  ref: \"orderSection\"\n};\nconst _hoisted_38 = {\n  key: 0,\n  class: \"empty-cart\"\n};\nconst _hoisted_39 = {\n  key: 1,\n  class: \"cart-items\"\n};\nconst _hoisted_40 = {\n  class: \"cart-item-details\"\n};\nconst _hoisted_41 = {\n  class: \"cart-item-actions\"\n};\nconst _hoisted_42 = [\"onClick\"];\nconst _hoisted_43 = {\n  class: \"quantity-display\"\n};\nconst _hoisted_44 = [\"onClick\"];\nconst _hoisted_45 = [\"onClick\"];\nconst _hoisted_46 = {\n  class: \"cart-total\"\n};\nconst _hoisted_47 = {\n  class: \"customer-form\"\n};\nconst _hoisted_48 = {\n  class: \"form-row\"\n};\nconst _hoisted_49 = {\n  class: \"form-row\"\n};\nconst _hoisted_50 = {\n  class: \"form-row\"\n};\nconst _hoisted_51 = {\n  class: \"form-row\"\n};\nconst _hoisted_52 = {\n  class: \"payment-methods-selection\"\n};\nconst _hoisted_53 = {\n  class: \"payment-options\"\n};\nconst _hoisted_54 = {\n  class: \"payment-option\"\n};\nconst _hoisted_55 = {\n  class: \"payment-option\"\n};\nconst _hoisted_56 = {\n  class: \"payment-option\"\n};\nconst _hoisted_57 = {\n  class: \"form-row\"\n};\nconst _hoisted_58 = {\n  class: \"order-actions\"\n};\nconst _hoisted_59 = {\n  class: \"cart-items-count\"\n};\nconst _hoisted_60 = {\n  key: 2,\n  class: \"payment-section\"\n};\nconst _hoisted_61 = {\n  class: \"payment-methods\"\n};\nconst _hoisted_62 = {\n  key: 0,\n  class: \"payment-method\"\n};\nconst _hoisted_63 = [\"src\"];\nconst _hoisted_64 = {\n  key: 1,\n  class: \"payment-method\"\n};\nconst _hoisted_65 = [\"src\"];\nconst _hoisted_66 = {\n  key: 1,\n  class: \"payment-detail\"\n};\nconst _hoisted_67 = {\n  key: 2,\n  class: \"payment-method\"\n};\nconst _hoisted_68 = {\n  class: \"payment-detail\"\n};\nconst _hoisted_69 = {\n  key: 3,\n  class: \"payment-method\"\n};\nconst _hoisted_70 = {\n  class: \"payment-detail\"\n};\nconst _hoisted_71 = {\n  class: \"reserva-section container mt-5\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ReservaForm = _resolveComponent(\"ReservaForm\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: \"shared-menu-container\",\n    id: $setup.menuId\n  }, [$setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _cache[10] || (_cache[10] = [_createElementVNode(\"div\", {\n    class: \"spinner\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"p\", null, \"Cargando menú...\", -1 /* HOISTED */)]))) : $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"p\", null, _toDisplayString($setup.error), 1 /* TEXT */)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createCommentVNode(\" Información del negocio \"), $setup.menuData?.businessInfo ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [$setup.menuData.businessInfo.logo && $setup.isValidImage($setup.menuData.businessInfo.logo) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"img\", {\n    src: $setup.fixImageFormat($setup.menuData.businessInfo.logo),\n    alt: \"Logo\",\n    class: \"business-logo-banner\"\n  }, null, 8 /* PROPS */, _hoisted_7)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"h1\", null, _toDisplayString($setup.menuData.businessInfo.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_9, _toDisplayString($setup.menuData.businessInfo.description), 1 /* TEXT */), $setup.menuData.businessInfo.contact || $setup.menuData.businessInfo.address ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [$setup.menuData.businessInfo.contact ? (_openBlock(), _createElementBlock(\"p\", _hoisted_11, [_cache[11] || (_cache[11] = _createElementVNode(\"strong\", null, \"Contacto:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.menuData.businessInfo.contact), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $setup.menuData.businessInfo.address ? (_openBlock(), _createElementBlock(\"p\", _hoisted_12, [_cache[12] || (_cache[12] = _createElementVNode(\"strong\", null, \"Dirección:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.menuData.businessInfo.address), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Lista de productos \"), _createElementVNode(\"div\", null, [_createCommentVNode(\" Platos regulares \"), _createElementVNode(\"div\", _hoisted_13, [_cache[13] || (_cache[13] = _createElementVNode(\"h2\", null, \"Nuestro Menú\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.regularItems, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"menu-item\"\n    }, [_createElementVNode(\"div\", _hoisted_15, [item.image && $setup.isValidImage(item.image) ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: $setup.fixImageFormat(item.image),\n      alt: \"Imagen del producto\",\n      class: \"item-image\"\n    }, null, 8 /* PROPS */, _hoisted_16)) : (_openBlock(), _createElementBlock(\"img\", _hoisted_17))]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"h3\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_19, _toDisplayString(item.description), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_20, \"$\" + _toDisplayString($setup.formatPrice(item.price)), 1 /* TEXT */), item.includesDrink ? (_openBlock(), _createElementBlock(\"p\", _hoisted_21, \"Incluye refresco\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n      onClick: $event => $setup.addToCart(item),\n      class: _normalizeClass([\"add-to-cart-btn\", {\n        'disabled-btn': !item.realAvailability || item.realAvailability <= 0\n      }]),\n      disabled: !item.realAvailability || item.realAvailability <= 0\n    }, [!item.realAvailability || item.realAvailability <= 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_23, \"❌\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_24, \"🛒\")), _createTextVNode(\" \" + _toDisplayString(!item.realAvailability || item.realAvailability <= 0 ? 'No disponible' : 'Añadir al pedido'), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_22)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" Platos especiales (solo se muestra si hay platos especiales) \"), $setup.specialItems.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [_cache[14] || (_cache[14] = _createElementVNode(\"h2\", null, \"Platos Especiales\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_26, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.specialItems, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"menu-item special-item\"\n    }, [_createElementVNode(\"div\", _hoisted_27, [item.image && $setup.isValidImage(item.image) ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: $setup.fixImageFormat(item.image),\n      alt: \"Imagen del producto\",\n      class: \"item-image\"\n    }, null, 8 /* PROPS */, _hoisted_28)) : (_openBlock(), _createElementBlock(\"img\", _hoisted_29))]), _createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"h3\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_31, _toDisplayString(item.description), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_32, \"$\" + _toDisplayString($setup.formatPrice(item.price)), 1 /* TEXT */), item.includesDrink ? (_openBlock(), _createElementBlock(\"p\", _hoisted_33, \"Incluye refresco\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n      onClick: $event => $setup.addToCart(item),\n      class: _normalizeClass([\"add-to-cart-btn special-button\", {\n        'disabled-btn': !item.realAvailability || item.realAvailability <= 0\n      }]),\n      disabled: !item.realAvailability || item.realAvailability <= 0\n    }, [!item.realAvailability || item.realAvailability <= 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_35, \"❌\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_36, \"🛒\")), _createTextVNode(\" \" + _toDisplayString(!item.realAvailability || item.realAvailability <= 0 ? 'No disponible' : 'Añadir al pedido'), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_34)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Sección de \\\"Tu Pedido\\\" - Siempre visible aunque vacía \"), _createElementVNode(\"div\", _hoisted_37, [_cache[23] || (_cache[23] = _createElementVNode(\"h2\", null, \"Tu Pedido\", -1 /* HOISTED */)), $setup.cartItems.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_38, _cache[15] || (_cache[15] = [_createElementVNode(\"p\", null, \"Tu pedido está vacío\", -1 /* HOISTED */), _createElementVNode(\"p\", {\n    class: \"empty-cart-message\"\n  }, \"Añade productos del menú para comenzar tu pedido\", -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_39, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.cartItems, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"cart-item\"\n    }, [_createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"h3\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"p\", null, \"$\" + _toDisplayString($setup.formatPrice(item.price)) + \" x \" + _toDisplayString(item.quantity), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_41, [_createElementVNode(\"button\", {\n      onClick: $event => $setup.decreaseQuantity(index),\n      class: \"quantity-btn\"\n    }, \"-\", 8 /* PROPS */, _hoisted_42), _createElementVNode(\"span\", _hoisted_43, _toDisplayString(item.quantity), 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $setup.increaseQuantity(index),\n      class: \"quantity-btn\"\n    }, \"+\", 8 /* PROPS */, _hoisted_44), _createElementVNode(\"button\", {\n      onClick: $event => $setup.removeFromCart(index),\n      class: \"remove-btn\"\n    }, [...(_cache[16] || (_cache[16] = [_createElementVNode(\"span\", {\n      class: \"btn-icon\"\n    }, \"🗑️\", -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_45)])]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", _hoisted_46, [_createElementVNode(\"h3\", null, \"Total: $\" + _toDisplayString($setup.formatPrice($setup.cartTotal)), 1 /* TEXT */), _createCommentVNode(\" Formulario de datos del cliente \"), _createElementVNode(\"div\", _hoisted_47, [_cache[21] || (_cache[21] = _createElementVNode(\"h4\", null, \"Datos del Cliente\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_48, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.customerInfo.name = $event),\n    placeholder: \"Nombres completos\",\n    class: \"form-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customerInfo.name]])]), _createElementVNode(\"div\", _hoisted_49, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"tel\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.customerInfo.phone = $event),\n    placeholder: \"Teléfono\",\n    class: \"form-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customerInfo.phone]])]), _createElementVNode(\"div\", _hoisted_50, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.customerInfo.email = $event),\n    placeholder: \"Correo electrónico\",\n    class: \"form-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customerInfo.email]])]), _createElementVNode(\"div\", _hoisted_51, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.customerInfo.address = $event),\n    placeholder: \"Dirección de entrega\",\n    class: \"form-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customerInfo.address]])]), _createCommentVNode(\" Lista horizontal de métodos de pago \"), _createElementVNode(\"div\", _hoisted_52, [_cache[20] || (_cache[20] = _createElementVNode(\"h4\", null, \"Forma de Pago\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_53, [_createElementVNode(\"label\", _hoisted_54, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.selectedPaymentMethod = $event),\n    value: \"qr\",\n    name: \"paymentMethod\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $setup.selectedPaymentMethod]]), _cache[17] || (_cache[17] = _createElementVNode(\"span\", {\n    class: \"payment-option-text\"\n  }, \"QR\", -1 /* HOISTED */))]), _createElementVNode(\"label\", _hoisted_55, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.selectedPaymentMethod = $event),\n    value: \"nequi\",\n    name: \"paymentMethod\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $setup.selectedPaymentMethod]]), _cache[18] || (_cache[18] = _createElementVNode(\"span\", {\n    class: \"payment-option-text\"\n  }, \"Nequi\", -1 /* HOISTED */))]), _createElementVNode(\"label\", _hoisted_56, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.selectedPaymentMethod = $event),\n    value: \"cash\",\n    name: \"paymentMethod\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $setup.selectedPaymentMethod]]), _cache[19] || (_cache[19] = _createElementVNode(\"span\", {\n    class: \"payment-option-text\"\n  }, \"Contra entrega\", -1 /* HOISTED */))])])]), _createCommentVNode(\" Campo de mensaje adicional \"), _createElementVNode(\"div\", _hoisted_57, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.additionalMessage = $event),\n    placeholder: \"Mensaje o instrucciones adicionales\",\n    class: \"form-textarea\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.additionalMessage]])])]), _createElementVNode(\"div\", _hoisted_58, [_createElementVNode(\"button\", {\n    onClick: _cache[8] || (_cache[8] = (...args) => $setup.completeOrder && $setup.completeOrder(...args)),\n    class: \"complete-order-btn\"\n  }, _cache[22] || (_cache[22] = [_createElementVNode(\"span\", {\n    class: \"btn-icon\"\n  }, \"📱\", -1 /* HOISTED */), _createTextVNode(\" Enviar por WhatsApp \")]))])])]))], 512 /* NEED_PATCH */), _createCommentVNode(\" Botón flotante para ver pedido (visible cuando hay items y se hace scroll) \"), $setup.cartItems.length > 0 ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    class: \"floating-cart-button\",\n    onClick: _cache[9] || (_cache[9] = (...args) => $setup.scrollToOrder && $setup.scrollToOrder(...args))\n  }, [_createElementVNode(\"span\", _hoisted_59, _toDisplayString($setup.totalItems), 1 /* TEXT */), _cache[24] || (_cache[24] = _createElementVNode(\"span\", null, \"Ver Pedido\", -1 /* HOISTED */))])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Nueva sección: Forma de Pago \"), $setup.hasPaymentInfo ? (_openBlock(), _createElementBlock(\"div\", _hoisted_60, [_cache[31] || (_cache[31] = _createElementVNode(\"h2\", null, \"Forma de Pago\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_61, [$setup.menuData?.businessInfo?.paymentInfo?.qrImage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_62, [_createElementVNode(\"h3\", null, _toDisplayString($setup.menuData?.businessInfo?.paymentInfo?.qrTitle || 'Código QR de Pago'), 1 /* TEXT */), $setup.menuData?.businessInfo?.paymentInfo?.qrImage && $setup.isValidImage($setup.menuData?.businessInfo?.paymentInfo?.qrImage) ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.fixImageFormat($setup.menuData?.businessInfo?.paymentInfo?.qrImage),\n    alt: \"QR de Pago\",\n    class: \"payment-image\"\n  }, null, 8 /* PROPS */, _hoisted_63)) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), $setup.menuData?.businessInfo?.paymentInfo?.nequiNumber || $setup.menuData?.businessInfo?.paymentInfo?.nequiImage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_64, [_cache[26] || (_cache[26] = _createElementVNode(\"h3\", null, \"Pago con Nequi\", -1 /* HOISTED */)), $setup.menuData?.businessInfo?.paymentInfo?.nequiImage && $setup.isValidImage($setup.menuData?.businessInfo?.paymentInfo?.nequiImage) ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.fixImageFormat($setup.menuData?.businessInfo?.paymentInfo?.nequiImage),\n    alt: \"Nequi\",\n    class: \"payment-image\"\n  }, null, 8 /* PROPS */, _hoisted_65)) : _createCommentVNode(\"v-if\", true), $setup.menuData?.businessInfo?.paymentInfo?.nequiNumber ? (_openBlock(), _createElementBlock(\"p\", _hoisted_66, [_cache[25] || (_cache[25] = _createElementVNode(\"strong\", null, \"Número:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.menuData?.businessInfo?.paymentInfo?.nequiNumber), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), $setup.menuData?.businessInfo?.paymentInfo?.bankInfo ? (_openBlock(), _createElementBlock(\"div\", _hoisted_67, [_cache[28] || (_cache[28] = _createElementVNode(\"h3\", null, \"Pago Bancario\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_68, [_cache[27] || (_cache[27] = _createElementVNode(\"strong\", null, \"Información Bancaria:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.menuData?.businessInfo?.paymentInfo?.bankInfo), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true), $setup.menuData?.businessInfo?.paymentInfo?.otherPaymentMethods ? (_openBlock(), _createElementBlock(\"div\", _hoisted_69, [_cache[30] || (_cache[30] = _createElementVNode(\"h3\", null, \"Otras Formas de Pago\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_70, [_cache[29] || (_cache[29] = _createElementVNode(\"strong\", null, \"Métodos Adicionales:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.menuData?.businessInfo?.paymentInfo?.otherPaymentMethods), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true)])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Añadir el componente ReservaForm en una sección visible \"), _createElementVNode(\"div\", _hoisted_71, [_cache[32] || (_cache[32] = _createElementVNode(\"h3\", {\n    class: \"text-center mb-4\"\n  }, \"¿Quieres hacer una reserva?\", -1 /* HOISTED */)), _createVNode(_component_ReservaForm)]), _createCommentVNode(\" Sistema de notificaciones toast \"), $setup.toast.visible ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 3,\n    class: _normalizeClass([\"toast-notification\", $setup.toast.type])\n  }, _toDisplayString($setup.toast.message), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true)])]))], 8 /* PROPS */, _hoisted_1);\n}","map":{"version":3,"names":["key","class","src","alt","ref","_createElementBlock","id","$setup","menuId","isLoading","_hoisted_2","_cache","_createElementVNode","error","_hoisted_3","_toDisplayString","_hoisted_4","_createCommentVNode","menuData","businessInfo","_hoisted_5","logo","isValidImage","_hoisted_6","fixImageFormat","_hoisted_7","_hoisted_8","name","_hoisted_9","description","contact","address","_hoisted_10","_hoisted_11","_createTextVNode","_hoisted_12","_hoisted_13","_hoisted_14","_Fragment","_renderList","regularItems","item","index","_hoisted_15","image","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","formatPrice","price","includesDrink","_hoisted_21","onClick","$event","addToCart","_normalizeClass","realAvailability","disabled","_hoisted_23","_hoisted_24","_hoisted_22","specialItems","length","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_35","_hoisted_36","_hoisted_34","_hoisted_37","cartItems","_hoisted_38","_hoisted_39","_hoisted_40","quantity","_hoisted_41","decreaseQuantity","_hoisted_42","_hoisted_43","increaseQuantity","_hoisted_44","removeFromCart","_hoisted_45","_hoisted_46","cartTotal","_hoisted_47","_hoisted_48","type","customerInfo","placeholder","_hoisted_49","phone","_hoisted_50","email","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","selectedPaymentMethod","value","_hoisted_55","_hoisted_56","_hoisted_57","additionalMessage","_hoisted_58","args","completeOrder","scrollToOrder","_hoisted_59","totalItems","hasPaymentInfo","_hoisted_60","_hoisted_61","paymentInfo","qrImage","_hoisted_62","qrTitle","_hoisted_63","nequiNumber","nequiImage","_hoisted_64","_hoisted_65","_hoisted_66","bankInfo","_hoisted_67","_hoisted_68","otherPaymentMethods","_hoisted_69","_hoisted_70","_hoisted_71","_createVNode","_component_ReservaForm","toast","visible","message","_hoisted_1"],"sources":["F:\\Driver google\\VUE.JS-2\\VUE-JS\\websap\\src\\views\\SharedMenuView.vue"],"sourcesContent":["<template>\r\n  <div class=\"shared-menu-container\" :id=\"menuId\">\r\n    <div v-if=\"isLoading\" class=\"loading\">\r\n      <div class=\"spinner\"></div>\r\n      <p>Cargando menú...</p>\r\n    </div>\r\n    \r\n    <div v-else-if=\"error\" class=\"error\">\r\n      <p>{{ error }}</p>\r\n    </div>\r\n    \r\n    <div v-else class=\"menu-content\">\r\n    <!-- Información del negocio -->\r\n      <div v-if=\"menuData?.businessInfo\" class=\"business-info\">\r\n        <div class=\"business-header-banner\" v-if=\"menuData.businessInfo.logo && isValidImage(menuData.businessInfo.logo)\">\r\n          <img :src=\"fixImageFormat(menuData.businessInfo.logo)\" alt=\"Logo\" class=\"business-logo-banner\">\r\n        </div>\r\n        <div class=\"business-content\">\r\n          <h1>{{ menuData.businessInfo.name }}</h1>\r\n          <p class=\"description\">{{ menuData.businessInfo.description }}</p>\r\n          <div class=\"contact-info\" v-if=\"menuData.businessInfo.contact || menuData.businessInfo.address\">\r\n            <p v-if=\"menuData.businessInfo.contact\"><strong>Contacto:</strong> {{ menuData.businessInfo.contact }}</p>\r\n            <p v-if=\"menuData.businessInfo.address\"><strong>Dirección:</strong> {{ menuData.businessInfo.address }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Lista de productos -->\r\n      <div>\r\n        <!-- Platos regulares -->\r\n        <div class=\"menu-list\">\r\n          <h2>Nuestro Menú</h2>\r\n          <div class=\"menu-items\">\r\n            <div v-for=\"(item, index) in regularItems\" :key=\"index\" class=\"menu-item\">\r\n              <div class=\"item-image-container\">\r\n                <img v-if=\"item.image && isValidImage(item.image)\" :src=\"fixImageFormat(item.image)\" alt=\"Imagen del producto\" class=\"item-image\">\r\n                <img v-else src=\"https://via.placeholder.com/150?text=Sin+Imagen\" alt=\"Sin imagen disponible\" class=\"item-image\">\r\n              </div>\r\n              <div class=\"item-details\">\r\n                <h3>{{ item.name }}</h3>\r\n                <p class=\"item-description\">{{ item.description }}</p>\r\n                <p class=\"item-price\">${{ formatPrice(item.price) }}</p>\r\n                <p class=\"includes-drink\" v-if=\"item.includesDrink\">Incluye refresco</p>\r\n                <button \r\n                  @click=\"addToCart(item)\" \r\n                  class=\"add-to-cart-btn\"\r\n                  :disabled=\"!item.realAvailability || item.realAvailability <= 0\"\r\n                  :class=\"{ 'disabled-btn': !item.realAvailability || item.realAvailability <= 0 }\"\r\n                >\r\n                  <span v-if=\"!item.realAvailability || item.realAvailability <= 0\" class=\"btn-icon\">❌</span>\r\n                  <span v-else class=\"btn-icon\">🛒</span>\r\n                  {{ !item.realAvailability || item.realAvailability <= 0 ? 'No disponible' : 'Añadir al pedido' }}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Platos especiales (solo se muestra si hay platos especiales) -->\r\n        <div v-if=\"specialItems.length > 0\" class=\"menu-list special-menu-list\">\r\n          <h2>Platos Especiales</h2>\r\n          <div class=\"menu-items\">\r\n            <div v-for=\"(item, index) in specialItems\" :key=\"index\" class=\"menu-item special-item\">\r\n              <div class=\"item-image-container\">\r\n                <img v-if=\"item.image && isValidImage(item.image)\" :src=\"fixImageFormat(item.image)\" alt=\"Imagen del producto\" class=\"item-image\">\r\n                <img v-else src=\"https://via.placeholder.com/150?text=Sin+Imagen\" alt=\"Sin imagen disponible\" class=\"item-image\">\r\n              </div>\r\n              <div class=\"item-details\">\r\n                <h3>{{ item.name }}</h3>\r\n                <p class=\"item-description\">{{ item.description }}</p>\r\n                <p class=\"item-price\">${{ formatPrice(item.price) }}</p>\r\n                <p class=\"includes-drink\" v-if=\"item.includesDrink\">Incluye refresco</p>\r\n                <button \r\n                  @click=\"addToCart(item)\" \r\n                  class=\"add-to-cart-btn special-button\"\r\n                  :disabled=\"!item.realAvailability || item.realAvailability <= 0\"\r\n                  :class=\"{ 'disabled-btn': !item.realAvailability || item.realAvailability <= 0 }\"\r\n                >\r\n                  <span v-if=\"!item.realAvailability || item.realAvailability <= 0\" class=\"btn-icon\">❌</span>\r\n                  <span v-else class=\"btn-icon\">🛒</span>\r\n                  {{ !item.realAvailability || item.realAvailability <= 0 ? 'No disponible' : 'Añadir al pedido' }}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Sección de \"Tu Pedido\" - Siempre visible aunque vacía -->\r\n        <div class=\"order-section\" ref=\"orderSection\">\r\n          <h2>Tu Pedido</h2>\r\n          \r\n          <div v-if=\"cartItems.length === 0\" class=\"empty-cart\">\r\n            <p>Tu pedido está vacío</p>\r\n            <p class=\"empty-cart-message\">Añade productos del menú para comenzar tu pedido</p>\r\n          </div>\r\n          \r\n          <div v-else class=\"cart-items\">\r\n            <div v-for=\"(item, index) in cartItems\" :key=\"index\" class=\"cart-item\">\r\n              <div class=\"cart-item-details\">\r\n                <h3>{{ item.name }}</h3>\r\n                <p>${{ formatPrice(item.price) }} x {{ item.quantity }}</p>\r\n              </div>\r\n              <div class=\"cart-item-actions\">\r\n                <button @click=\"decreaseQuantity(index)\" class=\"quantity-btn\">-</button>\r\n                <span class=\"quantity-display\">{{ item.quantity }}</span>\r\n                <button @click=\"increaseQuantity(index)\" class=\"quantity-btn\">+</button>\r\n                <button @click=\"removeFromCart(index)\" class=\"remove-btn\">\r\n                  <span class=\"btn-icon\">🗑️</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"cart-total\">\r\n              <h3>Total: ${{ formatPrice(cartTotal) }}</h3>\r\n              \r\n              <!-- Formulario de datos del cliente -->\r\n              <div class=\"customer-form\">\r\n                <h4>Datos del Cliente</h4>\r\n                <div class=\"form-row\">\r\n                  <input type=\"text\" v-model=\"customerInfo.name\" placeholder=\"Nombres completos\" class=\"form-input\">\r\n                </div>\r\n                <div class=\"form-row\">\r\n                  <input type=\"tel\" v-model=\"customerInfo.phone\" placeholder=\"Teléfono\" class=\"form-input\">\r\n                </div>\r\n                <div class=\"form-row\">\r\n                  <input type=\"email\" v-model=\"customerInfo.email\" placeholder=\"Correo electrónico\" class=\"form-input\">\r\n                </div>\r\n                <div class=\"form-row\">\r\n                  <input type=\"text\" v-model=\"customerInfo.address\" placeholder=\"Dirección de entrega\" class=\"form-input\">\r\n                </div>\r\n                \r\n                <!-- Lista horizontal de métodos de pago -->\r\n                <div class=\"payment-methods-selection\">\r\n                  <h4>Forma de Pago</h4>\r\n                  <div class=\"payment-options\">\r\n                    <label class=\"payment-option\">\r\n                      <input type=\"radio\" v-model=\"selectedPaymentMethod\" value=\"qr\" name=\"paymentMethod\">\r\n                      <span class=\"payment-option-text\">QR</span>\r\n                    </label>\r\n                    <label class=\"payment-option\">\r\n                      <input type=\"radio\" v-model=\"selectedPaymentMethod\" value=\"nequi\" name=\"paymentMethod\">\r\n                      <span class=\"payment-option-text\">Nequi</span>\r\n                    </label>\r\n                    <label class=\"payment-option\">\r\n                      <input type=\"radio\" v-model=\"selectedPaymentMethod\" value=\"cash\" name=\"paymentMethod\">\r\n                      <span class=\"payment-option-text\">Contra entrega</span>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n                \r\n                <!-- Campo de mensaje adicional -->\r\n                <div class=\"form-row\">\r\n                  <textarea v-model=\"additionalMessage\" placeholder=\"Mensaje o instrucciones adicionales\" class=\"form-textarea\"></textarea>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"order-actions\">\r\n                <button @click=\"completeOrder\" class=\"complete-order-btn\">\r\n                  <span class=\"btn-icon\">📱</span> Enviar por WhatsApp\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Botón flotante para ver pedido (visible cuando hay items y se hace scroll) -->\r\n        <div v-if=\"cartItems.length > 0\" class=\"floating-cart-button\" @click=\"scrollToOrder\">\r\n          <span class=\"cart-items-count\">{{ totalItems }}</span>\r\n          <span>Ver Pedido</span>\r\n        </div>\r\n        \r\n        <!-- Nueva sección: Forma de Pago -->\r\n        <div v-if=\"hasPaymentInfo\" class=\"payment-section\">\r\n          <h2>Forma de Pago</h2>\r\n          <div class=\"payment-methods\">\r\n            <div v-if=\"menuData?.businessInfo?.paymentInfo?.qrImage\" class=\"payment-method\">\r\n              <h3>{{ menuData?.businessInfo?.paymentInfo?.qrTitle || 'Código QR de Pago' }}</h3>\r\n              <img \r\n                v-if=\"menuData?.businessInfo?.paymentInfo?.qrImage && isValidImage(menuData?.businessInfo?.paymentInfo?.qrImage)\" \r\n                :src=\"fixImageFormat(menuData?.businessInfo?.paymentInfo?.qrImage)\" \r\n                alt=\"QR de Pago\" \r\n                class=\"payment-image\"\r\n              >\r\n            </div>\r\n            \r\n            <div v-if=\"menuData?.businessInfo?.paymentInfo?.nequiNumber || menuData?.businessInfo?.paymentInfo?.nequiImage\" class=\"payment-method\">\r\n              <h3>Pago con Nequi</h3>\r\n              <img \r\n                v-if=\"menuData?.businessInfo?.paymentInfo?.nequiImage && isValidImage(menuData?.businessInfo?.paymentInfo?.nequiImage)\" \r\n                :src=\"fixImageFormat(menuData?.businessInfo?.paymentInfo?.nequiImage)\" \r\n                alt=\"Nequi\" \r\n                class=\"payment-image\"\r\n              >\r\n              <p v-if=\"menuData?.businessInfo?.paymentInfo?.nequiNumber\" class=\"payment-detail\">\r\n                <strong>Número:</strong> {{ menuData?.businessInfo?.paymentInfo?.nequiNumber }}\r\n              </p>\r\n            </div>\r\n            \r\n            <div v-if=\"menuData?.businessInfo?.paymentInfo?.bankInfo\" class=\"payment-method\">\r\n              <h3>Pago Bancario</h3>\r\n              <p class=\"payment-detail\">\r\n                <strong>Información Bancaria:</strong> {{ menuData?.businessInfo?.paymentInfo?.bankInfo }}\r\n              </p>\r\n            </div>\r\n            \r\n            <div v-if=\"menuData?.businessInfo?.paymentInfo?.otherPaymentMethods\" class=\"payment-method\">\r\n              <h3>Otras Formas de Pago</h3>\r\n              <p class=\"payment-detail\">\r\n                <strong>Métodos Adicionales:</strong> {{ menuData?.businessInfo?.paymentInfo?.otherPaymentMethods }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Añadir el componente ReservaForm en una sección visible -->\r\n        <div class=\"reserva-section container mt-5\">\r\n          <h3 class=\"text-center mb-4\">¿Quieres hacer una reserva?</h3>\r\n          <ReservaForm />\r\n        </div>\r\n        \r\n        <!-- Sistema de notificaciones toast -->\r\n        <div v-if=\"toast.visible\" \r\n             class=\"toast-notification\" \r\n             :class=\"toast.type\">\r\n          {{ toast.message }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted, reactive, onUnmounted } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport { getSharedMenu } from '../services/menuService';\r\nimport { saveReservation } from '../services/reservaService'; // Importamos el servicio de reservas\r\nimport { getMenuItems, updateItemAvailability } from '../services/storageService'; // Importar funciones necesarias\r\nimport ReservaForm from '../components/reservas/ReservaForm.vue';\r\nimport eventBus from '../utils/eventBus';\r\nimport { \r\n  fetchBusinessInfoFromBackend, \r\n  startBusinessInfoSyncInterval, \r\n  stopBusinessInfoSyncInterval \r\n} from '../services/businessInfoService';\r\n\r\nexport default {\r\n  name: 'SharedMenuView',\r\n  components: {\r\n    ReservaForm,\r\n  },\r\n  props: {\r\n    // Añade id como prop si lo necesitas\r\n    id: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  setup(props) {\r\n    const route = useRoute();\r\n    const menuId = computed(() => props.id || route.params.id);    const menuData = ref({\r\n      items: [],\r\n      businessInfo: null\r\n    });\r\n    const isLoading = ref(true);\r\n    const error = ref(null);\r\n    const cartItems = ref([]);\r\n    const orderRef = ref(null);\r\n    const isProcessingOrder = ref(false);\r\n    const lastBusinessInfoUpdate = ref(null);\r\n    \r\n    console.log(\"SharedMenuView montado, ID del menú:\", route.params.id);\r\n\r\n    // Sistema de notificaciones toast\r\n    const toast = ref({\r\n      visible: false,\r\n      message: '',\r\n      type: 'success', // 'success', 'warning', 'error'\r\n      timeoutId: null\r\n    });\r\n\r\n    // Cargar menú cuando el componente se monte\r\n    onMounted(() => {\r\n      loadMenu();\r\n      \r\n      // Suscribirse al evento de actualización de información del negocio\r\n      eventBus.on('business-info-updated', handleBusinessInfoUpdate);\r\n      \r\n      // Iniciar la sincronización periódica con parámetro true para desactivarla en vista compartida\r\n      startBusinessInfoSyncInterval(true);\r\n    });\r\n    \r\n    // Al desmontar el componente, cancelar suscripciones y detener intervalos\r\n    onUnmounted(() => {\r\n      eventBus.off('business-info-updated', handleBusinessInfoUpdate);\r\n      stopBusinessInfoSyncInterval();\r\n      \r\n      // Limpiar timeout del toast si existe\r\n      if (toast.value.timeoutId) {\r\n        clearTimeout(toast.value.timeoutId);\r\n      }\r\n    });\r\n    \r\n    // Manejar la actualización de información del negocio\r\n    const handleBusinessInfoUpdate = (updatedInfo) => {\r\n      console.log('Nueva información del negocio recibida en SharedMenuView:', updatedInfo);\r\n      \r\n      if (!updatedInfo) return;\r\n      \r\n      // Actualizar la información del negocio en menuData\r\n      menuData.value.businessInfo = {\r\n        ...updatedInfo\r\n      };\r\n      \r\n      lastBusinessInfoUpdate.value = Date.now();\r\n      \r\n      // Mostrar notificación sutil\r\n      showToast('Información del negocio actualizada', 'info');\r\n    };\r\n\r\n    // Cargar el menú desde la API\r\n    async function loadMenu() {\r\n      try {\r\n        isLoading.value = true;\r\n        error.value = null; // Resetear error al inicio\r\n        console.log(\"Cargando menú con ID:\", route.params.id);\r\n        \r\n        if (!route.params.id) {\r\n          error.value = 'ID de menú no especificado';\r\n          isLoading.value = false;\r\n          return;\r\n        }\r\n        \r\n        // Intenta cargar desde localStorage primero (por si hay un carrito guardado)\r\n        const savedCart = localStorage.getItem(`cart_${route.params.id}`);\r\n        if (savedCart) {\r\n          try {\r\n            cartItems.value = JSON.parse(savedCart);\r\n            console.log(\"Carrito recuperado de localStorage:\", cartItems.value);\r\n          } catch (e) {\r\n            console.error(\"Error al parsear carrito de localStorage:\", e);\r\n          }\r\n        }\r\n        try {\r\n          // Cargar el menú y los items\r\n          const data = await getSharedMenu(route.params.id);\r\n          if (data && data.items) {\r\n            // Asignar los items al menuData\r\n            menuData.value.items = data.items;\r\n            \r\n            // Primero intentamos cargar la información del negocio desde el backend (mayor prioridad)\r\n            try {\r\n              // Primero asignamos la información del negocio que viene con el menú\r\n              if (data.businessInfo) {\r\n                menuData.value.businessInfo = data.businessInfo;\r\n                console.log(\"Información del negocio cargada del menú:\", data.businessInfo);\r\n              }\r\n              \r\n              // Luego intentamos cargar información adicional desde el backend usando el ID del menú\r\n              const businessInfo = await fetchBusinessInfoFromBackend(false, route.params.id);\r\n              if (businessInfo && Object.keys(businessInfo).length > 0) {\r\n                // Combinar la información del backend con la que ya tenemos\r\n                menuData.value.businessInfo = {\r\n                  ...menuData.value.businessInfo || {},\r\n                  ...businessInfo\r\n                };\r\n                lastBusinessInfoUpdate.value = Date.now();\r\n                console.log(\"Información adicional del negocio cargada del backend con ID:\", route.params.id);\r\n              }\r\n            } catch (businessInfoError) {\r\n              console.warn(\"No se pudo cargar información del negocio desde backend:\", businessInfoError);\r\n              // Si hay error al cargar del backend, usar la que viene con el menú\r\n              if (data.businessInfo) {\r\n                menuData.value.businessInfo = data.businessInfo;\r\n                console.log(\"Información del negocio cargada del menú como respaldo:\", data.businessInfo);\r\n              }\r\n            }\r\n            \r\n            console.log(\"Menú cargado con éxito:\", menuData.value);\r\n            // Inicializar disponibilidad para cada ítem\r\n            menuData.value.items.forEach(item => {\r\n              // Si la disponibilidad es explícitamente 0, mantenerla así\r\n              // Si es undefined o null, usar 0 en lugar de un valor predeterminado de 10\r\n              item.availableQuantity = item.availableQuantity !== undefined ? \r\n                Number(item.availableQuantity) : 0;\r\n              item.realAvailability = item.availableQuantity;\r\n            });\r\n            \r\n            // Actualizar disponibilidad real considerando el carrito\r\n            updateAvailabilityInMenu();\r\n            \r\n            // Guardar en localStorage como respaldo\r\n            try {\r\n              localStorage.setItem(`menu_${route.params.id}`, JSON.stringify(menuData.value));\r\n            } catch (saveError) {\r\n              console.warn('No se pudo guardar el menú en localStorage:', saveError);\r\n            }\r\n          } else {\r\n            throw new Error('Datos de menú no válidos');\r\n          }\r\n        } catch (apiError) {\r\n          console.error(\"Error al cargar el menú desde la API:\", apiError);\r\n          \r\n          // Intentar recuperar desde localStorage como respaldo\r\n          try {\r\n            const cachedMenu = localStorage.getItem(`menu_${route.params.id}`);\r\n            if (cachedMenu) {\r\n              menuData.value = JSON.parse(cachedMenu);\r\n              console.log(\"Menú recuperado desde localStorage:\", menuData.value);\r\n              \r\n              if (menuData.value && menuData.value.items) {\r\n                // Inicializar disponibilidad para cada ítem\r\n                menuData.value.items.forEach(item => {\r\n                  item.availableQuantity = item.availableQuantity !== undefined ? \r\n                    Number(item.availableQuantity) : 0;\r\n                  item.realAvailability = item.availableQuantity;\r\n                });\r\n                \r\n                // Actualizar disponibilidad real considerando el carrito\r\n                updateAvailabilityInMenu();\r\n                \r\n                // Mostrar notificación de que se está usando datos en caché\r\n                showToast('Usando datos almacenados localmente. Algunas funciones pueden estar limitadas.', 'warning');\r\n              } else {\r\n                throw new Error('Datos de menú en caché no válidos');\r\n              }\r\n            } else {\r\n              throw new Error('No se encontró el menú en caché');\r\n            }\r\n          } catch (cacheError) {\r\n            console.error(\"Error al recuperar menú desde caché:\", cacheError);\r\n            error.value = 'No se encontró el menú solicitado. Por favor, verifica el enlace o intenta más tarde.';\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.error(\"Error general al cargar el menú:\", e);\r\n        error.value = e.message || 'Error al cargar el menú';\r\n      } finally {\r\n        isLoading.value = false;\r\n      }\r\n    }\r\n\r\n    // Verificar si hay información de pago\r\n    const hasPaymentInfo = computed(() => {\r\n      const paymentInfo = menuData.value?.businessInfo?.paymentInfo;\r\n      \r\n      if (!paymentInfo) return false;\r\n      \r\n      // Verificar si hay al menos un campo de información de pago con datos\r\n      return !!(\r\n        (paymentInfo.qrImage && isValidImage(paymentInfo.qrImage)) || \r\n        paymentInfo.qrTitle || \r\n        paymentInfo.nequiNumber || \r\n        (paymentInfo.nequiImage && isValidImage(paymentInfo.nequiImage)) || \r\n        paymentInfo.bankInfo || \r\n        paymentInfo.otherPaymentMethods\r\n      );\r\n    });\r\n    \r\n    // Contador total de items\r\n    const totalItems = computed(() => {\r\n      return cartItems.value.reduce((total, item) => total + item.quantity, 0);\r\n    });\r\n\r\n    // Total del carrito\r\n    const cartTotal = computed(() => {\r\n      return cartItems.value.reduce((total, item) => {\r\n        return total + (item.price * item.quantity);\r\n      }, 0);\r\n    });\r\n\r\n    // Formatear precio\r\n    function formatPrice(price) {\r\n      if (isNaN(Number(price))) return '0,00';\r\n      \r\n      // Convertir a número y formatear con 2 decimales fijos\r\n      const numero = Number(price).toFixed(2);\r\n      \r\n      // Separar parte entera y decimal\r\n      const [parteEntera, parteDecimal] = numero.split('.');\r\n      \r\n      // Formatear parte entera con puntos como separadores de miles\r\n      const parteEnteraFormateada = parteEntera.replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\r\n      \r\n      // Unir con coma como separador decimal\r\n      return `${parteEnteraFormateada},${parteDecimal}`;\r\n    }\r\n\r\n    // Agregar al carrito con verificación de disponibilidad\r\n    async function addToCart(item) {\r\n      // Verificación directa antes de hacer la comprobación completa\r\n      if (Number(item.availableQuantity) <= 0) {\r\n        showToast(`Lo sentimos, \"${item.name}\" no está disponible actualmente. Intente más tarde por favor.`, 'error');\r\n        return;\r\n      }\r\n      \r\n      const isAvailable = await checkAvailability(item);\r\n      if (!isAvailable) return;\r\n      \r\n      const existingItem = cartItems.value.find(i => {\r\n        // Asegurar que ambos items tienen ID y compararlos, o comparar por nombre si no hay ID\r\n        if (item.id && i.id) {\r\n          return i.id === item.id;\r\n        }\r\n        return i.name === item.name;\r\n      });\r\n      \r\n      if (existingItem) {\r\n        existingItem.quantity++;\r\n      } else {\r\n        cartItems.value.push({\r\n          id: item.id || Date.now().toString(),\r\n          name: item.name,\r\n          price: item.price,\r\n          quantity: 1,\r\n          availableQuantity: item.availableQuantity || 0 // Usar 0 como valor por defecto\r\n        });\r\n      }\r\n      \r\n      // Guardar carrito en localStorage\r\n      saveCartToLocalStorage();\r\n      \r\n      // Actualizar la disponibilidad en tiempo real\r\n      updateAvailabilityInMenu();\r\n      \r\n      // Mostrar notificación de éxito\r\n      showToast(`${item.name} añadido al carrito`, 'success');\r\n    }\r\n    \r\n    // Mostrar notificaciones toast\r\n    function showToast(message, type = 'success', duration = 5000) { // Aumentar a 5 segundos\r\n      console.log(`[Toast] Mostrando notificación: ${message} (${type})`);\r\n      \r\n      // Si ya hay un toast visible, limpiamos su timeout\r\n      if (toast.value.timeoutId) {\r\n        clearTimeout(toast.value.timeoutId);\r\n      }\r\n      \r\n      // Configurar el nuevo toast\r\n      toast.value.message = message;\r\n      toast.value.type = type;\r\n      toast.value.visible = true;\r\n      \r\n      // Debug: verificar que el estado del toast cambió\r\n      console.log(`[Toast] Estado: visible=${toast.value.visible}, message=${toast.value.message}`);\r\n      \r\n      // Configurar timeout para ocultar después de la duración\r\n      toast.value.timeoutId = setTimeout(() => {\r\n        console.log(`[Toast] Ocultando notificación después de ${duration}ms`);\r\n        toast.value.visible = false;\r\n      }, duration);\r\n    }\r\n\r\n    // Guardar carrito en localStorage\r\n    function saveCartToLocalStorage() {\r\n      try {\r\n        localStorage.setItem(`cart_${route.params.id}`, JSON.stringify(cartItems.value));\r\n      } catch (e) {\r\n        console.error(\"Error al guardar carrito en localStorage:\", e);\r\n      }\r\n    }\r\n\r\n    // Incrementar cantidad\r\n    function increaseQuantity(index) {\r\n      const item = cartItems.value[index];\r\n      \r\n      // Buscar el ítem en el menú\r\n      const menuItem = menuData.value.items?.find(i => i.id === item.id);\r\n      if (menuItem) {\r\n        // Verificar disponibilidad\r\n        const availableQuantity = menuItem.availableQuantity || 0;\r\n        if (item.quantity >= availableQuantity) {\r\n          showToast(`No hay más unidades disponibles de \"${item.name}\"`, 'warning');\r\n          return;\r\n        }\r\n      }\r\n      \r\n      // Incrementar cantidad\r\n      item.quantity++;\r\n      \r\n      // Guardar carrito y actualizar disponibilidad\r\n      saveCartToLocalStorage();\r\n      updateAvailabilityInMenu();\r\n    }\r\n\r\n    // Reemplazar la función decreaseQuantity (líneas 409-416)\r\n    function decreaseQuantity(index) {\r\n      if (cartItems.value[index].quantity > 1) {\r\n        cartItems.value[index].quantity--;\r\n        saveCartToLocalStorage();\r\n        updateAvailabilityInMenu(); // Actualizar disponibilidad\r\n      } else {\r\n        removeFromCart(index);\r\n      }\r\n    }\r\n\r\n    // Reemplazar la función removeFromCart (líneas 419-422)\r\n    function removeFromCart(index) {\r\n      cartItems.value.splice(index, 1);\r\n      saveCartToLocalStorage();\r\n      updateAvailabilityInMenu(); // Actualizar disponibilidad\r\n    }\r\n    \r\n    // Completar pedido con actualización de inventario\r\n    async function completeOrder() {\r\n      try {\r\n        // Validaciones básicas\r\n        if (cartItems.value.length === 0) {\r\n          showToast('No hay ítems en el pedido', 'error');\r\n          return;\r\n        }\r\n        \r\n        if (!customerInfo.value.name || !customerInfo.value.phone) {\r\n          showToast('Por favor complete su nombre y teléfono', 'error');\r\n          return;\r\n        }\r\n      \r\n        // Indicar que está procesando\r\n        isProcessingOrder.value = true;\r\n        \r\n        // Actualizar inventario - Usar el carrito correcto\r\n        await updateInventory();\r\n        \r\n        // Compartir en WhatsApp\r\n        openWhatsAppShare();\r\n        \r\n        showToast('¡Pedido completado! Gracias por tu compra.', 'success');\r\n        \r\n        // Limpiar carrito y datos del cliente después de completar\r\n        setTimeout(() => {\r\n          // Limpiar carrito\r\n          cartItems.value = [];\r\n          \r\n          // Limpiar localStorage\r\n          localStorage.removeItem(`cart_${route.params.id}`);\r\n          \r\n          // Limpiar datos del cliente\r\n          customerInfo.value = {\r\n            name: '',\r\n            phone: '',\r\n            email: '',\r\n            address: ''\r\n          };\r\n          additionalMessage.value = '';\r\n          isProcessingOrder.value = false;\r\n        }, 2000);\r\n      } catch (error) {\r\n        console.error('Error al completar el pedido:', error);\r\n        showToast('Error al procesar el pedido', 'error');\r\n        isProcessingOrder.value = false;\r\n      }\r\n    }\r\n    \r\n    // Compartir pedido por WhatsApp sin actualizar inventario\r\nfunction shareOrderByWhatsApp() {\r\n  // Validaciones básicas\r\n  if (cartItems.value.length === 0) {\r\n    showToast('No hay ítems en el pedido', 'error');\r\n    return;\r\n  }\r\n\r\n  if (!customerInfo.value.name || !customerInfo.value.phone) {\r\n    showToast('Por favor complete su nombre y teléfono', 'error');\r\n    return;\r\n  }\r\n\r\n  // Compartir directamente en WhatsApp sin actualizar inventario\r\n  openWhatsAppShare();\r\n\r\n  showToast('Pedido compartido por WhatsApp', 'success');\r\n}\r\n\r\nfunction openWhatsAppShare() {\r\n  // Construir mensaje de pedido para WhatsApp\r\n  let whatsappMessage = `🛒 *Pedido de ${customerInfo.value.name}*\\n\\n`;\r\n  whatsappMessage += `📦 *Productos:*\\n`;\r\n\r\n  cartItems.value.forEach(item => {\r\n    const subtotal = (item.price * item.quantity).toFixed(2);\r\n    whatsappMessage += `🍽️ ${item.quantity}x ${item.name} = $${formatPrice(subtotal)}\\n`;\r\n  });\r\n\r\n  whatsappMessage += `\\n💵 *Total:* $${formatPrice(cartTotal.value)}\\n`;\r\n\r\n  if (customerInfo.value.phone) {\r\n    whatsappMessage += `📞 *Teléfono:* ${customerInfo.value.phone}\\n`;\r\n  }\r\n\r\n  if (customerInfo.value.email) {\r\n    whatsappMessage += `✉️ *Email:* ${customerInfo.value.email}\\n`;\r\n  }\r\n\r\n  if (customerInfo.value.address) {\r\n    whatsappMessage += `📍 *Dirección:* ${customerInfo.value.address}\\n`;\r\n  }\r\n\r\n  if (additionalMessage.value) {\r\n    whatsappMessage += `📝 *Notas adicionales:*\\n${additionalMessage.value}\\n`;\r\n  }\r\n\r\n  // Añadir método de pago seleccionado\r\n  const formaPago = selectedPaymentMethod.value === 'qr' ? 'Código QR' :\r\n                    selectedPaymentMethod.value === 'nequi' ? 'Nequi' :\r\n                    'Contra entrega';\r\n\r\n  whatsappMessage += `\\n💳 *Forma de pago:* ${formaPago}`;\r\n\r\n  // Codificar y generar la URL de WhatsApp\r\n  const encodedMessage = encodeURIComponent(whatsappMessage);\r\n  const whatsappUrl = `https://api.whatsapp.com/send?text=${encodedMessage}`;\r\n\r\n  // Abrir WhatsApp en una nueva ventana\r\n  window.open(whatsappUrl, '_blank');\r\n}\r\n\r\n    // Desplazarse a la sección del pedido\r\n    function scrollToOrder() {\r\n      const orderSection = document.querySelector('.order-section');\r\n      if (orderSection) {\r\n        orderSection.scrollIntoView({ behavior: 'smooth' });\r\n      }\r\n    }\r\n\r\n    // Verificar disponibilidad de inventario\r\n    async function checkAvailability(item) {\r\n      // Obtener la disponibilidad base (valor original del inventario)\r\n      // Importante: asegurarse que sea un número\r\n      const baseAvailability = Number(item.availableQuantity) || 0;\r\n      \r\n      // Verificación directa: si no hay stock, mostrar mensaje de error\r\n      if (baseAvailability <= 0) {\r\n        showToast(`Lo sentimos, \"${item.name}\" no está disponible actualmente. Intente más tarde por favor.`, 'error');\r\n        return false;\r\n      }\r\n      \r\n      // Obtener la cantidad actual en el carrito\r\n      const cartItem = cartItems.value.find(i => i.id === item.id);\r\n      const cartQuantity = cartItem ? cartItem.quantity : 0;\r\n      \r\n      // Calcular disponibilidad real\r\n      const realAvailability = baseAvailability - cartQuantity;\r\n      \r\n      // Verificar la disponibilidad considerando lo que ya está en el carrito\r\n      if (realAvailability <= 0) {\r\n        showToast(`No hay más unidades disponibles de \"${item.name}\"`, 'warning');\r\n        return false;\r\n      } else if (realAvailability <= 5) {\r\n        showToast(`¡Solo quedan ${realAvailability} unidades de \"${item.name}\"!`, 'warning');\r\n      }\r\n      \r\n      return true;\r\n    }\r\n\r\n    // Actualizar inventario al completar pedido\r\n    async function updateInventory() {\r\n      try {\r\n        // Validaciones iniciales\r\n        if (!cartItems.value || cartItems.value.length === 0) {\r\n          console.warn('Intentando actualizar inventario con carrito vacío');\r\n          return;\r\n        }\r\n        \r\n        console.log(`Iniciando actualización de inventario para ${cartItems.value.length} productos...`);\r\n        \r\n        // Obtener los elementos actuales del menú para actualizar cantidades\r\n        const currentMenu = await getMenuItems();\r\n        if (!currentMenu || !Array.isArray(currentMenu)) {\r\n          console.error('No se pudo obtener el menú actual');\r\n          return false;\r\n        }\r\n        \r\n        // Crear una copia profunda del carrito para procesar (evitar modificaciones durante el procesamiento)\r\n        const itemsToProcess = JSON.parse(JSON.stringify(cartItems.value));\r\n        const updateResults = [];\r\n        let hasErrors = false;\r\n        \r\n        // Importar función para guardar elementos vendidos\r\n        const { getSoldItems, saveSoldItems } = await import('../services/storageService');\r\n        \r\n        // Obtener la lista actual de elementos vendidos\r\n        let soldItemsList = [];\r\n        try {\r\n          soldItemsList = await getSoldItems() || [];\r\n          if (!Array.isArray(soldItemsList)) {\r\n            soldItemsList = [];\r\n          }\r\n          console.log('Lista de elementos vendidos obtenida:', soldItemsList.length);\r\n        } catch (soldItemsError) {\r\n          console.warn('Error al obtener elementos vendidos:', soldItemsError);\r\n          soldItemsList = [];\r\n        }\r\n        \r\n        // Procesar cada elemento del carrito de forma secuencial para evitar condiciones de carrera\r\n        for (let i = 0; i < itemsToProcess.length; i++) {\r\n          const cartItem = itemsToProcess[i];\r\n          console.log(`Procesando item ${i+1}/${itemsToProcess.length}: ${cartItem.name} (ID: ${cartItem.id})`);\r\n          \r\n          try {\r\n            // Buscar el ítem correspondiente en el menú actual\r\n            const menuItem = currentMenu.find(item => item.id === cartItem.id);\r\n            \r\n            if (!menuItem) {\r\n              console.warn(`Elemento no encontrado en el menú: ${cartItem.name} (ID: ${cartItem.id})`);\r\n              updateResults.push({\r\n                name: cartItem.name,\r\n                success: false,\r\n                error: 'Elemento no encontrado en el menú'\r\n              });\r\n              continue;\r\n            }\r\n            \r\n            // Garantizar que estamos trabajando con números enteros válidos\r\n            const currentQuantity = parseInt(Number(menuItem.availableQuantity || 0), 10);\r\n            const soldQuantity = parseInt(Number(cartItem.quantity || 0), 10);\r\n            \r\n            if (isNaN(currentQuantity) || isNaN(soldQuantity)) {\r\n              const error = `Cantidades inválidas para ${cartItem.name}: disponible=${menuItem.availableQuantity}, vendido=${cartItem.quantity}`;\r\n              console.error(error);\r\n              updateResults.push({\r\n                name: cartItem.name,\r\n                success: false,\r\n                error: error\r\n              });\r\n              hasErrors = true;\r\n              continue;\r\n            }\r\n            \r\n            // Calcular nueva cantidad exacta como entero\r\n            const newQuantity = Math.max(0, currentQuantity - soldQuantity);\r\n            \r\n            console.log(`Actualizando ${cartItem.name}: ${currentQuantity} - ${soldQuantity} = ${newQuantity} (currentQuantity tipo: ${typeof currentQuantity}, soldQuantity tipo: ${typeof soldQuantity})`);\r\n            \r\n            // Actualizar disponibilidad usando la función mejorada - forzar como número entero\r\n            const updateSuccess = await updateItemAvailability(menuItem.id, newQuantity);\r\n            \r\n            // Registrar resultado detallado\r\n            updateResults.push({\r\n              name: cartItem.name,\r\n              oldQuantity: currentQuantity,\r\n              soldQuantity: soldQuantity,\r\n              newQuantity: newQuantity,\r\n              success: updateSuccess,\r\n              error: updateSuccess ? null : 'Error al actualizar disponibilidad'\r\n            });\r\n            \r\n            if (!updateSuccess) {\r\n              hasErrors = true;\r\n            } else {\r\n              // Registrar en la lista de platos vendidos si la actualización fue exitosa\r\n              const currentDate = new Date().toISOString();\r\n              const existingSoldItem = soldItemsList.find(item => item.name === cartItem.name);\r\n              \r\n              if (existingSoldItem) {\r\n                existingSoldItem.quantity += soldQuantity;\r\n                existingSoldItem.date = currentDate;\r\n              } else {\r\n                soldItemsList.push({\r\n                  name: cartItem.name,\r\n                  quantity: soldQuantity,\r\n                  price: cartItem.price,\r\n                  includesDrink: menuItem.includesDrink || false,\r\n                  date: currentDate\r\n                });\r\n              }\r\n              console.log(`Elemento registrado en lista de vendidos: ${cartItem.name} x${soldQuantity}`);\r\n            }\r\n          } catch (itemError) {\r\n            console.error(`Error procesando ${cartItem.name}:`, itemError);\r\n            updateResults.push({\r\n              name: cartItem.name,\r\n              success: false,\r\n              error: itemError.message || 'Error desconocido'\r\n            });\r\n            hasErrors = true;\r\n          }\r\n        }\r\n        \r\n        // Guardar la lista actualizada de elementos vendidos\r\n        try {\r\n          await saveSoldItems(soldItemsList);\r\n          console.log(`Lista de elementos vendidos actualizada con ${soldItemsList.length} elementos`);\r\n        } catch (saveError) {\r\n          console.error('Error al guardar elementos vendidos:', saveError);\r\n        }\r\n        \r\n        // Mostrar resumen de la operación\r\n        const successCount = updateResults.filter(r => r.success).length;\r\n        console.log(`Actualización de inventario completada. Éxitos: ${successCount}/${itemsToProcess.length}`);\r\n        \r\n        // Registrar detalles completos de la actualización\r\n        console.log('Detalles de actualización de inventario:', updateResults);\r\n        \r\n        if (hasErrors) {\r\n          const failedItems = updateResults.filter(r => !r.success).map(r => r.name).join(', ');\r\n          console.warn(`Algunos productos no se pudieron actualizar: ${failedItems}`);\r\n        }\r\n        \r\n        return successCount > 0;\r\n      } catch (error) {\r\n        console.error('Error general al actualizar inventario:', error);\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // Añadir después de la función checkAvailability (línea 585)\r\n    // Función para actualizar la disponibilidad en tiempo real\r\n    function updateAvailabilityInMenu() {\r\n      if (!menuData.value?.items) return;\r\n      \r\n      // Actualizar la disponibilidad de todos los ítems\r\n      menuData.value.items.forEach(menuItem => {\r\n        // Encontrar si este ítem está en el carrito\r\n        const cartItem = cartItems.value.find(i => i.id === menuItem.id);\r\n        const cartQuantity = cartItem ? cartItem.quantity : 0;\r\n        \r\n        // Asegurarse de que availableQuantity sea un número exacto, no undefined o null\r\n        const baseAvailability = Number(menuItem.availableQuantity) || 0;\r\n        \r\n        // Calcular disponibilidad real\r\n        menuItem.realAvailability = baseAvailability - cartQuantity;\r\n        \r\n        console.log(`Disponibilidad actualizada para ${menuItem.name}: ${menuItem.realAvailability} unidades (base: ${baseAvailability}, carrito: ${cartQuantity})`);\r\n      });\r\n    }\r\n\r\n    // Verificar si una cadena de imagen es válida\r\n    function isValidImage(imageString) {\r\n      if (!imageString) return false;\r\n      \r\n      // Verificar si es una URL\r\n      if (imageString.startsWith('http://') || imageString.startsWith('https://')) {\r\n        return true;\r\n      }\r\n      \r\n      // Verificar si es una imagen en base64\r\n      if (imageString.startsWith('data:image/')) {\r\n        return true;\r\n      }\r\n      \r\n      return false;\r\n    }\r\n    \r\n    // Corregir formato de imagen si es necesario\r\n    function fixImageFormat(imageString) {\r\n      if (!imageString) return '';\r\n      \r\n      // Si ya es una URL o base64 válido, devolverlo tal cual\r\n      if (isValidImage(imageString)) {\r\n        return imageString;\r\n      }\r\n      \r\n      // Intentar convertir a base64 si no tiene el prefijo correcto\r\n      if (imageString.includes('/9j/') && !imageString.startsWith('data:image/')) {\r\n        return `data:image/jpeg;base64,${imageString}`;\r\n      }\r\n      \r\n      // Si no se puede arreglar, devolver una imagen por defecto\r\n      return '';\r\n    }\r\n\r\n    // Datos del cliente\r\n    const customerInfo = ref({\r\n      name: '',\r\n      phone: '',\r\n      email: '',\r\n      address: ''\r\n    });\r\n\r\n    // Método de pago seleccionado\r\n    const selectedPaymentMethod = ref('cash'); // Por defecto contra entrega\r\n\r\n    // Mensaje adicional\r\n    const additionalMessage = ref('');\r\n\r\n    // Filtrar items regulares y especiales\r\n    const regularItems = computed(() => {\r\n      if (!menuData.value || !menuData.value.items) return [];\r\n      const filtered = menuData.value.items.filter(item => !item.isSpecial);\r\n      console.log('Platos regulares:', filtered.length, filtered.map(i => i.name));\r\n      return filtered;\r\n    });\r\n\r\n    const specialItems = computed(() => {\r\n      if (!menuData.value || !menuData.value.items) return [];\r\n      const filtered = menuData.value.items.filter(item => item.isSpecial === true);\r\n      console.log('Platos especiales:', filtered.length, filtered.map(i => i.name));\r\n      return filtered;\r\n    });\r\n\r\n    // Estado para el formulario de reserva\r\n    const showReservationForm = ref(false);\r\n    const isProcessingReservation = ref(false);\r\n    const reservationSuccess = ref(false);\r\n    const reservationError = ref(null);\r\n    \r\n    const reservationData = ref({\r\n      fullName: '',\r\n      mobilePhone: '',\r\n      landlinePhone: '',\r\n      address: '',\r\n      email: '',\r\n      orderDate: getCurrentDate(), // Set the initial value here\r\n      reservationDate: '',\r\n      reservationTime: '',\r\n      peopleCount: 1,\r\n      additionalNotes: ''\r\n    });\r\n    \r\n    // Función para obtener la fecha actual en formato YYYY-MM-DD\r\n    function getCurrentDate() {\r\n      const today = new Date();\r\n      const year = today.getFullYear();\r\n      const month = String(today.getMonth() + 1).padStart(2, '0');\r\n      const day = String(today.getDate()).padStart(2, '0');\r\n      return `${year}-${month}-${day}`;\r\n    }\r\n    \r\n    // Función para enviar la reserva\r\n    async function submitReservation() {\r\n      isProcessingReservation.value = true;\r\n      reservationSuccess.value = false;\r\n      reservationError.value = null;\r\n      \r\n      try {\r\n        // Utilizamos el servicio de reservas para guardar los datos\r\n        const result = await saveReservation(reservationData.value);\r\n        \r\n        if (result.success) {\r\n          // Reserva guardada correctamente\r\n          reservationSuccess.value = true;\r\n          showToast('¡Reserva enviada con éxito! Recibirá un correo de confirmación en breve.', 'success');\r\n          \r\n          // Enviar correo de confirmación (simulado)\r\n          console.log('Enviando correo de confirmación a:', reservationData.value.email);\r\n          \r\n          // Limpiar el formulario y ocultarlo después de un tiempo\r\n          setTimeout(() => {\r\n            resetReservationForm();\r\n            showReservationForm.value = false;\r\n          }, 3000);\r\n        } else {\r\n          // Error al guardar la reserva\r\n          throw new Error(result.error || 'Error al procesar la reserva');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error al enviar la reserva:', error);\r\n        reservationError.value = 'Ocurrió un error al procesar su reserva. Por favor, intente nuevamente.';\r\n        showToast('Error al procesar la reserva. Por favor, intente nuevamente.', 'error');\r\n      } finally {\r\n        isProcessingReservation.value = false;\r\n      }\r\n    }\r\n    \r\n    // Función para cancelar la reserva\r\n    function cancelReservation() {\r\n      resetReservationForm();\r\n      showReservationForm.value = false;\r\n    }\r\n    \r\n    // Función para reiniciar el formulario\r\n    function resetReservationForm() {\r\n      reservationData.value.fullName = '';\r\n      reservationData.value.mobilePhone = '';\r\n      reservationData.value.landlinePhone = '';\r\n      reservationData.value.address = '';\r\n      reservationData.value.email = '';\r\n      reservationData.value.orderDate = getCurrentDate();\r\n      reservationData.value.reservationDate = '';\r\n      reservationData.value.reservationTime = '';\r\n      reservationData.value.peopleCount = 1;\r\n      reservationData.value.additionalNotes = '';\r\n      reservationSuccess.value = false;\r\n      reservationError.value = null;\r\n    }    // Refrescar información del negocio manualmente\r\n    async function refreshBusinessInfo() {\r\n      try {\r\n        const businessInfo = await fetchBusinessInfoFromBackend(true, route.params.id);\r\n        if (businessInfo) {\r\n          menuData.value.businessInfo = businessInfo;\r\n          lastBusinessInfoUpdate.value = Date.now();\r\n          showToast('Información del negocio actualizada', 'success');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error al refrescar información del negocio:', error);\r\n        showToast('Error al actualizar información del negocio', 'error');\r\n      }\r\n    }\r\n\r\n    return {\r\n      menuId,\r\n      isLoading,\r\n      error,\r\n      menuData,\r\n      regularItems,\r\n      specialItems,\r\n      cartItems,\r\n      cartTotal,\r\n      totalItems,\r\n      customerInfo,\r\n      selectedPaymentMethod,\r\n      additionalMessage,\r\n      addToCart,\r\n      removeFromCart,\r\n      increaseQuantity,\r\n      decreaseQuantity,\r\n      formatPrice,\r\n      completeOrder,\r\n      shareOrderByWhatsApp,\r\n      scrollToOrder,\r\n      isValidImage,\r\n      fixImageFormat,\r\n      hasPaymentInfo,\r\n      // Reservas\r\n      showReservationForm,\r\n      reservationData,\r\n      isProcessingReservation,\r\n      reservationSuccess,\r\n      reservationError,\r\n      submitReservation,\r\n      cancelReservation,\r\n      getCurrentDate,\r\n      // Añadir el objeto toast para que esté disponible en la plantilla\r\n      toast,\r\n      // Función para refrescar información del negocio\r\n      refreshBusinessInfo,\r\n      // Última actualización de la información del negocio\r\n      lastBusinessInfoUpdate\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.shared-menu-container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  font-family: 'Arial', sans-serif;\r\n}\r\n\r\n.loading, .error {\r\n  text-align: center;\r\n  padding: 50px;\r\n  font-size: 18px;\r\n}\r\n\r\n.error {\r\n  color: #d9534f;\r\n}\r\n\r\n.business-info {\r\n  text-align: center;\r\n  margin-bottom: 40px;\r\n  background-color: #f8f9fa;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n  overflow: hidden; /* Para que la imagen no se salga del contenedor */\r\n}\r\n\r\n.business-header-banner {\r\n  width: 100%;\r\n  height: 200px; /* Altura fija proporcional */\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.business-logo-banner {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover; /* Ajusta la imagen para cubrir todo el espacio */\r\n  object-position: center; /* Centra la imagen en el contenedor */\r\n}\r\n\r\n.business-content {\r\n  padding: 20px;\r\n}\r\n\r\n.business-content h1 {\r\n  color: #343a40;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.description {\r\n  font-style: italic;\r\n  color: #6c757d;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.contact-info {\r\n  font-size: 14px;\r\n  color: #495057;\r\n}\r\n\r\n.menu-list {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.menu-list h2 {\r\n  color: #28a745;\r\n  font-size: 24px;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 2px solid #28a745;\r\n}\r\n\r\n.menu-items {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.menu-item {\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.menu-item:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 5px 15px rgba(0,0,0,0.2);\r\n}\r\n\r\n.item-image-container {\r\n  width: 100%;\r\n  height: 200px;\r\n  overflow: hidden;\r\n}\r\n\r\n.item-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.no-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #f8f9fa;\r\n  color: #6c757d;\r\n  font-style: italic;\r\n}\r\n\r\n.item-details {\r\n  padding: 15px;\r\n}\r\n\r\n.item-details h3 {\r\n  margin-top: 0;\r\n  color: #343a40;\r\n  font-size: 18px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.item-description {\r\n  color: #6c757d;\r\n  font-size: 14px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.item-price {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #28a745;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.includes-drink {\r\n  font-size: 14px;\r\n  color: #6c757d;\r\n  font-style: italic;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.add-to-cart-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  padding: 10px 15px;\r\n  background-color: #28a745;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  font-weight: bold;\r\n}\r\n\r\n.add-to-cart-btn:hover {\r\n  background-color: #218838;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.quantity-display {\r\n  min-width: 30px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n}\r\n\r\n/* Estilos para acciones de pedido */\r\n.order-actions {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  margin-top: 15px;\r\n  gap: 10px;\r\n}\r\n\r\n.complete-order-btn,\r\n.whatsapp-order-btn {\r\n  border: none;\r\n  padding: 12px 20px;\r\n  border-radius: 4px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  gap: 8px;\r\n  height: 48px;\r\n  font-size: 17px;\r\n  width: 100%;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  letter-spacing: 0.5px;\r\n  text-shadow: 0 1px 2px rgba(0,0,0,0.3);\r\n}\r\n\r\n.complete-order-btn {\r\n  background-color: #218838;\r\n  color: white;\r\n  margin: 0;\r\n  border: 2px solid #1e7e34;\r\n}\r\n\r\n.complete-order-btn:hover {\r\n  background-color: #1e7e34;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0,0,0,0.2);\r\n}\r\n\r\n.whatsapp-order-btn {\r\n  height: 48px;\r\n  font-size: 17px;\r\n  width: 100%;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  letter-spacing: 0.5px;\r\n  text-shadow: 0 1px 2px rgba(0,0,0,0.3);\r\n}\r\n\r\n.complete-order-btn {\r\n  background-color: #218838;\r\n  color: white;\r\n  margin: 0;\r\n  border: 2px solid #1e7e34;\r\n}\r\n\r\n.complete-order-btn:hover {\r\n  background-color: #1e7e34;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0,0,0,0.2);\r\n}\r\n\r\n.whatsapp-order-btn {\r\n  background-color: #128C7E;\r\n  color: white;\r\n  margin: 0;\r\n  border: 2px solid #075E54;\r\n}\r\n\r\n.whatsapp-order-btn:hover {\r\n  background-color: #075E54;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0,0,0,0.2);\r\n}\r\n\r\n.btn-icon {\r\n  font-size: 18px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 8px;\r\n}\r\n\r\n/* Estilos para la sección de \"Tu Pedido\" */\r\n.order-section {\r\n  margin: 30px auto;\r\n  padding: 20px;\r\n  background-color: #f8f9fa;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n  max-width: 800px;\r\n  border: 2px solid #28a745;\r\n  position: relative;\r\n}\r\n\r\n.order-section::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: -10px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 0;\r\n  height: 0;\r\n  border-left: 10px solid transparent;\r\n  border-right: 10px solid transparent;\r\n  border-bottom: 10px solid #28a745;\r\n}\r\n\r\n.order-section h2 {\r\n  color: #343a40;\r\n  font-size: 24px;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 2px solid #28a745;\r\n}\r\n\r\n.cart-items {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.cart-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 15px;\r\n  border-bottom: 1px solid #dee2e6;\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from { opacity: 0; transform: translateY(-10px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n}\r\n\r\n.cart-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.cart-item-details h3 {\r\n  margin: 0 0 5px 0;\r\n  font-size: 16px;\r\n}\r\n\r\n.cart-item-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.quantity-btn {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  background-color: #f8f9fa;\r\n  border: 1px solid #28a745;\r\n  color: #28a745;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.quantity-btn:hover {\r\n  background-color: #28a745;\r\n  color: white;\r\n}\r\n\r\n.remove-btn {\r\n  padding: 5px 10px;\r\n  background-color: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.remove-btn:hover {\r\n  background-color: #c82333;\r\n}\r\n\r\n.cart-total {\r\n  text-align: right;\r\n  padding-top: 15px;\r\n  border-top: 2px solid #28a745;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 10px;\r\n}\r\n\r\n.cart-total h3 {\r\n  color: #343a40;\r\n  margin: 0;\r\n}\r\n\r\n/* Estilos para el formulario de datos del cliente */\r\n.customer-form {\r\n  width: 100%;\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  border: 1px solid #dee2e6;\r\n}\r\n\r\n.customer-form h4 {\r\n  color: #343a40;\r\n  margin-top: 0;\r\n  margin-bottom: 15px;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  border-bottom: 1px solid #e9ecef;\r\n  padding-bottom: 8px;\r\n}\r\n\r\n.form-row {\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.form-input, .form-textarea {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  transition: border-color 0.3s;\r\n}\r\n\r\n.form-input:focus, .form-textarea:focus {\r\n  border-color: #28a745;\r\n  outline: none;\r\n}\r\n\r\n.form-textarea {\r\n  min-height: 80px;\r\n  resize: vertical;\r\n}\r\n\r\n/* Estilos para las opciones de pago */\r\n.payment-methods-selection {\r\n  width: 100%;\r\n  margin: 15px 0;\r\n}\r\n\r\n.payment-methods-selection h4 {\r\n  color: #343a40;\r\n  margin-top: 10px;\r\n  margin-bottom: 15px;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  border-bottom: 1px solid #e9ecef;\r\n  padding-bottom: 8px;\r\n}\r\n\r\n.payment-options {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n}\r\n\r\n.payment-option {\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  padding: 8px 15px;\r\n  background-color: #f0f0f0;\r\n  border-radius: 4px;\r\n  transition: all 0.2s;\r\n  flex: 1;\r\n  min-width: 100px;\r\n  justify-content: center;\r\n  border: 2px solid transparent;\r\n}\r\n\r\n.payment-option:hover {\r\n  background-color: #e9ecef;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n}\r\n\r\n.payment-option input[type=\"radio\"] {\r\n  margin-right: 8px;\r\n  accent-color: #28a745;\r\n}\r\n\r\n.payment-option input[type=\"radio\"]:checked + .payment-option-text {\r\n  font-weight: bold;\r\n  color: #28a745;\r\n}\r\n\r\n.payment-option-text {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Estilo para opción seleccionada */\r\n.payment-option input[type=\"radio\"]:checked ~ .payment-option {\r\n  border-color: #28a745;\r\n  background-color: rgba(40, 167, 69, 0.1);\r\n}\r\n\r\n/* Botón flotante para ver pedido */\r\n.floating-cart-button {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  background-color: #28a745;\r\n  color: white;\r\n  border-radius: 50px;\r\n  padding: 10px 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.2);\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  z-index: 98; /* Mantener por debajo del toast (9999) */\r\n  font-weight: bold;\r\n}\r\n\r\n/* Sistema de notificaciones toast */\r\n.toast-notification {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  padding: 15px 25px;\r\n  border-radius: 4px;\r\n  color: white;\r\n  z-index: 1000;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n  animation: slideIn 0.3s ease-out forwards;\r\n}\r\n\r\n@keyframes slideIn {\r\n  from {\r\n    transform: translateY(100%);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.toast-notification.success {\r\n  background-color: #28a745;\r\n}\r\n\r\n.toast-notification.error {\r\n  background-color: #dc3545;\r\n}\r\n\r\n.toast-notification.info {\r\n  background-color: #17a2b8;\r\n}\r\n\r\n.toast-notification.warning {\r\n  background-color: #ffc107;\r\n  color: #212529;\r\n}\r\n\r\n/* Estilos adicionales para la sección de información del negocio */\r\n.business-header {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 2rem;\r\n  padding: 1rem;\r\n  background-color: #f8f9fa;\r\n  border-radius: 8px;\r\n  text-align: center;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .business-header {\r\n    flex-direction: row;\r\n    text-align: left;\r\n  }\r\n}\r\n\r\n.business-logo {\r\n  width: 100px;\r\n  height: 100px;\r\n  object-fit: contain;\r\n  margin-bottom: 1rem;\r\n  border-radius: 50%;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .business-logo {\r\n    margin-right: 2rem;\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.business-info {\r\n  flex: 1;\r\n}\r\n\r\n.business-info h1 {\r\n  margin-top: 0;\r\n  color: #333;\r\n  font-size: 1.8rem;\r\n}\r\n\r\n.business-description {\r\n  color: #666;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.business-contact {\r\n  color: #666;\r\n  font-weight: 500;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}