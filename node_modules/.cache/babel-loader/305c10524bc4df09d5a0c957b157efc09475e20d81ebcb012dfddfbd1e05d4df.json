{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"admin-config\"\n};\nconst _hoisted_2 = {\n  class: \"config-section\"\n};\nconst _hoisted_3 = {\n  class: \"config-item\"\n};\nconst _hoisted_4 = {\n  class: \"config-header\"\n};\nconst _hoisted_5 = {\n  class: \"toggle-switch\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[6] || (_cache[6] = _createElementVNode(\"h2\", null, \"Configuración de la Aplicación\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"h3\", null, \"Configuración General\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[3] || (_cache[3] = _createElementVNode(\"h4\", null, \"Botón \\\"Simular WhatsApp\\\"\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    id: \"whatsapp-button-toggle\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.whatsappButtonEnabled = $event),\n    onChange: _cache[1] || (_cache[1] = (...args) => $setup.toggleWhatsAppButton && $setup.toggleWhatsAppButton(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelCheckbox, $setup.whatsappButtonEnabled]]), _cache[2] || (_cache[2] = _createElementVNode(\"label\", {\n    for: \"whatsapp-button-toggle\"\n  }, null, -1 /* HOISTED */))])]), _cache[4] || (_cache[4] = _createElementVNode(\"p\", {\n    class: \"config-description\"\n  }, \" Activa o desactiva el botón \\\"Simular WhatsApp\\\" en todas las páginas de la aplicación. Esta función permite a los usuarios simular reservas como si vinieran de WhatsApp. \", -1 /* HOISTED */)), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"status-message\", {\n      'success': $setup.statusSuccess\n    }])\n  }, _toDisplayString($setup.statusMessage), 3 /* TEXT, CLASS */)])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","type","id","_cache","$event","$setup","whatsappButtonEnabled","onChange","args","toggleWhatsAppButton","for","_normalizeClass","statusSuccess","statusMessage"],"sources":["F:\\Driver google\\VUE.JS-2\\VUE-JS\\websap\\src\\components\\admin\\AdminConfig.vue"],"sourcesContent":["<template>\r\n  <div class=\"admin-config\">\r\n    <h2>Configuración de la Aplicación</h2>\r\n    \r\n    <div class=\"config-section\">\r\n      <h3>Configuración General</h3>\r\n      <div class=\"config-item\">\r\n        <div class=\"config-header\">\r\n          <h4>Botón \"Simular WhatsApp\"</h4>\r\n          <div class=\"toggle-switch\">\r\n            <input \r\n              type=\"checkbox\" \r\n              id=\"whatsapp-button-toggle\" \r\n              v-model=\"whatsappButtonEnabled\" \r\n              @change=\"toggleWhatsAppButton\"\r\n            />\r\n            <label for=\"whatsapp-button-toggle\"></label>\r\n          </div>\r\n        </div>\r\n        <p class=\"config-description\">\r\n          Activa o desactiva el botón \"Simular WhatsApp\" en todas las páginas de la aplicación. \r\n          Esta función permite a los usuarios simular reservas como si vinieran de WhatsApp.\r\n        </p>\r\n        <div class=\"status-message\" :class=\"{ 'success': statusSuccess }\">\r\n          {{ statusMessage }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport eventBus from '@/utils/eventBus';\r\n\r\nexport default {\r\n  name: 'AdminConfig',\r\n  setup() {\r\n    const whatsappButtonEnabled = ref(true);\r\n    const statusMessage = ref('');\r\n    const statusSuccess = ref(true);\r\n    \r\n    // Cargar el estado actual al montar el componente\r\n    onMounted(() => {\r\n      const storedValue = localStorage.getItem('whatsappButtonEnabled');\r\n      // Si tiene un valor específico en localStorage, usar ese valor\r\n      if (storedValue !== null) {\r\n        whatsappButtonEnabled.value = storedValue === 'true';\r\n      }\r\n    });\r\n    \r\n    // Función para activar/desactivar el botón de WhatsApp\r\n    const toggleWhatsAppButton = () => {\r\n      try {\r\n        // Guardar en localStorage\r\n        localStorage.setItem('whatsappButtonEnabled', whatsappButtonEnabled.value);\r\n        \r\n        // Emitir evento para notificar al componente WhatsAppSimulator\r\n        eventBus.emit('whatsapp-button-config-changed', whatsappButtonEnabled.value);\r\n        \r\n        // Mostrar mensaje de confirmación\r\n        statusMessage.value = whatsappButtonEnabled.value \r\n          ? 'Botón \"Simular WhatsApp\" activado correctamente' \r\n          : 'Botón \"Simular WhatsApp\" desactivado correctamente';\r\n        statusSuccess.value = true;\r\n        \r\n        // Limpiar el mensaje después de 5 segundos\r\n        setTimeout(() => {\r\n          statusMessage.value = '';\r\n        }, 5000);\r\n      } catch (error) {\r\n        console.error('Error al cambiar la configuración del botón WhatsApp:', error);\r\n        statusMessage.value = 'Error al cambiar la configuración';\r\n        statusSuccess.value = false;\r\n      }\r\n    };\r\n    \r\n    return {\r\n      whatsappButtonEnabled,\r\n      toggleWhatsAppButton,\r\n      statusMessage,\r\n      statusSuccess\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.admin-config {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.admin-config h2 {\r\n  margin-bottom: 30px;\r\n  color: #333;\r\n  border-bottom: 2px solid #4CAF50;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.config-section {\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  margin-bottom: 30px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\r\n}\r\n\r\n.config-section h3 {\r\n  color: #333;\r\n  margin-top: 0;\r\n  margin-bottom: 20px;\r\n  font-size: 18px;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.config-item {\r\n  background-color: white;\r\n  border-radius: 6px;\r\n  padding: 15px;\r\n  margin-bottom: 15px;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n}\r\n\r\n.config-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.config-header h4 {\r\n  margin: 0;\r\n  color: #333;\r\n  font-size: 16px;\r\n}\r\n\r\n.config-description {\r\n  color: #666;\r\n  font-size: 14px;\r\n  margin: 10px 0;\r\n}\r\n\r\n/* Toggle Switch Styles */\r\n.toggle-switch {\r\n  position: relative;\r\n  width: 60px;\r\n  height: 34px;\r\n}\r\n\r\n.toggle-switch input {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\n.toggle-switch label {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #ccc;\r\n  transition: .4s;\r\n  border-radius: 34px;\r\n}\r\n\r\n.toggle-switch label:before {\r\n  position: absolute;\r\n  content: \"\";\r\n  height: 26px;\r\n  width: 26px;\r\n  left: 4px;\r\n  bottom: 4px;\r\n  background-color: white;\r\n  transition: .4s;\r\n  border-radius: 50%;\r\n}\r\n\r\n.toggle-switch input:checked + label {\r\n  background-color: #4CAF50;\r\n}\r\n\r\n.toggle-switch input:checked + label:before {\r\n  transform: translateX(26px);\r\n}\r\n\r\n.status-message {\r\n  margin-top: 15px;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  text-align: center;\r\n  opacity: 0;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.status-message:not(:empty) {\r\n  opacity: 1;\r\n}\r\n\r\n.status-message.success {\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.status-message:not(.success) {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAc;;EAGlBA,KAAK,EAAC;AAAgB;;EAEpBA,KAAK,EAAC;AAAa;;EACjBA,KAAK,EAAC;AAAe;;EAEnBA,KAAK,EAAC;AAAe;;uBARlCC,mBAAA,CA2BM,OA3BNC,UA2BM,G,0BA1BJC,mBAAA,CAAuC,YAAnC,gCAA8B,sBAElCA,mBAAA,CAuBM,OAvBNC,UAuBM,G,0BAtBJD,mBAAA,CAA8B,YAA1B,uBAAqB,sBACzBA,mBAAA,CAoBM,OApBNE,UAoBM,GAnBJF,mBAAA,CAWM,OAXNG,UAWM,G,0BAVJH,mBAAA,CAAiC,YAA7B,4BAAwB,sBAC5BA,mBAAA,CAQM,OARNI,UAQM,G,gBAPJJ,mBAAA,CAKE;IAJAK,IAAI,EAAC,UAAU;IACfC,EAAE,EAAC,wBAAwB;IAZzC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAauBC,MAAA,CAAAC,qBAAqB,GAAAF,MAAA;IAC7BG,QAAM,EAAAJ,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEH,MAAA,CAAAI,oBAAA,IAAAJ,MAAA,CAAAI,oBAAA,IAAAD,IAAA,CAAoB;qEADpBH,MAAA,CAAAC,qBAAqB,E,6BAGhCV,mBAAA,CAA4C;IAArCc,GAAG,EAAC;EAAwB,4B,+BAGvCd,mBAAA,CAGI;IAHDH,KAAK,EAAC;EAAoB,GAAC,8KAG9B,sBACAG,mBAAA,CAEM;IAFDH,KAAK,EAvBlBkB,eAAA,EAuBmB,gBAAgB;MAAA,WAAsBN,MAAA,CAAAO;IAAa;sBACzDP,MAAA,CAAAQ,aAAa,wB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}