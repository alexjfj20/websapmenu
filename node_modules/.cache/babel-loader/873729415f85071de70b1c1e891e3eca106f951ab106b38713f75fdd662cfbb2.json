{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"inventory-container\"\n};\nconst _hoisted_2 = {\n  class: \"inventory-controls\"\n};\nconst _hoisted_3 = {\n  class: \"search-container\"\n};\nconst _hoisted_4 = {\n  class: \"filters\"\n};\nconst _hoisted_5 = {\n  class: \"actions\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"loading-container\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  class: \"error-container\"\n};\nconst _hoisted_8 = {\n  class: \"error-message\"\n};\nconst _hoisted_9 = {\n  key: 2,\n  class: \"empty-state\"\n};\nconst _hoisted_10 = {\n  class: \"inventory-table-container\"\n};\nconst _hoisted_11 = {\n  class: \"inventory-table\"\n};\nconst _hoisted_12 = {\n  class: \"actions-cell\"\n};\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = {\n  key: 4,\n  class: \"modal-overlay\"\n};\nconst _hoisted_16 = {\n  class: \"modal-container\"\n};\nconst _hoisted_17 = {\n  class: \"modal-header\"\n};\nconst _hoisted_18 = {\n  class: \"modal-body\"\n};\nconst _hoisted_19 = {\n  class: \"form-group\"\n};\nconst _hoisted_20 = {\n  class: \"form-group\"\n};\nconst _hoisted_21 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_22 = [\"disabled\"];\nconst _hoisted_23 = {\n  key: 0\n};\nconst _hoisted_24 = {\n  key: 1\n};\nconst _hoisted_25 = {\n  key: 5,\n  class: \"modal-overlay\"\n};\nconst _hoisted_26 = {\n  class: \"modal-container history-modal\"\n};\nconst _hoisted_27 = {\n  class: \"modal-header\"\n};\nconst _hoisted_28 = {\n  class: \"modal-body\"\n};\nconst _hoisted_29 = {\n  key: 0,\n  class: \"empty-history\"\n};\nconst _hoisted_30 = {\n  key: 1,\n  class: \"history-list\"\n};\nconst _hoisted_31 = {\n  class: \"history-date\"\n};\nconst _hoisted_32 = {\n  class: \"history-details\"\n};\nconst _hoisted_33 = {\n  class: \"history-quantity\"\n};\nconst _hoisted_34 = {\n  class: \"history-stock\"\n};\nconst _hoisted_35 = {\n  class: \"history-reason\"\n};\nconst _hoisted_36 = {\n  class: \"history-user\"\n};\nconst _hoisted_37 = {\n  class: \"modal-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[27] || (_cache[27] = _createElementVNode(\"h2\", {\n    class: \"section-title\"\n  }, \"Gestión de Inventario\", -1 /* HOISTED */)), _createCommentVNode(\" Controles de filtrado y búsqueda \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchTerm = $event),\n    placeholder: \"Buscar producto...\",\n    class: \"search-input\",\n    onInput: _cache[1] || (_cache[1] = (...args) => $setup.handleSearchInput && $setup.handleSearchInput(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $setup.searchTerm]])]), _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.stockFilter = $event),\n    onChange: _cache[3] || (_cache[3] = (...args) => $setup.applyFilters && $setup.applyFilters(...args)),\n    class: \"filter-select\"\n  }, _cache[15] || (_cache[15] = [_createElementVNode(\"option\", {\n    value: \"all\"\n  }, \"Todos los productos\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"low\"\n  }, \"Stock bajo\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"out\"\n  }, \"Sin stock\", -1 /* HOISTED */)]), 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $setup.stockFilter]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.categoryFilter = $event),\n    onChange: _cache[5] || (_cache[5] = (...args) => $setup.applyFilters && $setup.applyFilters(...args)),\n    class: \"filter-select\"\n  }, _cache[16] || (_cache[16] = [_createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Todas las categorías\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"con_refresco\"\n  }, \"Con refresco\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"sin_refresco\"\n  }, \"Sin refresco\", -1 /* HOISTED */)]), 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $setup.categoryFilter]])]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = (...args) => $setup.refreshInventory && $setup.refreshInventory(...args)),\n    class: \"refresh-btn\"\n  }, _cache[17] || (_cache[17] = [_createElementVNode(\"span\", {\n    class: \"btn-icon\"\n  }, \"🔄\", -1 /* HOISTED */), _createTextVNode(\" Actualizar \")]))])]), _createCommentVNode(\" Estados de carga y error \"), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _cache[18] || (_cache[18] = [_createElementVNode(\"div\", {\n    class: \"spinner\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"p\", null, \"Cargando inventario...\", -1 /* HOISTED */)]))) : $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"p\", _hoisted_8, _toDisplayString($setup.error), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[7] || (_cache[7] = (...args) => $setup.loadInventory && $setup.loadInventory(...args)),\n    class: \"retry-btn\"\n  }, \"Reintentar\")])) : $setup.filteredProducts.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _cache[19] || (_cache[19] = [_createElementVNode(\"div\", {\n    class: \"empty-icon\"\n  }, \"📦\", -1 /* HOISTED */), _createElementVNode(\"p\", null, \"No se encontraron productos\", -1 /* HOISTED */), _createElementVNode(\"p\", {\n    class: \"empty-desc\"\n  }, \"Intenta cambiar los filtros de búsqueda o agrega nuevos productos al inventario\", -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 3\n  }, [_createCommentVNode(\" Tabla de inventario \"), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"table\", _hoisted_11, [_cache[20] || (_cache[20] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Nombre\"), _createElementVNode(\"th\", null, \"Categoría\"), _createElementVNode(\"th\", null, \"Stock Actual\"), _createElementVNode(\"th\", null, \"Estado\"), _createElementVNode(\"th\", null, \"Última Actualización\"), _createElementVNode(\"th\", null, \"Acciones\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredProducts, product => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: product.id,\n      class: _normalizeClass($setup.getRowClass(product))\n    }, [_createElementVNode(\"td\", null, _toDisplayString(product.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(product.includesDrink ? 'Con refresco' : 'Sin refresco'), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(product.availableQuantity), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      class: _normalizeClass($setup.getStatusClass(product))\n    }, _toDisplayString($setup.getStatusText(product)), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", null, _toDisplayString($setup.formatDate(product.lastUpdated)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_12, [_createElementVNode(\"button\", {\n      onClick: $event => $setup.openUpdateStockModal(product),\n      class: \"update-btn\",\n      title: \"Actualizar stock\"\n    }, \" 📝 \", 8 /* PROPS */, _hoisted_13), _createElementVNode(\"button\", {\n      onClick: $event => $setup.openHistoryModal(product),\n      class: \"history-btn\",\n      title: \"Ver historial\"\n    }, \" 📋 \", 8 /* PROPS */, _hoisted_14)])], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */))])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Modal para actualizar stock \"), $setup.showUpdateModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_cache[21] || (_cache[21] = _createElementVNode(\"h3\", null, \"Actualizar Stock\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[8] || (_cache[8] = (...args) => $setup.closeUpdateModal && $setup.closeUpdateModal(...args)),\n    class: \"close-btn\"\n  }, \"×\")]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"p\", null, [_cache[22] || (_cache[22] = _createElementVNode(\"strong\", null, \"Producto:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.selectedProduct?.name), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[23] || (_cache[23] = _createElementVNode(\"strong\", null, \"Stock actual:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.selectedProduct?.availableQuantity || 0), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_19, [_cache[24] || (_cache[24] = _createElementVNode(\"label\", {\n    for: \"newStock\"\n  }, \"Nuevo stock:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"newStock\",\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.updateStockForm.newQuantity = $event),\n    min: \"0\",\n    class: \"form-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.updateStockForm.newQuantity]])]), _createElementVNode(\"div\", _hoisted_20, [_cache[25] || (_cache[25] = _createElementVNode(\"label\", {\n    for: \"reason\"\n  }, \"Motivo del ajuste:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"reason\",\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $setup.updateStockForm.reason = $event),\n    class: \"form-textarea\",\n    placeholder: \"Explique el motivo del ajuste de inventario\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.updateStockForm.reason]])])]), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"button\", {\n    onClick: _cache[11] || (_cache[11] = (...args) => $setup.closeUpdateModal && $setup.closeUpdateModal(...args)),\n    class: \"cancel-btn\"\n  }, \"Cancelar\"), _createElementVNode(\"button\", {\n    onClick: _cache[12] || (_cache[12] = (...args) => $setup.updateStock && $setup.updateStock(...args)),\n    class: \"save-btn\",\n    disabled: $setup.updateStockForm.isUpdating\n  }, [$setup.updateStockForm.isUpdating ? (_openBlock(), _createElementBlock(\"span\", _hoisted_23, \"Actualizando...\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_24, \"Guardar Cambios\"))], 8 /* PROPS */, _hoisted_22)])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Modal para ver historial \"), $setup.showHistoryModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"h3\", null, \"Historial de \" + _toDisplayString($setup.selectedProduct?.name), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[13] || (_cache[13] = (...args) => $setup.closeHistoryModal && $setup.closeHistoryModal(...args)),\n    class: \"close-btn\"\n  }, \"×\")]), _createElementVNode(\"div\", _hoisted_28, [$setup.productHistory.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_29, _cache[26] || (_cache[26] = [_createElementVNode(\"p\", null, \"No hay registros de movimientos para este producto.\", -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_30, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.productHistory, (record, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"history-item\"\n    }, [_createElementVNode(\"div\", _hoisted_31, _toDisplayString($setup.formatDate(record.date)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_32, [_createElementVNode(\"span\", {\n      class: _normalizeClass([\"history-type\", record.type])\n    }, _toDisplayString(record.type === 'increase' ? 'Incremento' : record.type === 'decrease' ? 'Reducción' : 'Ajuste'), 3 /* TEXT, CLASS */), _createElementVNode(\"span\", _hoisted_33, _toDisplayString(record.type === 'increase' ? '+' : '') + _toDisplayString(record.change), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_34, \" Stock resultante: \" + _toDisplayString(record.newQuantity), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_35, _toDisplayString(record.reason || 'Sin motivo especificado'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_36, \" Por: \" + _toDisplayString(record.userName || 'Sistema'), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]))]), _createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"button\", {\n    onClick: _cache[14] || (_cache[14] = (...args) => $setup.closeHistoryModal && $setup.closeHistoryModal(...args)),\n    class: \"cancel-btn\"\n  }, \"Cerrar\")])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","_hoisted_3","_cache","$event","$setup","searchTerm","placeholder","onInput","args","handleSearchInput","_hoisted_4","stockFilter","onChange","applyFilters","value","categoryFilter","_hoisted_5","onClick","refreshInventory","_createTextVNode","loading","_hoisted_6","error","_hoisted_7","_hoisted_8","_toDisplayString","loadInventory","filteredProducts","length","_hoisted_9","_Fragment","_hoisted_10","_hoisted_11","_renderList","product","id","_normalizeClass","getRowClass","name","includesDrink","availableQuantity","getStatusClass","getStatusText","formatDate","lastUpdated","_hoisted_12","openUpdateStockModal","title","_hoisted_13","openHistoryModal","_hoisted_14","showUpdateModal","_hoisted_15","_hoisted_16","_hoisted_17","closeUpdateModal","_hoisted_18","selectedProduct","_hoisted_19","for","type","updateStockForm","newQuantity","min","_hoisted_20","reason","_hoisted_21","updateStock","disabled","isUpdating","_hoisted_23","_hoisted_24","_hoisted_22","showHistoryModal","_hoisted_25","_hoisted_26","_hoisted_27","closeHistoryModal","_hoisted_28","productHistory","_hoisted_29","_hoisted_30","record","index","_hoisted_31","date","_hoisted_32","_hoisted_33","change","_hoisted_34","_hoisted_35","_hoisted_36","userName","_hoisted_37"],"sources":["F:\\Driver google\\VUE.JS-2\\temp\\websap\\src\\components\\admin\\AdminInventory.vue"],"sourcesContent":["<template>\r\n  <div class=\"inventory-container\">\r\n    <h2 class=\"section-title\">Gestión de Inventario</h2>\r\n    \r\n    <!-- Controles de filtrado y búsqueda -->\r\n    <div class=\"inventory-controls\">\r\n      <div class=\"search-container\">\r\n        <input \r\n          v-model=\"searchTerm\" \r\n          placeholder=\"Buscar producto...\" \r\n          class=\"search-input\"\r\n          @input=\"handleSearchInput\"\r\n        />\r\n      </div>\r\n      \r\n      <div class=\"filters\">\r\n        <select v-model=\"stockFilter\" @change=\"applyFilters\" class=\"filter-select\">\r\n          <option value=\"all\">Todos los productos</option>\r\n          <option value=\"low\">Stock bajo</option>\r\n          <option value=\"out\">Sin stock</option>\r\n        </select>\r\n        \r\n        <select v-model=\"categoryFilter\" @change=\"applyFilters\" class=\"filter-select\">\r\n          <option value=\"\">Todas las categorías</option>\r\n          <option value=\"con_refresco\">Con refresco</option>\r\n          <option value=\"sin_refresco\">Sin refresco</option>\r\n        </select>\r\n      </div>\r\n      \r\n      <div class=\"actions\">\r\n        <button @click=\"refreshInventory\" class=\"refresh-btn\">\r\n          <span class=\"btn-icon\">🔄</span> Actualizar\r\n        </button>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Estados de carga y error -->\r\n    <div v-if=\"loading\" class=\"loading-container\">\r\n      <div class=\"spinner\"></div>\r\n      <p>Cargando inventario...</p>\r\n    </div>\r\n    \r\n    <div v-else-if=\"error\" class=\"error-container\">\r\n      <p class=\"error-message\">{{ error }}</p>\r\n      <button @click=\"loadInventory\" class=\"retry-btn\">Reintentar</button>\r\n    </div>\r\n    \r\n    <div v-else-if=\"filteredProducts.length === 0\" class=\"empty-state\">\r\n      <div class=\"empty-icon\">📦</div>\r\n      <p>No se encontraron productos</p>\r\n      <p class=\"empty-desc\">Intenta cambiar los filtros de búsqueda o agrega nuevos productos al inventario</p>\r\n    </div>\r\n    \r\n    <!-- Tabla de inventario -->\r\n    <div v-else class=\"inventory-table-container\">\r\n      <table class=\"inventory-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Nombre</th>\r\n            <th>Categoría</th>\r\n            <th>Stock Actual</th>\r\n            <th>Estado</th>\r\n            <th>Última Actualización</th>\r\n            <th>Acciones</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"product in filteredProducts\" :key=\"product.id\" :class=\"getRowClass(product)\">\r\n            <td>{{ product.name }}</td>\r\n            <td>{{ product.includesDrink ? 'Con refresco' : 'Sin refresco' }}</td>\r\n            <td>{{ product.availableQuantity }}</td>\r\n            <td>\r\n              <span :class=\"getStatusClass(product)\">\r\n                {{ getStatusText(product) }}\r\n              </span>\r\n            </td>\r\n            <td>{{ formatDate(product.lastUpdated) }}</td>\r\n            <td class=\"actions-cell\">\r\n              <button @click=\"openUpdateStockModal(product)\" class=\"update-btn\" title=\"Actualizar stock\">\r\n                📝\r\n              </button>\r\n              <button @click=\"openHistoryModal(product)\" class=\"history-btn\" title=\"Ver historial\">\r\n                📋\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    \r\n    <!-- Modal para actualizar stock -->\r\n    <div v-if=\"showUpdateModal\" class=\"modal-overlay\">\r\n      <div class=\"modal-container\">\r\n        <div class=\"modal-header\">\r\n          <h3>Actualizar Stock</h3>\r\n          <button @click=\"closeUpdateModal\" class=\"close-btn\">&times;</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <p><strong>Producto:</strong> {{ selectedProduct?.name }}</p>\r\n          <p><strong>Stock actual:</strong> {{ selectedProduct?.availableQuantity || 0 }}</p>\r\n          \r\n          <div class=\"form-group\">\r\n            <label for=\"newStock\">Nuevo stock:</label>\r\n            <input \r\n              type=\"number\" \r\n              id=\"newStock\" \r\n              v-model=\"updateStockForm.newQuantity\" \r\n              min=\"0\" \r\n              class=\"form-input\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label for=\"reason\">Motivo del ajuste:</label>\r\n            <textarea \r\n              id=\"reason\" \r\n              v-model=\"updateStockForm.reason\" \r\n              class=\"form-textarea\" \r\n              placeholder=\"Explique el motivo del ajuste de inventario\"\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button @click=\"closeUpdateModal\" class=\"cancel-btn\">Cancelar</button>\r\n          <button @click=\"updateStock\" class=\"save-btn\" :disabled=\"updateStockForm.isUpdating\">\r\n            <span v-if=\"updateStockForm.isUpdating\">Actualizando...</span>\r\n            <span v-else>Guardar Cambios</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Modal para ver historial -->\r\n    <div v-if=\"showHistoryModal\" class=\"modal-overlay\">\r\n      <div class=\"modal-container history-modal\">\r\n        <div class=\"modal-header\">\r\n          <h3>Historial de {{ selectedProduct?.name }}</h3>\r\n          <button @click=\"closeHistoryModal\" class=\"close-btn\">&times;</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div v-if=\"productHistory.length === 0\" class=\"empty-history\">\r\n            <p>No hay registros de movimientos para este producto.</p>\r\n          </div>\r\n          <div v-else class=\"history-list\">\r\n            <div v-for=\"(record, index) in productHistory\" :key=\"index\" class=\"history-item\">\r\n              <div class=\"history-date\">{{ formatDate(record.date) }}</div>\r\n              <div class=\"history-details\">\r\n                <span class=\"history-type\" :class=\"record.type\">\r\n                  {{ record.type === 'increase' ? 'Incremento' : record.type === 'decrease' ? 'Reducción' : 'Ajuste' }}\r\n                </span>\r\n                <span class=\"history-quantity\">\r\n                  {{ record.type === 'increase' ? '+' : '' }}{{ record.change }}\r\n                </span>\r\n                <span class=\"history-stock\">\r\n                  Stock resultante: {{ record.newQuantity }}\r\n                </span>\r\n              </div>\r\n              <div class=\"history-reason\">\r\n                {{ record.reason || 'Sin motivo especificado' }}\r\n              </div>\r\n              <div class=\"history-user\">\r\n                Por: {{ record.userName || 'Sistema' }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button @click=\"closeHistoryModal\" class=\"cancel-btn\">Cerrar</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport { getMenuItems, updateItemStock } from '../../services/adminService';\r\nimport { alert, confirm } from '../../services/dialogService';\r\nimport { getCurrentUser } from '../../services/authService';\r\n\r\nexport default {\r\n  name: 'AdminInventory',\r\n  setup() {\r\n    // Estados\r\n    const products = ref([]);\r\n    const loading = ref(true);\r\n    const error = ref(null);\r\n    const searchTerm = ref('');\r\n    const stockFilter = ref('all');\r\n    const categoryFilter = ref('');\r\n    \r\n    // Estados para modales\r\n    const showUpdateModal = ref(false);\r\n    const showHistoryModal = ref(false);\r\n    const selectedProduct = ref(null);\r\n    const productHistory = ref([]);\r\n    \r\n    // Formulario para actualizar stock\r\n    const updateStockForm = ref({\r\n      newQuantity: 0,\r\n      reason: '',\r\n      isUpdating: false\r\n    });\r\n    \r\n    // Cargar productos al montar el componente\r\n    onMounted(() => {\r\n      loadInventory();\r\n    });\r\n    \r\n    // Cargar inventario de productos\r\n    const loadInventory = async () => {\r\n      try {\r\n        loading.value = true;\r\n        error.value = null;\r\n        \r\n        const response = await getMenuItems();\r\n        \r\n        if (response.success) {\r\n          // Asegurar que cada producto tiene propiedades relacionadas con el inventario\r\n          products.value = response.data.map(item => ({\r\n            ...item,\r\n            availableQuantity: item.availableQuantity || 0,\r\n            lastUpdated: item.lastUpdated || new Date().toISOString(),\r\n            stockHistory: item.stockHistory || []\r\n          }));\r\n          \r\n          console.log('Inventario cargado:', products.value);\r\n        } else {\r\n          throw new Error(response.message || 'Error al cargar el inventario');\r\n        }\r\n      } catch (err) {\r\n        console.error('Error al cargar inventario:', err);\r\n        error.value = `Error al cargar inventario: ${err.message || 'Error desconocido'}`;\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n    \r\n    // Refrescar inventario\r\n    const refreshInventory = () => {\r\n      loadInventory();\r\n    };\r\n    \r\n    // Función para manejar la búsqueda\r\n    const handleSearchInput = () => {\r\n      // La búsqueda se aplica automáticamente a través del computed filteredProducts\r\n    };\r\n    \r\n    // Aplicar filtros\r\n    const applyFilters = () => {\r\n      // Los filtros se aplican automáticamente a través del computed filteredProducts\r\n    };\r\n    \r\n    // Productos filtrados\r\n    const filteredProducts = computed(() => {\r\n      let result = [...products.value];\r\n      \r\n      // Aplicar búsqueda por término\r\n      if (searchTerm.value) {\r\n        const term = searchTerm.value.toLowerCase();\r\n        result = result.filter(product => \r\n          product.name?.toLowerCase().includes(term)\r\n        );\r\n      }\r\n      \r\n      // Aplicar filtro por estado de stock\r\n      if (stockFilter.value !== 'all') {\r\n        if (stockFilter.value === 'low') {\r\n          result = result.filter(product => \r\n            product.availableQuantity > 0 && product.availableQuantity <= 5\r\n          );\r\n        } else if (stockFilter.value === 'out') {\r\n          result = result.filter(product => \r\n            product.availableQuantity === 0\r\n          );\r\n        }\r\n      }\r\n      \r\n      // Aplicar filtro por categoría\r\n      if (categoryFilter.value) {\r\n        if (categoryFilter.value === 'con_refresco') {\r\n          result = result.filter(product => product.includesDrink);\r\n        } else if (categoryFilter.value === 'sin_refresco') {\r\n          result = result.filter(product => !product.includesDrink);\r\n        }\r\n      }\r\n      \r\n      return result;\r\n    });\r\n    \r\n    // Obtener clase para la fila según el estado del stock\r\n    const getRowClass = (product) => {\r\n      if (product.availableQuantity === 0) {\r\n        return 'out-of-stock-row';\r\n      } else if (product.availableQuantity <= 5) {\r\n        return 'low-stock-row';\r\n      }\r\n      return '';\r\n    };\r\n    \r\n    // Obtener clase para el estado\r\n    const getStatusClass = (product) => {\r\n      if (product.availableQuantity === 0) {\r\n        return 'status-badge out-of-stock';\r\n      } else if (product.availableQuantity <= 5) {\r\n        return 'status-badge low-stock';\r\n      }\r\n      return 'status-badge in-stock';\r\n    };\r\n    \r\n    // Obtener texto de estado\r\n    const getStatusText = (product) => {\r\n      if (product.availableQuantity === 0) {\r\n        return 'Sin stock';\r\n      } else if (product.availableQuantity <= 5) {\r\n        return 'Stock bajo';\r\n      }\r\n      return 'Disponible';\r\n    };\r\n    \r\n    // Formatear fecha\r\n    const formatDate = (dateString) => {\r\n      if (!dateString) return 'N/A';\r\n      \r\n      try {\r\n        const date = new Date(dateString);\r\n        return new Intl.DateTimeFormat('es-ES', {\r\n          day: '2-digit',\r\n          month: '2-digit',\r\n          year: 'numeric',\r\n          hour: '2-digit',\r\n          minute: '2-digit'\r\n        }).format(date);\r\n      } catch (err) {\r\n        console.error('Error al formatear fecha:', err);\r\n        return 'Fecha inválida';\r\n      }\r\n    };\r\n    \r\n    // Abrir modal para actualizar stock\r\n    const openUpdateStockModal = (product) => {\r\n      selectedProduct.value = { ...product };\r\n      updateStockForm.value = {\r\n        newQuantity: product.availableQuantity,\r\n        reason: '',\r\n        isUpdating: false\r\n      };\r\n      showUpdateModal.value = true;\r\n    };\r\n    \r\n    // Cerrar modal de actualización\r\n    const closeUpdateModal = () => {\r\n      showUpdateModal.value = false;\r\n      selectedProduct.value = null;\r\n    };\r\n    \r\n    // Actualizar stock\r\n    const updateStock = async () => {\r\n      if (!selectedProduct.value) return;\r\n      \r\n      // Validar datos\r\n      if (isNaN(updateStockForm.value.newQuantity) || updateStockForm.value.newQuantity < 0) {\r\n        await alert('Por favor ingrese una cantidad válida (mayor o igual a 0)');\r\n        return;\r\n      }\r\n      \r\n      if (!updateStockForm.value.reason.trim()) {\r\n        await alert('Por favor ingrese un motivo para el ajuste de inventario');\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        updateStockForm.value.isUpdating = true;\r\n        \r\n        // Determinar el tipo de movimiento\r\n        const currentQuantity = selectedProduct.value.availableQuantity;\r\n        const newQuantity = parseInt(updateStockForm.value.newQuantity);\r\n        const difference = newQuantity - currentQuantity;\r\n        const type = difference > 0 ? 'increase' : difference < 0 ? 'decrease' : 'adjustment';\r\n        \r\n        // Crear registro de historial\r\n        const currentUser = getCurrentUser();\r\n        const historyRecord = {\r\n          date: new Date().toISOString(),\r\n          type,\r\n          change: Math.abs(difference),\r\n          previousQuantity: currentQuantity,\r\n          newQuantity,\r\n          reason: updateStockForm.value.reason,\r\n          userId: currentUser?.id,\r\n          userName: currentUser?.nombre || 'Usuario'\r\n        };\r\n        \r\n        // Actualizar en base de datos\r\n        await updateItemStock(\r\n          selectedProduct.value.id, \r\n          newQuantity, \r\n          historyRecord\r\n        );\r\n        \r\n        // Actualizar en estado local\r\n        const productIndex = products.value.findIndex(p => p.id === selectedProduct.value.id);\r\n        if (productIndex !== -1) {\r\n          products.value[productIndex].availableQuantity = newQuantity;\r\n          products.value[productIndex].lastUpdated = new Date().toISOString();\r\n          \r\n          // Añadir al historial\r\n          if (!products.value[productIndex].stockHistory) {\r\n            products.value[productIndex].stockHistory = [];\r\n          }\r\n          products.value[productIndex].stockHistory.push(historyRecord);\r\n        }\r\n        \r\n        // Mostrar confirmación\r\n        await alert('Stock actualizado correctamente', { title: 'Actualización Exitosa' });\r\n        \r\n        // Cerrar modal\r\n        closeUpdateModal();\r\n      } catch (err) {\r\n        console.error('Error al actualizar stock:', err);\r\n        await alert(`Error al actualizar stock: ${err.message || 'Error desconocido'}`);\r\n      } finally {\r\n        updateStockForm.value.isUpdating = false;\r\n      }\r\n    };\r\n    \r\n    // Abrir modal de historial\r\n    const openHistoryModal = (product) => {\r\n      selectedProduct.value = { ...product };\r\n      \r\n      // Obtener historial del producto\r\n      productHistory.value = product.stockHistory || [];\r\n      \r\n      showHistoryModal.value = true;\r\n    };\r\n    \r\n    // Cerrar modal de historial\r\n    const closeHistoryModal = () => {\r\n      showHistoryModal.value = false;\r\n      selectedProduct.value = null;\r\n      productHistory.value = [];\r\n    };\r\n    \r\n    return {\r\n      products,\r\n      loading,\r\n      error,\r\n      searchTerm,\r\n      stockFilter,\r\n      categoryFilter,\r\n      filteredProducts,\r\n      showUpdateModal,\r\n      showHistoryModal,\r\n      selectedProduct,\r\n      productHistory,\r\n      updateStockForm,\r\n      loadInventory,\r\n      refreshInventory,\r\n      handleSearchInput,\r\n      applyFilters,\r\n      getRowClass,\r\n      getStatusClass,\r\n      getStatusText,\r\n      formatDate,\r\n      openUpdateStockModal,\r\n      closeUpdateModal,\r\n      updateStock,\r\n      openHistoryModal,\r\n      closeHistoryModal\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.inventory-container {\r\n  padding: 0;\r\n}\r\n\r\n.section-title {\r\n  font-size: 24px;\r\n  margin-bottom: 30px;\r\n  color: #333;\r\n  border-bottom: 2px solid #4CAF50;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n/* Controles y filtros */\r\n.inventory-controls {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 15px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.search-container {\r\n  flex-grow: 1;\r\n  min-width: 250px;\r\n}\r\n\r\n.search-input {\r\n  width: 100%;\r\n  padding: 10px 15px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.filter-select {\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  background-color: white;\r\n}\r\n\r\n.actions {\r\n  margin-left: auto;\r\n}\r\n\r\n.refresh-btn {\r\n  background-color: #4CAF50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 10px 15px;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.refresh-btn:hover {\r\n  background-color: #45a049;\r\n}\r\n\r\n.btn-icon {\r\n  font-size: 16px;\r\n}\r\n\r\n/* Estados de carga y error */\r\n.loading-container, .error-container, .empty-state {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 50px 20px;\r\n  text-align: center;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  margin: 20px 0;\r\n}\r\n\r\n.spinner {\r\n  border: 4px solid rgba(0, 0, 0, 0.1);\r\n  border-radius: 50%;\r\n  border-top: 4px solid #4CAF50;\r\n  width: 30px;\r\n  height: 30px;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.error-message {\r\n  color: #f44336;\r\n  font-weight: bold;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.retry-btn {\r\n  background-color: #2196F3;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 8px 15px;\r\n  cursor: pointer;\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 48px;\r\n  margin-bottom: 15px;\r\n  color: #bbb;\r\n}\r\n\r\n.empty-desc {\r\n  color: #777;\r\n  font-size: 14px;\r\n  margin-top: 10px;\r\n}\r\n\r\n/* Tabla de inventario */\r\n.inventory-table-container {\r\n  overflow-x: auto;\r\n  margin-top: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 0 10px rgba(0,0,0,0.1);\r\n}\r\n\r\n.inventory-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.inventory-table th,\r\n.inventory-table td {\r\n  padding: 12px 15px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.inventory-table thead {\r\n  background-color: #4CAF50;\r\n  color: white;\r\n}\r\n\r\n.inventory-table tbody tr:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.inventory-table .actions-cell {\r\n  white-space: nowrap;\r\n  text-align: center;\r\n}\r\n\r\n/* Clases para estados de stock */\r\n.out-of-stock-row {\r\n  background-color: #ffebee;\r\n}\r\n\r\n.low-stock-row {\r\n  background-color: #fff8e1;\r\n}\r\n\r\n.status-badge {\r\n  display: inline-block;\r\n  padding: 4px 8px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n}\r\n\r\n.in-stock {\r\n  background-color: #4CAF50;\r\n  color: white;\r\n}\r\n\r\n.low-stock {\r\n  background-color: #FFC107;\r\n  color: #333;\r\n}\r\n\r\n.out-of-stock {\r\n  background-color: #F44336;\r\n  color: white;\r\n}\r\n\r\n/* Botones de acción */\r\n.update-btn, .history-btn {\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 4px;\r\n  border: none;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n  margin: 0 2px;\r\n}\r\n\r\n.update-btn {\r\n  background-color: #2196F3;\r\n  color: white;\r\n}\r\n\r\n.update-btn:hover {\r\n  background-color: #0b7dda;\r\n}\r\n\r\n.history-btn {\r\n  background-color: #9E9E9E;\r\n  color: white;\r\n}\r\n\r\n.history-btn:hover {\r\n  background-color: #757575;\r\n}\r\n\r\n/* Modales */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-container {\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\r\n  width: 90%;\r\n  max-width: 500px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n  animation: modalFadeIn 0.3s;\r\n}\r\n\r\n.history-modal {\r\n  max-width: 700px;\r\n}\r\n\r\n@keyframes modalFadeIn {\r\n  from { opacity: 0; transform: translateY(-20px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 15px 20px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.modal-header h3 {\r\n  margin: 0;\r\n  color: #333;\r\n}\r\n\r\n.close-btn {\r\n  background: none;\r\n  border: none;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n  color: #777;\r\n}\r\n\r\n.modal-body {\r\n  padding: 20px;\r\n}\r\n\r\n.modal-footer {\r\n  padding: 15px 20px;\r\n  border-top: 1px solid #eee;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n}\r\n\r\n/* Formulario */\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n  color: #555;\r\n}\r\n\r\n.form-input {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n}\r\n\r\n.form-textarea {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n  min-height: 100px;\r\n  resize: vertical;\r\n}\r\n\r\n/* Botones modal */\r\n.cancel-btn, .save-btn {\r\n  padding: 8px 16px;\r\n  border-radius: 4px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  border: none;\r\n}\r\n\r\n.cancel-btn {\r\n  background-color: #f5f5f5;\r\n  color: #333;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n.save-btn {\r\n  background-color: #4CAF50;\r\n  color: white;\r\n}\r\n\r\n.save-btn:hover {\r\n  background-color: #45a049;\r\n}\r\n\r\n.save-btn:disabled {\r\n  background-color: #9E9E9E;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* Historial */\r\n.history-list {\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.history-item {\r\n  padding: 12px;\r\n  border-bottom: 1px solid #eee;\r\n  position: relative;\r\n}\r\n\r\n.history-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.history-date {\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.history-details {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 5px;\r\n  align-items: center;\r\n}\r\n\r\n.history-type {\r\n  display: inline-block;\r\n  padding: 3px 8px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n}\r\n\r\n.history-type.increase {\r\n  background-color: #4CAF50;\r\n  color: white;\r\n}\r\n\r\n.history-type.decrease {\r\n  background-color: #F44336;\r\n  color: white;\r\n}\r\n\r\n.history-type.adjustment {\r\n  background-color: #2196F3;\r\n  color: white;\r\n}\r\n\r\n.history-quantity {\r\n  font-weight: bold;\r\n}\r\n\r\n.history-reason {\r\n  margin-top: 5px;\r\n  font-style: italic;\r\n  color: #555;\r\n}\r\n\r\n.history-user {\r\n  margin-top: 5px;\r\n  font-size: 12px;\r\n  color: #777;\r\n  text-align: right;\r\n}\r\n\r\n.empty-history {\r\n  padding: 30px;\r\n  text-align: center;\r\n  color: #777;\r\n  font-style: italic;\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 768px) {\r\n  .inventory-controls {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .search-container, .filters, .actions {\r\n    width: 100%;\r\n  }\r\n  \r\n  .actions {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .inventory-table th,\r\n  .inventory-table td {\r\n    padding: 8px;\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}