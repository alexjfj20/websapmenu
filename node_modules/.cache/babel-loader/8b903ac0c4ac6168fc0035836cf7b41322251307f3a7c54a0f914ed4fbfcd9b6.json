{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport eventBus from '@/utils/eventBus';\nexport default {\n  name: 'AdminConfig',\n  setup() {\n    const whatsappButtonEnabled = ref(true);\n    const statusMessage = ref('');\n    const statusSuccess = ref(true);\n\n    // Cargar el estado actual al montar el componente\n    onMounted(() => {\n      const storedValue = localStorage.getItem('whatsappButtonEnabled');\n      // Si tiene un valor específico en localStorage, usar ese valor\n      if (storedValue !== null) {\n        whatsappButtonEnabled.value = storedValue === 'true';\n      }\n    });\n\n    // Función para activar/desactivar el botón de WhatsApp\n    const toggleWhatsAppButton = () => {\n      try {\n        // Guardar en localStorage\n        localStorage.setItem('whatsappButtonEnabled', whatsappButtonEnabled.value);\n\n        // Emitir evento para notificar al componente WhatsAppSimulator\n        eventBus.emit('whatsapp-button-config-changed', whatsappButtonEnabled.value);\n\n        // Mostrar mensaje de confirmación\n        statusMessage.value = whatsappButtonEnabled.value ? 'Botón \"Simular WhatsApp\" activado correctamente' : 'Botón \"Simular WhatsApp\" desactivado correctamente';\n        statusSuccess.value = true;\n\n        // Limpiar el mensaje después de 5 segundos\n        setTimeout(() => {\n          statusMessage.value = '';\n        }, 5000);\n      } catch (error) {\n        console.error('Error al cambiar la configuración del botón WhatsApp:', error);\n        statusMessage.value = 'Error al cambiar la configuración';\n        statusSuccess.value = false;\n      }\n    };\n    return {\n      whatsappButtonEnabled,\n      toggleWhatsAppButton,\n      statusMessage,\n      statusSuccess\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","eventBus","name","setup","whatsappButtonEnabled","statusMessage","statusSuccess","storedValue","localStorage","getItem","value","toggleWhatsAppButton","setItem","emit","setTimeout","error","console"],"sources":["F:\\Driver google\\VUE.JS-2\\VUE-JS\\websap\\src\\components\\admin\\AdminConfig.vue"],"sourcesContent":["<template>\r\n  <div class=\"admin-config\">\r\n    <h2>Configuración de la Aplicación</h2>\r\n    \r\n    <div class=\"config-section\">\r\n      <h3>Configuración General</h3>\r\n      <div class=\"config-item\">\r\n        <div class=\"config-header\">\r\n          <h4>Botón \"Simular WhatsApp\"</h4>\r\n          <div class=\"toggle-switch\">\r\n            <input \r\n              type=\"checkbox\" \r\n              id=\"whatsapp-button-toggle\" \r\n              v-model=\"whatsappButtonEnabled\" \r\n              @change=\"toggleWhatsAppButton\"\r\n            />\r\n            <label for=\"whatsapp-button-toggle\"></label>\r\n          </div>\r\n        </div>\r\n        <p class=\"config-description\">\r\n          Activa o desactiva el botón \"Simular WhatsApp\" en todas las páginas de la aplicación. \r\n          Esta función permite a los usuarios simular reservas como si vinieran de WhatsApp.\r\n        </p>\r\n        <div class=\"status-message\" :class=\"{ 'success': statusSuccess }\">\r\n          {{ statusMessage }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport eventBus from '@/utils/eventBus';\r\n\r\nexport default {\r\n  name: 'AdminConfig',\r\n  setup() {\r\n    const whatsappButtonEnabled = ref(true);\r\n    const statusMessage = ref('');\r\n    const statusSuccess = ref(true);\r\n    \r\n    // Cargar el estado actual al montar el componente\r\n    onMounted(() => {\r\n      const storedValue = localStorage.getItem('whatsappButtonEnabled');\r\n      // Si tiene un valor específico en localStorage, usar ese valor\r\n      if (storedValue !== null) {\r\n        whatsappButtonEnabled.value = storedValue === 'true';\r\n      }\r\n    });\r\n    \r\n    // Función para activar/desactivar el botón de WhatsApp\r\n    const toggleWhatsAppButton = () => {\r\n      try {\r\n        // Guardar en localStorage\r\n        localStorage.setItem('whatsappButtonEnabled', whatsappButtonEnabled.value);\r\n        \r\n        // Emitir evento para notificar al componente WhatsAppSimulator\r\n        eventBus.emit('whatsapp-button-config-changed', whatsappButtonEnabled.value);\r\n        \r\n        // Mostrar mensaje de confirmación\r\n        statusMessage.value = whatsappButtonEnabled.value \r\n          ? 'Botón \"Simular WhatsApp\" activado correctamente' \r\n          : 'Botón \"Simular WhatsApp\" desactivado correctamente';\r\n        statusSuccess.value = true;\r\n        \r\n        // Limpiar el mensaje después de 5 segundos\r\n        setTimeout(() => {\r\n          statusMessage.value = '';\r\n        }, 5000);\r\n      } catch (error) {\r\n        console.error('Error al cambiar la configuración del botón WhatsApp:', error);\r\n        statusMessage.value = 'Error al cambiar la configuración';\r\n        statusSuccess.value = false;\r\n      }\r\n    };\r\n    \r\n    return {\r\n      whatsappButtonEnabled,\r\n      toggleWhatsAppButton,\r\n      statusMessage,\r\n      statusSuccess\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.admin-config {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.admin-config h2 {\r\n  margin-bottom: 30px;\r\n  color: #333;\r\n  border-bottom: 2px solid #4CAF50;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.config-section {\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  margin-bottom: 30px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\r\n}\r\n\r\n.config-section h3 {\r\n  color: #333;\r\n  margin-top: 0;\r\n  margin-bottom: 20px;\r\n  font-size: 18px;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.config-item {\r\n  background-color: white;\r\n  border-radius: 6px;\r\n  padding: 15px;\r\n  margin-bottom: 15px;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n}\r\n\r\n.config-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.config-header h4 {\r\n  margin: 0;\r\n  color: #333;\r\n  font-size: 16px;\r\n}\r\n\r\n.config-description {\r\n  color: #666;\r\n  font-size: 14px;\r\n  margin: 10px 0;\r\n}\r\n\r\n/* Toggle Switch Styles */\r\n.toggle-switch {\r\n  position: relative;\r\n  width: 60px;\r\n  height: 34px;\r\n}\r\n\r\n.toggle-switch input {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\n.toggle-switch label {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #ccc;\r\n  transition: .4s;\r\n  border-radius: 34px;\r\n}\r\n\r\n.toggle-switch label:before {\r\n  position: absolute;\r\n  content: \"\";\r\n  height: 26px;\r\n  width: 26px;\r\n  left: 4px;\r\n  bottom: 4px;\r\n  background-color: white;\r\n  transition: .4s;\r\n  border-radius: 50%;\r\n}\r\n\r\n.toggle-switch input:checked + label {\r\n  background-color: #4CAF50;\r\n}\r\n\r\n.toggle-switch input:checked + label:before {\r\n  transform: translateX(26px);\r\n}\r\n\r\n.status-message {\r\n  margin-top: 15px;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  text-align: center;\r\n  opacity: 0;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.status-message:not(:empty) {\r\n  opacity: 1;\r\n}\r\n\r\n.status-message.success {\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.status-message:not(.success) {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n}\r\n</style>"],"mappings":"AAgCA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAK;AACpC,OAAOC,QAAO,MAAO,kBAAkB;AAEvC,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,KAAKA,CAAA,EAAG;IACN,MAAMC,qBAAoB,GAAIL,GAAG,CAAC,IAAI,CAAC;IACvC,MAAMM,aAAY,GAAIN,GAAG,CAAC,EAAE,CAAC;IAC7B,MAAMO,aAAY,GAAIP,GAAG,CAAC,IAAI,CAAC;;IAE/B;IACAC,SAAS,CAAC,MAAM;MACd,MAAMO,WAAU,GAAIC,YAAY,CAACC,OAAO,CAAC,uBAAuB,CAAC;MACjE;MACA,IAAIF,WAAU,KAAM,IAAI,EAAE;QACxBH,qBAAqB,CAACM,KAAI,GAAIH,WAAU,KAAM,MAAM;MACtD;IACF,CAAC,CAAC;;IAEF;IACA,MAAMI,oBAAmB,GAAIA,CAAA,KAAM;MACjC,IAAI;QACF;QACAH,YAAY,CAACI,OAAO,CAAC,uBAAuB,EAAER,qBAAqB,CAACM,KAAK,CAAC;;QAE1E;QACAT,QAAQ,CAACY,IAAI,CAAC,gCAAgC,EAAET,qBAAqB,CAACM,KAAK,CAAC;;QAE5E;QACAL,aAAa,CAACK,KAAI,GAAIN,qBAAqB,CAACM,KAAI,GAC5C,iDAAgD,GAChD,oDAAoD;QACxDJ,aAAa,CAACI,KAAI,GAAI,IAAI;;QAE1B;QACAI,UAAU,CAAC,MAAM;UACfT,aAAa,CAACK,KAAI,GAAI,EAAE;QAC1B,CAAC,EAAE,IAAI,CAAC;MACV,EAAE,OAAOK,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uDAAuD,EAAEA,KAAK,CAAC;QAC7EV,aAAa,CAACK,KAAI,GAAI,mCAAmC;QACzDJ,aAAa,CAACI,KAAI,GAAI,KAAK;MAC7B;IACF,CAAC;IAED,OAAO;MACLN,qBAAqB;MACrBO,oBAAoB;MACpBN,aAAa;MACbC;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}