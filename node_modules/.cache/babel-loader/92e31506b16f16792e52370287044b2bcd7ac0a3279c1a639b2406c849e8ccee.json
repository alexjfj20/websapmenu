{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, vModelText as _vModelText, withDirectives as _withDirectives, vModelRadio as _vModelRadio, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"shared-menu-container\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"error\"\n};\nconst _hoisted_4 = {\n  key: 2,\n  class: \"menu-content\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"business-info\"\n};\nconst _hoisted_6 = [\"src\"];\nconst _hoisted_7 = {\n  class: \"description\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"contact-info\"\n};\nconst _hoisted_9 = {\n  key: 0\n};\nconst _hoisted_10 = {\n  key: 1\n};\nconst _hoisted_11 = {\n  class: \"menu-list\"\n};\nconst _hoisted_12 = {\n  class: \"menu-items\"\n};\nconst _hoisted_13 = {\n  class: \"item-image-container\"\n};\nconst _hoisted_14 = [\"src\"];\nconst _hoisted_15 = {\n  key: 1,\n  class: \"no-image\"\n};\nconst _hoisted_16 = {\n  class: \"item-details\"\n};\nconst _hoisted_17 = {\n  class: \"item-description\"\n};\nconst _hoisted_18 = {\n  class: \"item-price\"\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"includes-drink\"\n};\nconst _hoisted_20 = [\"onClick\"];\nconst _hoisted_21 = {\n  key: 0,\n  class: \"menu-list special-menu-list\"\n};\nconst _hoisted_22 = {\n  class: \"menu-items\"\n};\nconst _hoisted_23 = {\n  class: \"item-image-container\"\n};\nconst _hoisted_24 = [\"src\"];\nconst _hoisted_25 = {\n  key: 1,\n  class: \"no-image\"\n};\nconst _hoisted_26 = {\n  class: \"item-details\"\n};\nconst _hoisted_27 = {\n  class: \"item-description\"\n};\nconst _hoisted_28 = {\n  class: \"item-price\"\n};\nconst _hoisted_29 = {\n  key: 0,\n  class: \"includes-drink\"\n};\nconst _hoisted_30 = [\"onClick\"];\nconst _hoisted_31 = {\n  class: \"order-section\",\n  ref: \"orderSection\"\n};\nconst _hoisted_32 = {\n  key: 0,\n  class: \"empty-cart\"\n};\nconst _hoisted_33 = {\n  key: 1,\n  class: \"cart-items\"\n};\nconst _hoisted_34 = {\n  class: \"cart-item-details\"\n};\nconst _hoisted_35 = {\n  class: \"cart-item-actions\"\n};\nconst _hoisted_36 = [\"onClick\"];\nconst _hoisted_37 = {\n  class: \"quantity-display\"\n};\nconst _hoisted_38 = [\"onClick\"];\nconst _hoisted_39 = [\"onClick\"];\nconst _hoisted_40 = {\n  class: \"cart-total\"\n};\nconst _hoisted_41 = {\n  class: \"customer-form\"\n};\nconst _hoisted_42 = {\n  class: \"form-row\"\n};\nconst _hoisted_43 = {\n  class: \"form-row\"\n};\nconst _hoisted_44 = {\n  class: \"form-row\"\n};\nconst _hoisted_45 = {\n  class: \"form-row\"\n};\nconst _hoisted_46 = {\n  class: \"payment-methods-selection\"\n};\nconst _hoisted_47 = {\n  class: \"payment-options\"\n};\nconst _hoisted_48 = {\n  class: \"payment-option\"\n};\nconst _hoisted_49 = {\n  class: \"payment-option\"\n};\nconst _hoisted_50 = {\n  class: \"payment-option\"\n};\nconst _hoisted_51 = {\n  class: \"form-row\"\n};\nconst _hoisted_52 = {\n  class: \"order-actions\"\n};\nconst _hoisted_53 = {\n  class: \"cart-items-count\"\n};\nconst _hoisted_54 = {\n  key: 2,\n  class: \"payment-section\"\n};\nconst _hoisted_55 = {\n  class: \"payment-methods\"\n};\nconst _hoisted_56 = {\n  key: 0,\n  class: \"payment-method\"\n};\nconst _hoisted_57 = [\"src\"];\nconst _hoisted_58 = {\n  key: 1,\n  class: \"payment-method\"\n};\nconst _hoisted_59 = [\"src\"];\nconst _hoisted_60 = {\n  key: 1,\n  class: \"payment-detail\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _cache[11] || (_cache[11] = [_createElementVNode(\"div\", {\n    class: \"spinner\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"p\", null, \"Cargando menú...\", -1 /* HOISTED */)]))) : $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"p\", null, _toDisplayString($setup.error), 1 /* TEXT */)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createCommentVNode(\" Información del negocio \"), $setup.menuData.businessInfo ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [$setup.menuData.businessInfo.logo ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.menuData.businessInfo.logo,\n    alt: \"Logo\",\n    class: \"business-logo\"\n  }, null, 8 /* PROPS */, _hoisted_6)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"h1\", null, _toDisplayString($setup.menuData.businessInfo.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, _toDisplayString($setup.menuData.businessInfo.description), 1 /* TEXT */), $setup.menuData.businessInfo.contact || $setup.menuData.businessInfo.address ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [$setup.menuData.businessInfo.contact ? (_openBlock(), _createElementBlock(\"p\", _hoisted_9, [_cache[12] || (_cache[12] = _createElementVNode(\"strong\", null, \"Contacto:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.menuData.businessInfo.contact), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $setup.menuData.businessInfo.address ? (_openBlock(), _createElementBlock(\"p\", _hoisted_10, [_cache[13] || (_cache[13] = _createElementVNode(\"strong\", null, \"Dirección:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.menuData.businessInfo.address), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Lista de productos \"), _createElementVNode(\"div\", null, [_createCommentVNode(\" Platos regulares \"), _createElementVNode(\"div\", _hoisted_11, [_cache[15] || (_cache[15] = _createElementVNode(\"h2\", null, \"Nuestro Menú\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.regularItems, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"menu-item\"\n    }, [_createElementVNode(\"div\", _hoisted_13, [item.image ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: item.image,\n      alt: \"Imagen del producto\",\n      class: \"item-image\"\n    }, null, 8 /* PROPS */, _hoisted_14)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_15, \"Sin imagen\"))]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"h3\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_17, _toDisplayString(item.description), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_18, \"$\" + _toDisplayString($setup.formatPrice(item.price)), 1 /* TEXT */), item.includesDrink ? (_openBlock(), _createElementBlock(\"p\", _hoisted_19, \"Incluye refresco\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n      onClick: $event => $setup.addToCart(item),\n      class: \"add-to-cart-btn\"\n    }, [...(_cache[14] || (_cache[14] = [_createElementVNode(\"span\", {\n      class: \"btn-icon\"\n    }, \"🛒\", -1 /* HOISTED */), _createTextVNode(\" Añadir al pedido \")]))], 8 /* PROPS */, _hoisted_20)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" Platos especiales (solo se muestra si hay platos especiales) \"), $setup.specialItems.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [_cache[17] || (_cache[17] = _createElementVNode(\"h2\", null, \"Platos Especiales\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_22, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.specialItems, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"menu-item special-item\"\n    }, [_createElementVNode(\"div\", _hoisted_23, [item.image ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: item.image,\n      alt: \"Imagen del producto\",\n      class: \"item-image\"\n    }, null, 8 /* PROPS */, _hoisted_24)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_25, \"Sin imagen\"))]), _createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"h3\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_27, _toDisplayString(item.description), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_28, \"$\" + _toDisplayString($setup.formatPrice(item.price)), 1 /* TEXT */), item.includesDrink ? (_openBlock(), _createElementBlock(\"p\", _hoisted_29, \"Incluye refresco\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n      onClick: $event => $setup.addToCart(item),\n      class: \"add-to-cart-btn special-button\"\n    }, [...(_cache[16] || (_cache[16] = [_createElementVNode(\"span\", {\n      class: \"btn-icon\"\n    }, \"🛒\", -1 /* HOISTED */), _createTextVNode(\" Añadir al pedido \")]))], 8 /* PROPS */, _hoisted_30)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Sección de \\\"Tu Pedido\\\" - Siempre visible aunque vacía \"), _createElementVNode(\"div\", _hoisted_31, [_cache[27] || (_cache[27] = _createElementVNode(\"h2\", null, \"Tu Pedido\", -1 /* HOISTED */)), $setup.cartItems.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_32, _cache[18] || (_cache[18] = [_createElementVNode(\"p\", null, \"Tu pedido está vacío\", -1 /* HOISTED */), _createElementVNode(\"p\", {\n    class: \"empty-cart-message\"\n  }, \"Añade productos del menú para comenzar tu pedido\", -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_33, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.cartItems, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"cart-item\"\n    }, [_createElementVNode(\"div\", _hoisted_34, [_createElementVNode(\"h3\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"p\", null, \"$\" + _toDisplayString($setup.formatPrice(item.price)) + \" x \" + _toDisplayString(item.quantity), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_35, [_createElementVNode(\"button\", {\n      onClick: $event => $setup.decreaseQuantity(index),\n      class: \"quantity-btn\"\n    }, \"-\", 8 /* PROPS */, _hoisted_36), _createElementVNode(\"span\", _hoisted_37, _toDisplayString(item.quantity), 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $setup.increaseQuantity(index),\n      class: \"quantity-btn\"\n    }, \"+\", 8 /* PROPS */, _hoisted_38), _createElementVNode(\"button\", {\n      onClick: $event => $setup.removeFromCart(index),\n      class: \"remove-btn\"\n    }, [...(_cache[19] || (_cache[19] = [_createElementVNode(\"span\", {\n      class: \"btn-icon\"\n    }, \"🗑️\", -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_39)])]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"h3\", null, \"Total: $\" + _toDisplayString($setup.formatPrice($setup.cartTotal)), 1 /* TEXT */), _createCommentVNode(\" Formulario de datos del cliente \"), _createElementVNode(\"div\", _hoisted_41, [_cache[24] || (_cache[24] = _createElementVNode(\"h4\", null, \"Datos del Cliente\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_42, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.customerInfo.name = $event),\n    placeholder: \"Nombres completos\",\n    class: \"form-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customerInfo.name]])]), _createElementVNode(\"div\", _hoisted_43, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"tel\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.customerInfo.phone = $event),\n    placeholder: \"Teléfono\",\n    class: \"form-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customerInfo.phone]])]), _createElementVNode(\"div\", _hoisted_44, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.customerInfo.email = $event),\n    placeholder: \"Correo electrónico\",\n    class: \"form-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customerInfo.email]])]), _createElementVNode(\"div\", _hoisted_45, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.customerInfo.address = $event),\n    placeholder: \"Dirección de entrega\",\n    class: \"form-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.customerInfo.address]])]), _createCommentVNode(\" Lista horizontal de métodos de pago \"), _createElementVNode(\"div\", _hoisted_46, [_cache[23] || (_cache[23] = _createElementVNode(\"h4\", null, \"Forma de Pago\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_47, [_createElementVNode(\"label\", _hoisted_48, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.selectedPaymentMethod = $event),\n    value: \"qr\",\n    name: \"paymentMethod\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $setup.selectedPaymentMethod]]), _cache[20] || (_cache[20] = _createElementVNode(\"span\", {\n    class: \"payment-option-text\"\n  }, \"QR\", -1 /* HOISTED */))]), _createElementVNode(\"label\", _hoisted_49, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.selectedPaymentMethod = $event),\n    value: \"nequi\",\n    name: \"paymentMethod\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $setup.selectedPaymentMethod]]), _cache[21] || (_cache[21] = _createElementVNode(\"span\", {\n    class: \"payment-option-text\"\n  }, \"Nequi\", -1 /* HOISTED */))]), _createElementVNode(\"label\", _hoisted_50, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.selectedPaymentMethod = $event),\n    value: \"cash\",\n    name: \"paymentMethod\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $setup.selectedPaymentMethod]]), _cache[22] || (_cache[22] = _createElementVNode(\"span\", {\n    class: \"payment-option-text\"\n  }, \"Contra entrega\", -1 /* HOISTED */))])])]), _createCommentVNode(\" Campo de mensaje adicional \"), _createElementVNode(\"div\", _hoisted_51, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.additionalMessage = $event),\n    placeholder: \"Mensaje o instrucciones adicionales\",\n    class: \"form-textarea\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.additionalMessage]])])]), _createElementVNode(\"div\", _hoisted_52, [_createElementVNode(\"button\", {\n    onClick: _cache[8] || (_cache[8] = (...args) => $setup.completeOrder && $setup.completeOrder(...args)),\n    class: \"complete-order-btn\"\n  }, _cache[25] || (_cache[25] = [_createElementVNode(\"span\", {\n    class: \"btn-icon\"\n  }, \"✓\", -1 /* HOISTED */), _createTextVNode(\" Completar Pedido \")])), _createElementVNode(\"button\", {\n    onClick: _cache[9] || (_cache[9] = (...args) => $setup.shareOrderByWhatsApp && $setup.shareOrderByWhatsApp(...args)),\n    class: \"whatsapp-order-btn\"\n  }, _cache[26] || (_cache[26] = [_createElementVNode(\"span\", {\n    class: \"btn-icon\"\n  }, \"📱\", -1 /* HOISTED */), _createTextVNode(\" Enviar por WhatsApp \")]))])])]))], 512 /* NEED_PATCH */), _createCommentVNode(\" Botón flotante para ver pedido (visible cuando hay items y se hace scroll) \"), $setup.cartItems.length > 0 ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    class: \"floating-cart-button\",\n    onClick: _cache[10] || (_cache[10] = (...args) => $setup.scrollToOrder && $setup.scrollToOrder(...args))\n  }, [_createElementVNode(\"span\", _hoisted_53, _toDisplayString($setup.totalItems), 1 /* TEXT */), _cache[28] || (_cache[28] = _createElementVNode(\"span\", null, \"Ver Pedido\", -1 /* HOISTED */))])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Nueva sección: Forma de Pago \"), $setup.hasPaymentInfo ? (_openBlock(), _createElementBlock(\"div\", _hoisted_54, [_cache[31] || (_cache[31] = _createElementVNode(\"h2\", null, \"Forma de Pago\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_55, [$setup.menuData.businessInfo?.paymentInfo?.qrImage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_56, [_createElementVNode(\"h3\", null, _toDisplayString($setup.menuData.businessInfo.paymentInfo.qrTitle || 'Código QR de Pago'), 1 /* TEXT */), _createElementVNode(\"img\", {\n    src: $setup.menuData.businessInfo.paymentInfo.qrImage,\n    alt: \"QR de Pago\",\n    class: \"payment-image\"\n  }, null, 8 /* PROPS */, _hoisted_57)])) : _createCommentVNode(\"v-if\", true), $setup.menuData.businessInfo?.paymentInfo?.nequiNumber || $setup.menuData.businessInfo?.paymentInfo?.nequiImage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_58, [_cache[30] || (_cache[30] = _createElementVNode(\"h3\", null, \"Pago con Nequi\", -1 /* HOISTED */)), $setup.menuData.businessInfo.paymentInfo.nequiImage ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.menuData.businessInfo.paymentInfo.nequiImage,\n    alt: \"Nequi\",\n    class: \"payment-image\"\n  }, null, 8 /* PROPS */, _hoisted_59)) : _createCommentVNode(\"v-if\", true), $setup.menuData.businessInfo.paymentInfo.nequiNumber ? (_openBlock(), _createElementBlock(\"p\", _hoisted_60, [_cache[29] || (_cache[29] = _createElementVNode(\"strong\", null, \"Número:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.menuData.businessInfo.paymentInfo.nequiNumber), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Sistema de notificaciones toast \"), $setup.toast.visible ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 3,\n    class: _normalizeClass([\"toast-notification\", $setup.toast.type])\n  }, _toDisplayString($setup.toast.message), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true)]))]);\n}","map":{"version":3,"names":["class","key","ref","_createElementBlock","_hoisted_1","$setup","isLoading","_hoisted_2","_cache","_createElementVNode","error","_hoisted_3","_toDisplayString","_hoisted_4","_createCommentVNode","menuData","businessInfo","_hoisted_5","logo","src","alt","_hoisted_6","name","_hoisted_7","description","contact","address","_hoisted_8","_hoisted_9","_createTextVNode","_hoisted_10","_hoisted_11","_hoisted_12","_Fragment","_renderList","regularItems","item","index","_hoisted_13","image","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","formatPrice","price","includesDrink","_hoisted_19","onClick","$event","addToCart","_hoisted_20","specialItems","length","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","cartItems","_hoisted_32","_hoisted_33","_hoisted_34","quantity","_hoisted_35","decreaseQuantity","_hoisted_36","_hoisted_37","increaseQuantity","_hoisted_38","removeFromCart","_hoisted_39","_hoisted_40","cartTotal","_hoisted_41","_hoisted_42","type","customerInfo","placeholder","_hoisted_43","phone","_hoisted_44","email","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","selectedPaymentMethod","value","_hoisted_49","_hoisted_50","_hoisted_51","additionalMessage","_hoisted_52","args","completeOrder","shareOrderByWhatsApp","scrollToOrder","_hoisted_53","totalItems","hasPaymentInfo","_hoisted_54","_hoisted_55","paymentInfo","qrImage","_hoisted_56","qrTitle","_hoisted_57","nequiNumber","nequiImage","_hoisted_58","_hoisted_59","_hoisted_60","toast","visible","_normalizeClass","message"],"sources":["F:\\Driver google\\VUE.JS-2\\temp\\websap\\src\\views\\SharedMenuView.vue"],"sourcesContent":["<template>\r\n  <div class=\"shared-menu-container\">\r\n    <div v-if=\"isLoading\" class=\"loading\">\r\n      <div class=\"spinner\"></div>\r\n      <p>Cargando menú...</p>\r\n    </div>\r\n    \r\n    <div v-else-if=\"error\" class=\"error\">\r\n      <p>{{ error }}</p>\r\n    </div>\r\n    \r\n    <div v-else class=\"menu-content\">\r\n      <!-- Información del negocio -->\r\n      <div v-if=\"menuData.businessInfo\" class=\"business-info\">\r\n        <img v-if=\"menuData.businessInfo.logo\" :src=\"menuData.businessInfo.logo\" alt=\"Logo\" class=\"business-logo\">\r\n        <h1>{{ menuData.businessInfo.name }}</h1>\r\n        <p class=\"description\">{{ menuData.businessInfo.description }}</p>\r\n        <div class=\"contact-info\" v-if=\"menuData.businessInfo.contact || menuData.businessInfo.address\">\r\n          <p v-if=\"menuData.businessInfo.contact\"><strong>Contacto:</strong> {{ menuData.businessInfo.contact }}</p>\r\n          <p v-if=\"menuData.businessInfo.address\"><strong>Dirección:</strong> {{ menuData.businessInfo.address }}</p>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Lista de productos -->\r\n      <div>\r\n        <!-- Platos regulares -->\r\n        <div class=\"menu-list\">\r\n          <h2>Nuestro Menú</h2>\r\n          <div class=\"menu-items\">\r\n            <div v-for=\"(item, index) in regularItems\" :key=\"index\" class=\"menu-item\">\r\n              <div class=\"item-image-container\">\r\n                <img v-if=\"item.image\" :src=\"item.image\" alt=\"Imagen del producto\" class=\"item-image\">\r\n                <div v-else class=\"no-image\">Sin imagen</div>\r\n              </div>\r\n              <div class=\"item-details\">\r\n                <h3>{{ item.name }}</h3>\r\n                <p class=\"item-description\">{{ item.description }}</p>\r\n                <p class=\"item-price\">${{ formatPrice(item.price) }}</p>\r\n                <p class=\"includes-drink\" v-if=\"item.includesDrink\">Incluye refresco</p>\r\n                <button @click=\"addToCart(item)\" class=\"add-to-cart-btn\">\r\n                  <span class=\"btn-icon\">🛒</span> Añadir al pedido\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Platos especiales (solo se muestra si hay platos especiales) -->\r\n        <div v-if=\"specialItems.length > 0\" class=\"menu-list special-menu-list\">\r\n          <h2>Platos Especiales</h2>\r\n          <div class=\"menu-items\">\r\n            <div v-for=\"(item, index) in specialItems\" :key=\"index\" class=\"menu-item special-item\">\r\n              <div class=\"item-image-container\">\r\n                <img v-if=\"item.image\" :src=\"item.image\" alt=\"Imagen del producto\" class=\"item-image\">\r\n                <div v-else class=\"no-image\">Sin imagen</div>\r\n              </div>\r\n              <div class=\"item-details\">\r\n                <h3>{{ item.name }}</h3>\r\n                <p class=\"item-description\">{{ item.description }}</p>\r\n                <p class=\"item-price\">${{ formatPrice(item.price) }}</p>\r\n                <p class=\"includes-drink\" v-if=\"item.includesDrink\">Incluye refresco</p>\r\n                <button @click=\"addToCart(item)\" class=\"add-to-cart-btn special-button\">\r\n                  <span class=\"btn-icon\">🛒</span> Añadir al pedido\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Sección de \"Tu Pedido\" - Siempre visible aunque vacía -->\r\n      <div class=\"order-section\" ref=\"orderSection\">\r\n        <h2>Tu Pedido</h2>\r\n        \r\n        <div v-if=\"cartItems.length === 0\" class=\"empty-cart\">\r\n          <p>Tu pedido está vacío</p>\r\n          <p class=\"empty-cart-message\">Añade productos del menú para comenzar tu pedido</p>\r\n        </div>\r\n        \r\n        <div v-else class=\"cart-items\">\r\n          <div v-for=\"(item, index) in cartItems\" :key=\"index\" class=\"cart-item\">\r\n            <div class=\"cart-item-details\">\r\n              <h3>{{ item.name }}</h3>\r\n              <p>${{ formatPrice(item.price) }} x {{ item.quantity }}</p>\r\n            </div>\r\n            <div class=\"cart-item-actions\">\r\n              <button @click=\"decreaseQuantity(index)\" class=\"quantity-btn\">-</button>\r\n              <span class=\"quantity-display\">{{ item.quantity }}</span>\r\n              <button @click=\"increaseQuantity(index)\" class=\"quantity-btn\">+</button>\r\n              <button @click=\"removeFromCart(index)\" class=\"remove-btn\">\r\n                <span class=\"btn-icon\">🗑️</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"cart-total\">\r\n            <h3>Total: ${{ formatPrice(cartTotal) }}</h3>\r\n            \r\n            <!-- Formulario de datos del cliente -->\r\n            <div class=\"customer-form\">\r\n              <h4>Datos del Cliente</h4>\r\n              <div class=\"form-row\">\r\n                <input type=\"text\" v-model=\"customerInfo.name\" placeholder=\"Nombres completos\" class=\"form-input\">\r\n              </div>\r\n              <div class=\"form-row\">\r\n                <input type=\"tel\" v-model=\"customerInfo.phone\" placeholder=\"Teléfono\" class=\"form-input\">\r\n              </div>\r\n              <div class=\"form-row\">\r\n                <input type=\"email\" v-model=\"customerInfo.email\" placeholder=\"Correo electrónico\" class=\"form-input\">\r\n              </div>\r\n              <div class=\"form-row\">\r\n                <input type=\"text\" v-model=\"customerInfo.address\" placeholder=\"Dirección de entrega\" class=\"form-input\">\r\n              </div>\r\n              \r\n              <!-- Lista horizontal de métodos de pago -->\r\n              <div class=\"payment-methods-selection\">\r\n                <h4>Forma de Pago</h4>\r\n                <div class=\"payment-options\">\r\n                  <label class=\"payment-option\">\r\n                    <input type=\"radio\" v-model=\"selectedPaymentMethod\" value=\"qr\" name=\"paymentMethod\">\r\n                    <span class=\"payment-option-text\">QR</span>\r\n                  </label>\r\n                  <label class=\"payment-option\">\r\n                    <input type=\"radio\" v-model=\"selectedPaymentMethod\" value=\"nequi\" name=\"paymentMethod\">\r\n                    <span class=\"payment-option-text\">Nequi</span>\r\n                  </label>\r\n                  <label class=\"payment-option\">\r\n                    <input type=\"radio\" v-model=\"selectedPaymentMethod\" value=\"cash\" name=\"paymentMethod\">\r\n                    <span class=\"payment-option-text\">Contra entrega</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              \r\n              <!-- Campo de mensaje adicional -->\r\n              <div class=\"form-row\">\r\n                <textarea v-model=\"additionalMessage\" placeholder=\"Mensaje o instrucciones adicionales\" class=\"form-textarea\"></textarea>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"order-actions\">\r\n              <button @click=\"completeOrder\" class=\"complete-order-btn\">\r\n                <span class=\"btn-icon\">✓</span> Completar Pedido\r\n              </button>\r\n              <button @click=\"shareOrderByWhatsApp\" class=\"whatsapp-order-btn\">\r\n                <span class=\"btn-icon\">📱</span> Enviar por WhatsApp\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Botón flotante para ver pedido (visible cuando hay items y se hace scroll) -->\r\n      <div v-if=\"cartItems.length > 0\" class=\"floating-cart-button\" @click=\"scrollToOrder\">\r\n        <span class=\"cart-items-count\">{{ totalItems }}</span>\r\n        <span>Ver Pedido</span>\r\n      </div>\r\n      \r\n      <!-- Nueva sección: Forma de Pago -->\r\n      <div v-if=\"hasPaymentInfo\" class=\"payment-section\">\r\n        <h2>Forma de Pago</h2>\r\n        <div class=\"payment-methods\">\r\n          <div v-if=\"menuData.businessInfo?.paymentInfo?.qrImage\" class=\"payment-method\">\r\n            <h3>{{ menuData.businessInfo.paymentInfo.qrTitle || 'Código QR de Pago' }}</h3>\r\n            <img \r\n              :src=\"menuData.businessInfo.paymentInfo.qrImage\" \r\n              alt=\"QR de Pago\" \r\n              class=\"payment-image\"\r\n            >\r\n          </div>\r\n          \r\n          <div v-if=\"menuData.businessInfo?.paymentInfo?.nequiNumber || menuData.businessInfo?.paymentInfo?.nequiImage\" class=\"payment-method\">\r\n            <h3>Pago con Nequi</h3>\r\n            <img \r\n              v-if=\"menuData.businessInfo.paymentInfo.nequiImage\" \r\n              :src=\"menuData.businessInfo.paymentInfo.nequiImage\" \r\n              alt=\"Nequi\" \r\n              class=\"payment-image\"\r\n            >\r\n            <p v-if=\"menuData.businessInfo.paymentInfo.nequiNumber\" class=\"payment-detail\">\r\n              <strong>Número:</strong> {{ menuData.businessInfo.paymentInfo.nequiNumber }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Sistema de notificaciones toast -->\r\n      <div v-if=\"toast.visible\" \r\n           class=\"toast-notification\" \r\n           :class=\"toast.type\">\r\n        {{ toast.message }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport { getSharedMenu } from '../services/menuService';\r\n\r\nexport default {\r\n  name: 'SharedMenuView',\r\n  setup() {\r\n    const route = useRoute();\r\n    const menuData = ref({ items: [], businessInfo: {} });\r\n    const isLoading = ref(true);\r\n    const error = ref(null);\r\n    const cartItems = ref([]);\r\n    const orderRef = ref(null);\r\n    \r\n    console.log(\"SharedMenuView montado, ID del menú:\", route.params.id);\r\n\r\n    // Sistema de notificaciones toast\r\n    const toast = ref({\r\n      visible: false,\r\n      message: '',\r\n      type: 'success', // 'success', 'warning', 'error'\r\n      timeoutId: null\r\n    });\r\n\r\n    // Cargar menú cuando el componente se monte\r\n    onMounted(() => {\r\n      loadMenu();\r\n    });\r\n\r\n    // Cargar el menú desde la API\r\n    async function loadMenu() {\r\n      try {\r\n        isLoading.value = true;\r\n        console.log(\"Cargando menú con ID:\", route.params.id);\r\n        \r\n        if (!route.params.id) {\r\n          error.value = 'ID de menú no especificado';\r\n          isLoading.value = false;\r\n          return;\r\n        }\r\n        \r\n        // Intenta cargar desde localStorage primero (por si hay un carrito guardado)\r\n        const savedCart = localStorage.getItem(`cart_${route.params.id}`);\r\n        if (savedCart) {\r\n          try {\r\n            cartItems.value = JSON.parse(savedCart);\r\n            console.log(\"Carrito recuperado de localStorage:\", cartItems.value);\r\n          } catch (e) {\r\n            console.error(\"Error al parsear carrito de localStorage:\", e);\r\n          }\r\n        }\r\n        \r\n        const data = await getSharedMenu(route.params.id);\r\n        \r\n        if (data) {\r\n          menuData.value = data;\r\n          console.log(\"Menú cargado con éxito:\", menuData.value);\r\n        } else {\r\n          error.value = \"No se encontró el menú solicitado\";\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error al cargar el menú:\", err);\r\n        error.value = `Error al cargar el menú: ${err.message || 'Error desconocido'}`;\r\n      } finally {\r\n        isLoading.value = false;\r\n      }\r\n    }\r\n\r\n    // Verificar si hay información de pago\r\n    const hasPaymentInfo = computed(() => {\r\n      return menuData.value?.businessInfo?.paymentInfo && (\r\n        menuData.value.businessInfo.paymentInfo.qrImage ||\r\n        menuData.value.businessInfo.paymentInfo.nequiNumber ||\r\n        menuData.value.businessInfo.paymentInfo.nequiImage\r\n      );\r\n    });\r\n    \r\n    // Contador total de items\r\n    const totalItems = computed(() => {\r\n      return cartItems.value.reduce((total, item) => total + item.quantity, 0);\r\n    });\r\n\r\n    // Total del carrito\r\n    const cartTotal = computed(() => {\r\n      return cartItems.value.reduce((total, item) => {\r\n        return total + (item.price * item.quantity);\r\n      }, 0);\r\n    });\r\n\r\n    // Formatear precio\r\n    function formatPrice(price) {\r\n      if (isNaN(Number(price))) return '0,00';\r\n      \r\n      // Convertir a número y formatear con 2 decimales fijos\r\n      const numero = Number(price).toFixed(2);\r\n      \r\n      // Separar parte entera y decimal\r\n      const [parteEntera, parteDecimal] = numero.split('.');\r\n      \r\n      // Formatear parte entera con puntos como separadores de miles\r\n      const parteEnteraFormateada = parteEntera.replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\r\n      \r\n      // Unir con coma como separador decimal\r\n      return `${parteEnteraFormateada},${parteDecimal}`;\r\n    }\r\n\r\n    // Agregar al carrito con verificación de disponibilidad\r\n    async function addToCart(item) {\r\n      // Primero verificar disponibilidad\r\n      const isAvailable = await checkAvailability(item);\r\n      if (!isAvailable) return;\r\n      \r\n      const existingItem = cartItems.value.find(i => {\r\n        // Asegurar que ambos items tienen ID y compararlos, o comparar por nombre si no hay ID\r\n        if (item.id && i.id) {\r\n          return i.id === item.id;\r\n        }\r\n        return i.name === item.name;\r\n      });\r\n      \r\n      if (existingItem) {\r\n        existingItem.quantity++;\r\n      } else {\r\n        cartItems.value.push({\r\n          id: item.id || Date.now().toString(),\r\n          name: item.name,\r\n          price: item.price,\r\n          quantity: 1,\r\n          availableQuantity: item.availableQuantity || 10 // Temporal: 10 por defecto\r\n        });\r\n      }\r\n      \r\n      // Guardar carrito en localStorage\r\n      saveCartToLocalStorage();\r\n      \r\n      // Mostrar notificación de éxito\r\n      showToast(`${item.name} añadido al carrito`, 'success');\r\n    }\r\n    \r\n    // Mostrar mensaje de producto añadido al carrito\r\n    function showAddedToCart(productName) {\r\n      const notification = document.createElement('div');\r\n      notification.className = 'add-to-cart-notification';\r\n      notification.innerText = `${productName} añadido al carrito`;\r\n      \r\n      document.body.appendChild(notification);\r\n      \r\n      setTimeout(() => {\r\n        notification.classList.add('show');\r\n        \r\n        setTimeout(() => {\r\n          notification.classList.remove('show');\r\n          \r\n          setTimeout(() => {\r\n            document.body.removeChild(notification);\r\n          }, 500);\r\n        }, 2000);\r\n      }, 100);\r\n    }\r\n\r\n    // Mostrar notificaciones toast\r\n    function showToast(message, type = 'success', duration = 3000) {\r\n      // Si ya hay un toast visible, limpiamos su timeout\r\n      if (toast.value.timeoutId) {\r\n        clearTimeout(toast.value.timeoutId);\r\n      }\r\n      \r\n      // Configurar el nuevo toast\r\n      toast.value.message = message;\r\n      toast.value.type = type;\r\n      toast.value.visible = true;\r\n      \r\n      console.log(`[Toast] ${type}: ${message}`);\r\n      \r\n      // Configurar timeout para ocultar después de la duración\r\n      toast.value.timeoutId = setTimeout(() => {\r\n        toast.value.visible = false;\r\n      }, duration);\r\n    }\r\n\r\n    // Guardar carrito en localStorage\r\n    function saveCartToLocalStorage() {\r\n      try {\r\n        localStorage.setItem(`cart_${route.params.id}`, JSON.stringify(cartItems.value));\r\n      } catch (e) {\r\n        console.error(\"Error al guardar carrito en localStorage:\", e);\r\n      }\r\n    }\r\n\r\n    // Incrementar cantidad\r\n    function increaseQuantity(index) {\r\n      cartItems.value[index].quantity++;\r\n      saveCartToLocalStorage();\r\n    }\r\n\r\n    // Decrementar cantidad\r\n    function decreaseQuantity(index) {\r\n      if (cartItems.value[index].quantity > 1) {\r\n        cartItems.value[index].quantity--;\r\n        saveCartToLocalStorage();\r\n      } else {\r\n        removeFromCart(index);\r\n      }\r\n    }\r\n\r\n    // Eliminar del carrito\r\n    function removeFromCart(index) {\r\n      cartItems.value.splice(index, 1);\r\n      saveCartToLocalStorage();\r\n    }\r\n    \r\n    // Completar pedido con actualización de inventario\r\n    async function completeOrder() {\r\n      // Validación de datos mínimos\r\n      if (!customerInfo.value.name || !customerInfo.value.phone) {\r\n        showToast('Por favor ingresa al menos tu nombre y teléfono para completar el pedido', 'error');\r\n        return;\r\n      }\r\n      \r\n      // Variable para indicar que el pedido está en proceso\r\n      const isProcessingOrder = ref(true);\r\n      \r\n      try {\r\n        // Actualizar inventario\r\n        const inventoryUpdated = await updateInventory();\r\n        \r\n        if (!inventoryUpdated) {\r\n          showToast('Error al actualizar el inventario. Por favor intenta nuevamente.', 'error');\r\n          isProcessingOrder.value = false;\r\n          return;\r\n        }\r\n        \r\n        // Construir mensaje de confirmación incluyendo datos del cliente\r\n        let confirmationMessage = `Pedido completado por un total de $${formatPrice(cartTotal.value)}\\n`;\r\n        confirmationMessage += `Cliente: ${customerInfo.value.name}\\n`;\r\n        confirmationMessage += `Teléfono: ${customerInfo.value.phone}\\n`;\r\n        confirmationMessage += `Forma de pago: ${selectedPaymentMethod.value === 'qr' ? 'Código QR' : \r\n                             (selectedPaymentMethod.value === 'nequi' ? 'Nequi' : 'Contra entrega')}\\n`;\r\n        confirmationMessage += `\\nGracias por tu compra!`;\r\n        \r\n        // Mostrar notificación de éxito\r\n        showToast('¡Pedido completado con éxito!', 'success');\r\n        \r\n        // Limpiar carrito y datos del cliente\r\n        cartItems.value = [];\r\n        saveCartToLocalStorage();\r\n        \r\n        // Opcional: limpiar también los datos del cliente después de completar\r\n        customerInfo.value = {\r\n          name: '',\r\n          phone: '',\r\n          email: '',\r\n          address: ''\r\n        };\r\n        additionalMessage.value = '';\r\n      } catch (error) {\r\n        console.error('Error al procesar el pedido:', error);\r\n        showToast('Error al procesar el pedido. Por favor intenta nuevamente.', 'error');\r\n      } finally {\r\n        isProcessingOrder.value = false;\r\n      }\r\n    }\r\n    \r\n    // Desplazarse a la sección del pedido\r\n    function scrollToOrder() {\r\n      const orderSection = document.querySelector('.order-section');\r\n      if (orderSection) {\r\n        orderSection.scrollIntoView({ behavior: 'smooth' });\r\n      }\r\n    }\r\n\r\n    // Función para compartir el pedido por WhatsApp (usando símbolos compatibles)\r\n    function shareOrderByWhatsApp() {\r\n      try {\r\n        // Validación de datos mínimos\r\n        if (!customerInfo.value.name || !customerInfo.value.phone) {\r\n          alert('Por favor ingresa al menos tu nombre y teléfono antes de enviar el pedido');\r\n          return;\r\n        }\r\n        \r\n        // Preparar mensaje con detalles del pedido usando símbolos compatibles\r\n        let message = `*❆ NUEVO PEDIDO ❆*\\n\\n`;\r\n        \r\n        // Información del restaurante\r\n        message += `*${menuData.value.businessInfo?.name || 'Restaurante'}*\\n\\n`;\r\n        \r\n        // Datos del cliente\r\n        message += `*✦ DATOS DEL CLIENTE:*\\n`;\r\n        message += `♢ Nombre: ${customerInfo.value.name}\\n`;\r\n        message += `☏ Teléfono: ${customerInfo.value.phone}\\n`;\r\n        \r\n        if (customerInfo.value.email) {\r\n          message += `♜ Email: ${customerInfo.value.email}\\n`;\r\n        }\r\n        \r\n        if (customerInfo.value.address) {\r\n          message += `➤ Dirección: ${customerInfo.value.address}\\n`;\r\n        }\r\n        \r\n        message += `\\n*★ PRODUCTOS:*\\n`;\r\n        \r\n        // Agregar items del carrito con símbolos ASCII seguros\r\n        cartItems.value.forEach((item, index) => {\r\n          // Usar símbolos compatibles de la lista proporcionada\r\n          const symbols = ['✦', '✧', '♣', '♠', '♥', '♫'];\r\n          const symbol = symbols[index % symbols.length];\r\n          message += `${symbol} ${item.name} x${item.quantity} - $${formatPrice(item.price * item.quantity)}\\n`;\r\n        });\r\n        \r\n        // Agregar total con formato destacado\r\n        message += `\\n*➤ TOTAL: $${formatPrice(cartTotal.value)}*\\n`;\r\n        \r\n        // Agregar método de pago\r\n        const paymentMethodText = selectedPaymentMethod.value === 'qr' ? 'Código QR' : \r\n                               (selectedPaymentMethod.value === 'nequi' ? 'Nequi' : 'Contra entrega');\r\n                               \r\n        message += `\\n*➤ FORMA DE PAGO:* ${paymentMethodText}\\n`;\r\n        \r\n        // Incluir mensaje adicional si existe\r\n        if (additionalMessage.value.trim()) {\r\n          message += `\\n*✎ MENSAJE:*\\n${additionalMessage.value.trim()}\\n`;\r\n        }\r\n        \r\n        // Agregar información de contacto del restaurante\r\n        if (menuData.value.businessInfo?.contact) {\r\n          message += `\\n*✆ Contacto restaurante:* ${menuData.value.businessInfo.contact}\\n`;\r\n        }\r\n        \r\n        if (menuData.value.businessInfo?.address) {\r\n          message += `\\n*➤ Ubicación:* ${menuData.value.businessInfo.address}\\n`;\r\n        }\r\n        \r\n        // Agregar fecha y hora del pedido\r\n        const now = new Date();\r\n        message += `\\n*✰ Fecha y hora:* ${now.toLocaleString()}\\n`;\r\n        \r\n        // Crear URL para WhatsApp\r\n        const phoneNumber = menuData.value.businessInfo?.paymentInfo?.nequiNumber || '';\r\n        let whatsappUrl = '';\r\n        \r\n        if (phoneNumber && phoneNumber.trim() !== '') {\r\n          // Si hay un número, enviar directamente a ese número\r\n          const formattedPhone = phoneNumber.replace(/\\D/g, ''); // Quitar caracteres no numéricos\r\n          whatsappUrl = `https://wa.me/${formattedPhone}?text=${encodeURIComponent(message)}`;\r\n        } else {\r\n          // Si no hay número, usar la opción de compartir\r\n          whatsappUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(message)}`;\r\n        }\r\n        \r\n        // Abrir WhatsApp\r\n        window.open(whatsappUrl, '_blank');\r\n      } catch (error) {\r\n        console.error('Error al compartir por WhatsApp:', error);\r\n        alert('Error al compartir el pedido. Por favor intenta nuevamente.');\r\n      }\r\n    }\r\n\r\n    // Verificar disponibilidad de inventario\r\n    async function checkAvailability(item) {\r\n      // Obtener la cantidad disponible actual (simulada para esta implementación)\r\n      const availableQuantity = item.availableQuantity || 10; // Temporal: 10 por defecto\r\n      \r\n      // Obtener la cantidad actual en el carrito\r\n      const cartItem = cartItems.value.find(i => i.id === item.id);\r\n      const cartQuantity = cartItem ? cartItem.quantity : 0;\r\n      \r\n      // Verificar la disponibilidad\r\n      if (availableQuantity <= 0) {\r\n        showToast(`Lo sentimos, \"${item.name}\" no está disponible actualmente`, 'error');\r\n        return false;\r\n      } else if (cartQuantity >= availableQuantity) {\r\n        showToast(`No hay más unidades disponibles de \"${item.name}\"`, 'warning');\r\n        return false;\r\n      } else if (availableQuantity <= 5) {\r\n        showToast(`¡Solo quedan ${availableQuantity} unidades de \"${item.name}\"!`, 'warning');\r\n        return true;\r\n      }\r\n      \r\n      return true;\r\n    }\r\n\r\n    // Actualizar inventario al completar pedido\r\n    async function updateInventory() {\r\n      try {\r\n        // En una aplicación real, aquí habría una llamada a la API\r\n        console.log('Actualizando inventario para los siguientes productos:');\r\n        \r\n        cartItems.value.forEach(item => {\r\n          console.log(`- ${item.name}: ${item.quantity} unidades`);\r\n          // Aquí iría el código real para actualizar la base de datos\r\n        });\r\n        \r\n        // Simular un pequeño retraso para que sea más realista\r\n        await new Promise(resolve => setTimeout(resolve, 800));\r\n        \r\n        return true; // Éxito\r\n      } catch (error) {\r\n        console.error('Error al actualizar inventario:', error);\r\n        return false; // Error\r\n      }\r\n    }\r\n\r\n    // Datos del cliente\r\n    const customerInfo = ref({\r\n      name: '',\r\n      phone: '',\r\n      email: '',\r\n      address: ''\r\n    });\r\n\r\n    // Método de pago seleccionado\r\n    const selectedPaymentMethod = ref('cash'); // Por defecto contra entrega\r\n\r\n    // Mensaje adicional\r\n    const additionalMessage = ref('');\r\n\r\n    // Filtrar items regulares y especiales\r\n    const regularItems = computed(() => {\r\n      if (!menuData.value || !menuData.value.items) return [];\r\n      const filtered = menuData.value.items.filter(item => !item.isSpecial);\r\n      console.log('Platos regulares:', filtered.length, filtered.map(i => i.name));\r\n      return filtered;\r\n    });\r\n\r\n    const specialItems = computed(() => {\r\n      if (!menuData.value || !menuData.value.items) return [];\r\n      const filtered = menuData.value.items.filter(item => item.isSpecial === true);\r\n      console.log('Platos especiales:', filtered.length, filtered.map(i => i.name));\r\n      return filtered;\r\n    });\r\n\r\n    return {\r\n      menuData,\r\n      isLoading,\r\n      error,\r\n      cartItems,\r\n      cartTotal,\r\n      totalItems,\r\n      hasPaymentInfo,\r\n      regularItems,\r\n      specialItems,\r\n      formatPrice,\r\n      addToCart,\r\n      increaseQuantity,\r\n      decreaseQuantity,\r\n      removeFromCart,\r\n      completeOrder,\r\n      scrollToOrder,\r\n      shareOrderByWhatsApp,\r\n      orderRef,\r\n      customerInfo,\r\n      selectedPaymentMethod,\r\n      additionalMessage,\r\n      toast  // Añadir el toast al objeto return\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n.shared-menu-container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  font-family: 'Arial', sans-serif;\r\n}\r\n\r\n.loading, .error {\r\n  text-align: center;\r\n  padding: 50px;\r\n  font-size: 18px;\r\n}\r\n\r\n.error {\r\n  color: #d9534f;\r\n}\r\n\r\n.business-info {\r\n  text-align: center;\r\n  margin-bottom: 40px;\r\n  padding: 20px;\r\n  background-color: #f8f9fa;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n}\r\n\r\n.business-logo {\r\n  max-width: 100%;\r\n  max-height: 150px;\r\n  object-fit: contain;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.business-info h1 {\r\n  color: #343a40;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.description {\r\n  font-style: italic;\r\n  color: #6c757d;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.contact-info {\r\n  font-size: 14px;\r\n  color: #495057;\r\n}\r\n\r\n.menu-list {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.menu-list h2 {\r\n  color: #28a745;\r\n  font-size: 24px;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 2px solid #28a745;\r\n}\r\n\r\n.menu-items {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.menu-item {\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.menu-item:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 5px 15px rgba(0,0,0,0.2);\r\n}\r\n\r\n.item-image-container {\r\n  width: 100%;\r\n  height: 200px;\r\n  overflow: hidden;\r\n}\r\n\r\n.item-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.no-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #f8f9fa;\r\n  color: #6c757d;\r\n  font-style: italic;\r\n}\r\n\r\n.item-details {\r\n  padding: 15px;\r\n}\r\n\r\n.item-details h3 {\r\n  margin-top: 0;\r\n  color: #343a40;\r\n  font-size: 18px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.item-description {\r\n  color: #6c757d;\r\n  font-size: 14px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.item-price {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #28a745;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.includes-drink {\r\n  font-size: 14px;\r\n  color: #6c757d;\r\n  font-style: italic;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.add-to-cart-btn {\r\n  width: 100%;\r\n  padding: 8px 15px;\r\n  background-color: #28a745;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n  font-weight: bold;\r\n}\r\n\r\n.add-to-cart-btn:hover {\r\n  background-color: #218838;\r\n}\r\n\r\n/* Estilos mejorados para la sección de \"Tu Pedido\" */\r\n.order-section {\r\n  margin: 30px auto;\r\n  padding: 20px;\r\n  background-color: #f8f9fa;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n  max-width: 800px;\r\n  border: 2px solid #28a745;\r\n  position: relative;\r\n}\r\n\r\n.order-section::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: -10px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 0;\r\n  height: 0;\r\n  border-left: 10px solid transparent;\r\n  border-right: 10px solid transparent;\r\n  border-bottom: 10px solid #28a745;\r\n}\r\n\r\n.order-section h2 {\r\n  color: #343a40;\r\n  font-size: 24px;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 2px solid #28a745;\r\n}\r\n\r\n.cart-items {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.cart-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 15px;\r\n  border-bottom: 1px solid #dee2e6;\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from { opacity: 0; transform: translateY(-10px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n}\r\n\r\n.cart-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.cart-item-details h3 {\r\n  margin: 0 0 5px 0;\r\n  font-size: 16px;\r\n}\r\n\r\n.cart-item-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.quantity-btn {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  background-color: #f8f9fa;\r\n  border: 1px solid #28a745;\r\n  color: #28a745;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.quantity-btn:hover {\r\n  background-color: #28a745;\r\n  color: white;\r\n}\r\n\r\n.remove-btn {\r\n  padding: 5px 10px;\r\n  background-color: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.remove-btn:hover {\r\n  background-color: #c82333;\r\n}\r\n\r\n.cart-total {\r\n  text-align: right;\r\n  padding-top: 15px;\r\n  border-top: 2px solid #28a745;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 10px;\r\n}\r\n\r\n.cart-total h3 {\r\n  color: #343a40;\r\n  margin: 0;\r\n}\r\n\r\n/* Botón flotante para ver pedido */\r\n.floating-cart-button {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  background-color: #28a745;\r\n  color: white;\r\n  border-radius: 50px;\r\n  padding: 10px 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.2);\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  z-index: 100;\r\n  font-weight: bold;\r\n}\r\n\r\n.floating-cart-button:hover {\r\n  transform: translateY(-3px);\r\n  box-shadow: 0 6px 15px rgba(0,0,0,0.25);\r\n}\r\n\r\n.cart-items-count {\r\n  background-color: white;\r\n  color: #28a745;\r\n  border-radius: 50%;\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n}\r\n\r\n/* Estilos para la sección de forma de pago */\r\n.payment-section {\r\n  margin: 30px auto;\r\n  padding: 20px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n  max-width: 800px;\r\n}\r\n\r\n.payment-section h2 {\r\n  color: #333;\r\n  font-size: 1.5rem;\r\n  margin-bottom: 20px;\r\n  text-align: center;\r\n  border-bottom: 2px solid #4CAF50;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.payment-methods {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  justify-content: center;\r\n}\r\n\r\n.payment-method {\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n  padding: 15px;\r\n  width: 280px;\r\n  text-align: center;\r\n}\r\n\r\n.payment-method h3 {\r\n  margin-top: 0;\r\n  color: #333;\r\n  font-size: 1.2rem;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.payment-image {\r\n  width: 200px;\r\n  height: 200px;\r\n  object-fit: contain;\r\n  margin: 0 auto;\r\n  display: block;\r\n}\r\n\r\n.payment-detail {\r\n  margin-top: 15px;\r\n  font-size: 1rem;\r\n}\r\n\r\n@media (max-width: 640px) {\r\n  .payment-methods {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n  \r\n  .payment-method {\r\n    width: 100%;\r\n  }\r\n  \r\n  .floating-cart-button {\r\n    bottom: 10px;\r\n    right: 10px;\r\n    padding: 8px 16px;\r\n    font-size: 14px;\r\n  }\r\n}\r\n\r\n/* Spinner de carga mejorado */\r\n.loading {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 80px 20px;\r\n  text-align: center;\r\n}\r\n\r\n.spinner {\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 5px solid #f3f3f3;\r\n  border-top: 5px solid #28a745;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n/* Mejoras en la sección de Tu Pedido */\r\n.empty-cart {\r\n  padding: 40px 0;\r\n  text-align: center;\r\n  color: #6c757d;\r\n}\r\n\r\n.empty-cart p {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.empty-cart-message {\r\n  font-style: italic;\r\n  font-size: 14px;\r\n}\r\n\r\n/* Notificación de producto añadido */\r\n.add-to-cart-notification {\r\n  position: fixed;\r\n  bottom: -60px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background-color: #28a745;\r\n  color: white;\r\n  padding: 12px 25px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.2);\r\n  transition: bottom 0.5s ease;\r\n  z-index: 1000;\r\n}\r\n\r\n.add-to-cart-notification.show {\r\n  bottom: 30px;\r\n}\r\n\r\n/* Mejoras en botones */\r\n.btn-icon {\r\n  margin-right: 5px;\r\n}\r\n\r\n.add-to-cart-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  padding: 10px 15px;\r\n  background-color: #28a745;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  font-weight: bold;\r\n}\r\n\r\n.add-to-cart-btn:hover {\r\n  background-color: #218838;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.quantity-display {\r\n  min-width: 30px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n}\r\n\r\n/* Estilos para acciones de pedido */\r\n.order-actions {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  margin-top: 15px;\r\n  gap: 10px;\r\n}\r\n\r\n.complete-order-btn,\r\n.whatsapp-order-btn {\r\n  border: none;\r\n  padding: 12px 20px;\r\n  border-radius: 4px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n  gap: 8px;\r\n  height: 48px;\r\n  font-size: 16px;\r\n  width: 100%;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n\r\n.complete-order-btn {\r\n  background-color: #28a745;\r\n  color: white;\r\n  margin: 0;\r\n}\r\n\r\ncomplete-order-btn:hover {\r\n  background-color: #218838;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0,0,0,0.2);\r\n}\r\n\r\n.whatsapp-order-btn {\r\n  background-color: #25D366;\r\n  color: white;\r\n  margin: 0;\r\n}\r\n\r\n.whatsapp-order-btn:hover {\r\n  background-color: #128C7E;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0,0,0,0.2);\r\n}\r\n\r\n.btn-icon {\r\n  font-size: 18px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .order-actions {\r\n    flex-direction: row;\r\n    gap: 15px;\r\n  }\r\n  \r\n  .complete-order-btn,\r\n  .whatsapp-order-btn {\r\n    flex: 1;\r\n  }\r\n}\r\n\r\n/* Estilos para el formulario de cliente */\r\n.customer-form {\r\n  width: 100%;\r\n  margin: 20px 0;\r\n  padding: 15px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  border: 1px solid #e0e0e0;\r\n}\r\n\r\n.customer-form h4 {\r\n  margin: 0 0 15px 0;\r\n  color: #333;\r\n  font-size: 16px;\r\n  border-bottom: 1px solid #ddd;\r\n  padding-bottom: 8px;\r\n}\r\n\r\n.form-row {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.form-input, .form-textarea {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  transition: border-color 0.3s;\r\n}\r\n\r\n.form-input:focus, .form-textarea:focus {\r\n  border-color: #28a745;\r\n  outline: none;\r\n}\r\n\r\n.form-textarea {\r\n  min-height: 80px;\r\n  resize: vertical;\r\n}\r\n\r\n/* Estilos para las opciones de pago */\r\n.payment-methods-selection {\r\n  margin: 15px 0;\r\n}\r\n\r\n.payment-methods-selection h4 {\r\n  margin: 0 0 15px 0;\r\n  color: #333;\r\n  font-size: 16px;\r\n  border-bottom: 1px solid #ddd;\r\n  padding-bottom: 8px;\r\n}\r\n\r\n.payment-options {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 15px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.payment-option {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  border: 1px solid #ddd;\r\n  padding: 8px 15px;\r\n  border-radius: 20px;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.payment-option:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n.payment-option input[type=\"radio\"] {\r\n  margin: 0;\r\n}\r\n\r\n.payment-option input[type=\"radio\"]:checked + .payment-option-text {\r\n  font-weight: bold;\r\n  color: #28a745;\r\n}\r\n\r\n.payment-option:has(input[type=\"radio\"]:checked) {\r\n  border-color: #28a745;\r\n  background-color: rgba(40, 167, 69, 0.1);\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .payment-options {\r\n    flex-direction: column;\r\n    gap: 8px;\r\n  }\r\n  \r\n  .payment-option {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n/* Agregar al final del <style> */\r\n.special-menu-list h2 {\r\n  color: #d4af37; /* Color dorado para el título de platos especiales */\r\n  border-bottom-color: #d4af37;\r\n}\r\n\r\n.special-item {\r\n  border: 2px solid #d4af37;\r\n  position: relative;\r\n}\r\n\r\n.special-item::before {\r\n  content: '★ Especial';\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  background-color: #d4af37;\r\n  color: white;\r\n  padding: 5px 10px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  z-index: 2;\r\n}\r\n\r\n.special-button {\r\n  background-color: #d4af37;\r\n}\r\n\r\n.special-button:hover {\r\n  background-color: #c6a22c;\r\n}\r\n\r\n/* Estilos para la notificación toast */\r\n.toast-notification {\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n  padding: 12px 25px;\r\n  border-radius: 5px;\r\n  z-index: 9999;\r\n  color: white;\r\n  font-weight: bold;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n  animation: slideIn 0.3s;\r\n  max-width: 300px;\r\n}\r\n\r\n.toast-notification.success {\r\n  background-color: #28a745 !important;\r\n}\r\n\r\n.toast-notification.warning {\r\n  background-color: #ffc107 !important;\r\n  color: #333 !important;\r\n}\r\n\r\n.toast-notification.error {\r\n  background-color: #dc3545 !important;\r\n}\r\n\r\n@keyframes slideIn {\r\n  from { transform: translateY(-20px); opacity: 0; }\r\n  to { transform: translateY(0); opacity: 0.9; }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}