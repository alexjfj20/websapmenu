{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\n/**\r\n * Formatea un mensaje para compartir un men√∫ por WhatsApp\r\n * @param {string} url - URL del men√∫ compartido\r\n * @param {string} businessName - Nombre del negocio\r\n * @returns {string} - Mensaje formateado\r\n */\nexport function formatShareLinkMessage(url, businessName) {\n  // Verificar par√°metros para evitar errores\n  const safeName = businessName || 'nuestro restaurante';\n  const safeUrl = url || '';\n  return `¬°Hola! Te comparto el men√∫ digital de ${safeName}. Puedes verlo aqu√≠: ${safeUrl}`;\n}\n\n/**\r\n * Formatea un mensaje de pedido para WhatsApp\r\n * @param {Object} orderData - Datos del pedido\r\n * @returns {string} - Mensaje formateado\r\n */\nexport function formatOrderMessage(orderData) {\n  try {\n    // Extraer datos con validaci√≥n para evitar errores\n    const {\n      customer,\n      businessName,\n      orderItems,\n      total,\n      notes\n    } = orderData || {};\n    const safeName = customer?.name || 'Cliente';\n    const safePhone = customer?.phone || '';\n    const safeAddress = customer?.address || '';\n    const safeBusiness = businessName || 'Restaurante';\n    const safeTotal = typeof total === 'number' ? total.toFixed(2) : '0.00';\n    const safeNotes = notes || '';\n\n    // Verificar que orderItems sea un array\n    const safeOrderItems = Array.isArray(orderItems) ? orderItems : [];\n\n    // Construir el mensaje\n    let message = `üçΩÔ∏è *NUEVO PEDIDO - ${safeBusiness}* üçΩÔ∏è\\n\\n`;\n    message += `üë§ *Cliente:* ${safeName}\\n`;\n    message += `üì± *Tel√©fono:* ${safePhone}\\n`;\n    message += `üìç *Direcci√≥n:* ${safeAddress}\\n\\n`;\n    message += `*üìã DETALLE DEL PEDIDO:*\\n`;\n\n    // Listar cada item\n    if (safeOrderItems.length > 0) {\n      safeOrderItems.forEach(item => {\n        const name = item.name || 'Producto';\n        const price = typeof item.price === 'number' ? item.price.toFixed(2) : '0.00';\n        const quantity = item.quantity || 1;\n        const subtotal = (quantity * parseFloat(price)).toFixed(2);\n        message += `- ${quantity}x ${name} - $${price} c/u = $${subtotal}\\n`;\n      });\n    } else {\n      message += \"- No se especificaron productos\\n\";\n    }\n    message += `\\n*üí∞ TOTAL:* $${safeTotal}\\n\\n`;\n\n    // Agregar notas si existen\n    if (safeNotes) {\n      message += `*üìù NOTAS:*\\n${safeNotes}\\n\\n`;\n    }\n    message += `¬°Gracias por tu pedido! En breve nos pondremos en contacto contigo para confirmar.`;\n    return message;\n  } catch (error) {\n    console.error('Error al formatear mensaje de pedido:', error);\n    return '‚ùå Error al procesar el pedido. Por favor, contacta directamente al restaurante.';\n  }\n}\n\n/**\r\n * Genera un mensaje de recibido de pedido para el cliente\r\n * @param {string} businessName - Nombre del negocio\r\n * @returns {string} - Mensaje formateado\r\n */\nexport function formatOrderReceivedMessage(businessName) {\n  const safeBusiness = businessName || 'el restaurante';\n  return `¬°Gracias por tu pedido a ${safeBusiness}! Hemos recibido tu solicitud y te contactaremos en breve para confirmar los detalles y tiempo de entrega.`;\n}","map":{"version":3,"names":["formatShareLinkMessage","url","businessName","safeName","safeUrl","formatOrderMessage","orderData","customer","orderItems","total","notes","name","safePhone","phone","safeAddress","address","safeBusiness","safeTotal","toFixed","safeNotes","safeOrderItems","Array","isArray","message","length","forEach","item","price","quantity","subtotal","parseFloat","error","console","formatOrderReceivedMessage"],"sources":["F:/Driver google/VUE.JS-2/temp/websap/src/utils/messageFormatter.js"],"sourcesContent":["/**\r\n * Formatea un mensaje para compartir un men√∫ por WhatsApp\r\n * @param {string} url - URL del men√∫ compartido\r\n * @param {string} businessName - Nombre del negocio\r\n * @returns {string} - Mensaje formateado\r\n */\r\nexport function formatShareLinkMessage(url, businessName) {\r\n  // Verificar par√°metros para evitar errores\r\n  const safeName = businessName || 'nuestro restaurante';\r\n  const safeUrl = url || '';\r\n  \r\n  return `¬°Hola! Te comparto el men√∫ digital de ${safeName}. Puedes verlo aqu√≠: ${safeUrl}`;\r\n}\r\n\r\n/**\r\n * Formatea un mensaje de pedido para WhatsApp\r\n * @param {Object} orderData - Datos del pedido\r\n * @returns {string} - Mensaje formateado\r\n */\r\nexport function formatOrderMessage(orderData) {\r\n  try {\r\n    // Extraer datos con validaci√≥n para evitar errores\r\n    const { customer, businessName, orderItems, total, notes } = orderData || {};\r\n    const safeName = customer?.name || 'Cliente';\r\n    const safePhone = customer?.phone || '';\r\n    const safeAddress = customer?.address || '';\r\n    const safeBusiness = businessName || 'Restaurante';\r\n    const safeTotal = typeof total === 'number' ? total.toFixed(2) : '0.00';\r\n    const safeNotes = notes || '';\r\n    \r\n    // Verificar que orderItems sea un array\r\n    const safeOrderItems = Array.isArray(orderItems) ? orderItems : [];\r\n    \r\n    // Construir el mensaje\r\n    let message = `üçΩÔ∏è *NUEVO PEDIDO - ${safeBusiness}* üçΩÔ∏è\\n\\n`;\r\n    message += `üë§ *Cliente:* ${safeName}\\n`;\r\n    message += `üì± *Tel√©fono:* ${safePhone}\\n`;\r\n    message += `üìç *Direcci√≥n:* ${safeAddress}\\n\\n`;\r\n    \r\n    message += `*üìã DETALLE DEL PEDIDO:*\\n`;\r\n    \r\n    // Listar cada item\r\n    if (safeOrderItems.length > 0) {\r\n      safeOrderItems.forEach(item => {\r\n        const name = item.name || 'Producto';\r\n        const price = typeof item.price === 'number' ? item.price.toFixed(2) : '0.00';\r\n        const quantity = item.quantity || 1;\r\n        const subtotal = (quantity * parseFloat(price)).toFixed(2);\r\n        \r\n        message += `- ${quantity}x ${name} - $${price} c/u = $${subtotal}\\n`;\r\n      });\r\n    } else {\r\n      message += \"- No se especificaron productos\\n\";\r\n    }\r\n    \r\n    message += `\\n*üí∞ TOTAL:* $${safeTotal}\\n\\n`;\r\n    \r\n    // Agregar notas si existen\r\n    if (safeNotes) {\r\n      message += `*üìù NOTAS:*\\n${safeNotes}\\n\\n`;\r\n    }\r\n    \r\n    message += `¬°Gracias por tu pedido! En breve nos pondremos en contacto contigo para confirmar.`;\r\n    \r\n    return message;\r\n  } catch (error) {\r\n    console.error('Error al formatear mensaje de pedido:', error);\r\n    return '‚ùå Error al procesar el pedido. Por favor, contacta directamente al restaurante.';\r\n  }\r\n}\r\n\r\n/**\r\n * Genera un mensaje de recibido de pedido para el cliente\r\n * @param {string} businessName - Nombre del negocio\r\n * @returns {string} - Mensaje formateado\r\n */\r\nexport function formatOrderReceivedMessage(businessName) {\r\n  const safeBusiness = businessName || 'el restaurante';\r\n  \r\n  return `¬°Gracias por tu pedido a ${safeBusiness}! Hemos recibido tu solicitud y te contactaremos en breve para confirmar los detalles y tiempo de entrega.`;\r\n}\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,sBAAsBA,CAACC,GAAG,EAAEC,YAAY,EAAE;EACxD;EACA,MAAMC,QAAQ,GAAGD,YAAY,IAAI,qBAAqB;EACtD,MAAME,OAAO,GAAGH,GAAG,IAAI,EAAE;EAEzB,OAAO,yCAAyCE,QAAQ,wBAAwBC,OAAO,EAAE;AAC3F;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,kBAAkBA,CAACC,SAAS,EAAE;EAC5C,IAAI;IACF;IACA,MAAM;MAAEC,QAAQ;MAAEL,YAAY;MAAEM,UAAU;MAAEC,KAAK;MAAEC;IAAM,CAAC,GAAGJ,SAAS,IAAI,CAAC,CAAC;IAC5E,MAAMH,QAAQ,GAAGI,QAAQ,EAAEI,IAAI,IAAI,SAAS;IAC5C,MAAMC,SAAS,GAAGL,QAAQ,EAAEM,KAAK,IAAI,EAAE;IACvC,MAAMC,WAAW,GAAGP,QAAQ,EAAEQ,OAAO,IAAI,EAAE;IAC3C,MAAMC,YAAY,GAAGd,YAAY,IAAI,aAAa;IAClD,MAAMe,SAAS,GAAG,OAAOR,KAAK,KAAK,QAAQ,GAAGA,KAAK,CAACS,OAAO,CAAC,CAAC,CAAC,GAAG,MAAM;IACvE,MAAMC,SAAS,GAAGT,KAAK,IAAI,EAAE;;IAE7B;IACA,MAAMU,cAAc,GAAGC,KAAK,CAACC,OAAO,CAACd,UAAU,CAAC,GAAGA,UAAU,GAAG,EAAE;;IAElE;IACA,IAAIe,OAAO,GAAG,uBAAuBP,YAAY,WAAW;IAC5DO,OAAO,IAAI,iBAAiBpB,QAAQ,IAAI;IACxCoB,OAAO,IAAI,kBAAkBX,SAAS,IAAI;IAC1CW,OAAO,IAAI,mBAAmBT,WAAW,MAAM;IAE/CS,OAAO,IAAI,4BAA4B;;IAEvC;IACA,IAAIH,cAAc,CAACI,MAAM,GAAG,CAAC,EAAE;MAC7BJ,cAAc,CAACK,OAAO,CAACC,IAAI,IAAI;QAC7B,MAAMf,IAAI,GAAGe,IAAI,CAACf,IAAI,IAAI,UAAU;QACpC,MAAMgB,KAAK,GAAG,OAAOD,IAAI,CAACC,KAAK,KAAK,QAAQ,GAAGD,IAAI,CAACC,KAAK,CAACT,OAAO,CAAC,CAAC,CAAC,GAAG,MAAM;QAC7E,MAAMU,QAAQ,GAAGF,IAAI,CAACE,QAAQ,IAAI,CAAC;QACnC,MAAMC,QAAQ,GAAG,CAACD,QAAQ,GAAGE,UAAU,CAACH,KAAK,CAAC,EAAET,OAAO,CAAC,CAAC,CAAC;QAE1DK,OAAO,IAAI,KAAKK,QAAQ,KAAKjB,IAAI,OAAOgB,KAAK,WAAWE,QAAQ,IAAI;MACtE,CAAC,CAAC;IACJ,CAAC,MAAM;MACLN,OAAO,IAAI,mCAAmC;IAChD;IAEAA,OAAO,IAAI,kBAAkBN,SAAS,MAAM;;IAE5C;IACA,IAAIE,SAAS,EAAE;MACbI,OAAO,IAAI,gBAAgBJ,SAAS,MAAM;IAC5C;IAEAI,OAAO,IAAI,oFAAoF;IAE/F,OAAOA,OAAO;EAChB,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;IAC7D,OAAO,iFAAiF;EAC1F;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASE,0BAA0BA,CAAC/B,YAAY,EAAE;EACvD,MAAMc,YAAY,GAAGd,YAAY,IAAI,gBAAgB;EAErD,OAAO,4BAA4Bc,YAAY,4GAA4G;AAC7J","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}