{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment, resolveComponent as _resolveComponent, createBlock as _createBlock, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"menu-container\"\n};\nconst _hoisted_2 = {\n  class: \"migration-message\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"loading-spinner\"\n};\nconst _hoisted_4 = {\n  class: \"business-info-section\"\n};\nconst _hoisted_5 = [\"disabled\", \"title\"];\nconst _hoisted_6 = {\n  key: 0,\n  class: \"business-form\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"button-group\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"business-preview\"\n};\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = {\n  class: \"payment-info-section\"\n};\nconst _hoisted_12 = [\"disabled\", \"title\"];\nconst _hoisted_13 = {\n  key: 0,\n  class: \"payment-form\"\n};\nconst _hoisted_14 = [\"src\"];\nconst _hoisted_15 = [\"src\"];\nconst _hoisted_16 = {\n  class: \"button-group\"\n};\nconst _hoisted_17 = {\n  key: 1,\n  class: \"payment-preview\"\n};\nconst _hoisted_18 = {\n  class: \"payment-methods\"\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"payment-method\"\n};\nconst _hoisted_20 = [\"src\"];\nconst _hoisted_21 = {\n  key: 1,\n  class: \"payment-method\"\n};\nconst _hoisted_22 = [\"src\"];\nconst _hoisted_23 = {\n  key: 1\n};\nconst _hoisted_24 = {\n  class: \"menu-special-section\"\n};\nconst _hoisted_25 = {\n  key: 0,\n  class: \"menu-form\"\n};\nconst _hoisted_26 = [\"src\"];\nconst _hoisted_27 = {\n  class: \"button-group\"\n};\nconst _hoisted_28 = {\n  type: \"submit\",\n  class: \"save-button\"\n};\nconst _hoisted_29 = {\n  class: \"menu-special-items-list\"\n};\nconst _hoisted_30 = {\n  class: \"menu-item-image-container\"\n};\nconst _hoisted_31 = [\"src\"];\nconst _hoisted_32 = {\n  key: 1,\n  class: \"no-image-placeholder\"\n};\nconst _hoisted_33 = {\n  class: \"menu-item-details\"\n};\nconst _hoisted_34 = {\n  class: \"menu-item-actions\"\n};\nconst _hoisted_35 = [\"onClick\"];\nconst _hoisted_36 = [\"onClick\", \"onMouseenter\"];\nconst _hoisted_37 = [\"onClick\"];\nconst _hoisted_38 = {\n  class: \"menu-section\"\n};\nconst _hoisted_39 = {\n  key: 0,\n  class: \"menu-form\"\n};\nconst _hoisted_40 = [\"src\"];\nconst _hoisted_41 = {\n  class: \"button-group\"\n};\nconst _hoisted_42 = {\n  type: \"submit\",\n  class: \"save-button\"\n};\nconst _hoisted_43 = {\n  class: \"menu-items-list\"\n};\nconst _hoisted_44 = {\n  class: \"menu-item-image-container\"\n};\nconst _hoisted_45 = [\"src\"];\nconst _hoisted_46 = {\n  key: 1,\n  class: \"no-image-placeholder\"\n};\nconst _hoisted_47 = {\n  class: \"menu-item-details\"\n};\nconst _hoisted_48 = {\n  class: \"menu-item-actions\"\n};\nconst _hoisted_49 = [\"onClick\"];\nconst _hoisted_50 = [\"onClick\", \"onMouseenter\"];\nconst _hoisted_51 = [\"onClick\"];\nconst _hoisted_52 = {\n  class: \"inventory-section\"\n};\nconst _hoisted_53 = {\n  class: \"inventory-controls\"\n};\nconst _hoisted_54 = {\n  class: \"inventory-search-container\"\n};\nconst _hoisted_55 = {\n  class: \"inventory-filters\"\n};\nconst _hoisted_56 = {\n  class: \"inventory-actions\"\n};\nconst _hoisted_57 = {\n  key: 0,\n  class: \"sales-chart-container\"\n};\nconst _hoisted_58 = {\n  key: 1,\n  class: \"empty-chart-message\"\n};\nconst _hoisted_59 = {\n  class: \"inventory-table\"\n};\nconst _hoisted_60 = {\n  class: \"share-section\"\n};\nconst _hoisted_61 = {\n  class: \"share-buttons\"\n};\nconst _hoisted_62 = {\n  key: 0,\n  class: \"copied-message\"\n};\nconst _hoisted_63 = {\n  key: 1,\n  class: \"share-link\"\n};\nconst _hoisted_64 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SalesChartComponent = _resolveComponent(\"SalesChartComponent\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Notificaciones \"), $setup.notification.show ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass([\"notification\", $setup.notification.type])\n  }, [_createTextVNode(_toDisplayString($setup.notification.message) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.notification.show = false),\n    class: \"notification-close\"\n  }, \"×\")], 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Mensaje de migración de datos \"), $setup.migrationStatus.inProgress || $setup.migrationStatus.completed ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    class: _normalizeClass([\"migration-status\", {\n      'completed': $setup.migrationStatus.completed\n    }])\n  }, [_createElementVNode(\"div\", _hoisted_2, [$setup.migrationStatus.inProgress ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3)) : _createCommentVNode(\"v-if\", true), _createTextVNode(\" \" + _toDisplayString($setup.migrationStatus.message), 1 /* TEXT */)])], 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" SECCIÓN 1: INFORMACIÓN DEL NEGOCIO \"), _createElementVNode(\"section\", _hoisted_4, [_cache[51] || (_cache[51] = _createElementVNode(\"h2\", null, \"Información del Negocio\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.toggleBusinessForm && $setup.toggleBusinessForm(...args)),\n    class: \"toggle-button\",\n    disabled: $setup.isEmployee && !$props.viewOnly,\n    title: $setup.isEmployee && !$props.viewOnly ? 'No tienes permisos para modificar la información del negocio' : ''\n  }, _toDisplayString($setup.showBusinessForm ? 'Ocultar Formulario' : 'Mostrar Formulario'), 9 /* TEXT, PROPS */, _hoisted_5), $setup.showBusinessForm ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"form\", {\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $setup.saveBusinessInfo && $setup.saveBusinessInfo(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_cache[42] || (_cache[42] = _createElementVNode(\"label\", {\n    for: \"business-name\"\n  }, \"Nombre del Restaurante:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"business-name\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.businessInfo.name = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.businessInfo.name]])]), _createElementVNode(\"div\", null, [_cache[43] || (_cache[43] = _createElementVNode(\"label\", {\n    for: \"business-description\"\n  }, \"Descripción:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"business-description\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.businessInfo.description = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.businessInfo.description]])]), _createElementVNode(\"div\", null, [_cache[44] || (_cache[44] = _createElementVNode(\"label\", {\n    for: \"business-contact\"\n  }, \"Contacto:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"business-contact\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.businessInfo.contact = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.businessInfo.contact]])]), _createElementVNode(\"div\", null, [_cache[45] || (_cache[45] = _createElementVNode(\"label\", {\n    for: \"business-address\"\n  }, \"Dirección:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"business-address\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.businessInfo.address = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.businessInfo.address]])]), _createElementVNode(\"div\", null, [_cache[46] || (_cache[46] = _createElementVNode(\"label\", {\n    for: \"business-logo\"\n  }, \"Logo:\", -1 /* HOISTED */)), _createElementVNode(\"input\", {\n    type: \"file\",\n    id: \"business-logo\",\n    onChange: _cache[6] || (_cache[6] = (...args) => $setup.onLogoChange && $setup.onLogoChange(...args))\n  }, null, 32 /* NEED_HYDRATION */), $setup.businessInfo.logo ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.businessInfo.logo,\n    alt: \"Logo\",\n    style: {\n      \"max-width\": \"100px\",\n      \"margin-top\": \"10px\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_7)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_8, [_cache[47] || (_cache[47] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"save-button\"\n  }, \"Guardar\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[7] || (_cache[7] = (...args) => $setup.clearBusinessForm && $setup.clearBusinessForm(...args)),\n    class: \"clear-button\"\n  }, \"Limpiar\")])], 32 /* NEED_HYDRATION */)])) : _createCommentVNode(\"v-if\", true), $setup.businessInfo.name ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_cache[50] || (_cache[50] = _createElementVNode(\"h3\", null, \"Información Guardada\", -1 /* HOISTED */)), $setup.businessInfo.logo ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.businessInfo.logo,\n    alt: \"Logo\",\n    style: {\n      \"max-width\": \"100px\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_10)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"h4\", null, _toDisplayString($setup.businessInfo.name), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($setup.businessInfo.description), 1 /* TEXT */), _createElementVNode(\"p\", null, [_cache[48] || (_cache[48] = _createElementVNode(\"strong\", null, \"Contacto:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.businessInfo.contact), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[49] || (_cache[49] = _createElementVNode(\"strong\", null, \"Dirección:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.businessInfo.address), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" SECCIÓN 2: FORMA DE PAGO \"), _createElementVNode(\"section\", _hoisted_11, [_cache[60] || (_cache[60] = _createElementVNode(\"h2\", null, \"Forma de Pago\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[9] || (_cache[9] = (...args) => $setup.togglePaymentForm && $setup.togglePaymentForm(...args)),\n    class: \"toggle-button\",\n    disabled: $setup.isEmployee && !$props.viewOnly,\n    title: $setup.isEmployee && !$props.viewOnly ? 'No tienes permisos para modificar la forma de pago' : ''\n  }, _toDisplayString($setup.showPaymentForm ? 'Ocultar Formulario' : 'Mostrar Formulario'), 9 /* TEXT, PROPS */, _hoisted_12), $setup.showPaymentForm ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_createElementVNode(\"form\", {\n    onSubmit: _cache[15] || (_cache[15] = _withModifiers((...args) => $setup.savePaymentInfo && $setup.savePaymentInfo(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_cache[52] || (_cache[52] = _createElementVNode(\"label\", {\n    for: \"qr-title\"\n  }, \"Título del código QR:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"qr-title\",\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $setup.paymentInfo.qrTitle = $event),\n    placeholder: \"Ej: Escanea para pagar\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.paymentInfo.qrTitle]])]), _createElementVNode(\"div\", null, [_cache[53] || (_cache[53] = _createElementVNode(\"label\", {\n    for: \"qr-image\"\n  }, \"Imagen QR de Pago:\", -1 /* HOISTED */)), _createElementVNode(\"input\", {\n    type: \"file\",\n    id: \"qr-image\",\n    onChange: _cache[11] || (_cache[11] = (...args) => $setup.onQRImageChange && $setup.onQRImageChange(...args))\n  }, null, 32 /* NEED_HYDRATION */), $setup.paymentInfo.qrImage ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.paymentInfo.qrImage,\n    alt: \"QR de Pago\",\n    style: {\n      \"max-width\": \"200px\",\n      \"max-height\": \"200px\",\n      \"margin-top\": \"10px\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_14)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_cache[54] || (_cache[54] = _createElementVNode(\"label\", {\n    for: \"nequi-number\"\n  }, \"Número de Nequi:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"nequi-number\",\n    \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $setup.paymentInfo.nequiNumber = $event),\n    placeholder: \"Ej: 300 123 4567\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.paymentInfo.nequiNumber]])]), _createElementVNode(\"div\", null, [_cache[55] || (_cache[55] = _createElementVNode(\"label\", {\n    for: \"nequi-image\"\n  }, \"Imagen Nequi:\", -1 /* HOISTED */)), _createElementVNode(\"input\", {\n    type: \"file\",\n    id: \"nequi-image\",\n    onChange: _cache[13] || (_cache[13] = (...args) => $setup.onNequiImageChange && $setup.onNequiImageChange(...args))\n  }, null, 32 /* NEED_HYDRATION */), $setup.paymentInfo.nequiImage ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.paymentInfo.nequiImage,\n    alt: \"Imagen Nequi\",\n    style: {\n      \"max-width\": \"200px\",\n      \"max-height\": \"200px\",\n      \"margin-top\": \"10px\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_15)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_16, [_cache[56] || (_cache[56] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"save-button\"\n  }, \"Guardar\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[14] || (_cache[14] = (...args) => $setup.clearPaymentForm && $setup.clearPaymentForm(...args)),\n    class: \"clear-button\"\n  }, \"Limpiar\")])], 32 /* NEED_HYDRATION */)])) : _createCommentVNode(\"v-if\", true), $setup.paymentInfo.qrImage || $setup.paymentInfo.nequiNumber ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_cache[59] || (_cache[59] = _createElementVNode(\"h3\", null, \"Información de Pago\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_18, [$setup.paymentInfo.qrImage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_createElementVNode(\"h4\", null, _toDisplayString($setup.paymentInfo.qrTitle || 'Código QR de Pago'), 1 /* TEXT */), _createElementVNode(\"img\", {\n    src: $setup.paymentInfo.qrImage,\n    alt: \"QR de Pago\",\n    style: {\n      \"width\": \"200px\",\n      \"height\": \"200px\",\n      \"object-fit\": \"contain\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_20)])) : _createCommentVNode(\"v-if\", true), $setup.paymentInfo.nequiNumber || $setup.paymentInfo.nequiImage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [_cache[58] || (_cache[58] = _createElementVNode(\"h4\", null, \"Pago con Nequi\", -1 /* HOISTED */)), $setup.paymentInfo.nequiImage ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.paymentInfo.nequiImage,\n    alt: \"Nequi\",\n    style: {\n      \"width\": \"200px\",\n      \"height\": \"200px\",\n      \"object-fit\": \"contain\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_22)) : _createCommentVNode(\"v-if\", true), $setup.paymentInfo.nequiNumber ? (_openBlock(), _createElementBlock(\"p\", _hoisted_23, [_cache[57] || (_cache[57] = _createElementVNode(\"strong\", null, \"Número:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.paymentInfo.nequiNumber), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)])])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" SECCIÓN 3.1: MENÚ ESPECIAL \"), _createElementVNode(\"section\", _hoisted_24, [_cache[71] || (_cache[71] = _createElementVNode(\"h2\", null, \"Menú Especial\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[16] || (_cache[16] = (...args) => $setup.toggleSpecialMenuForm && $setup.toggleSpecialMenuForm(...args)),\n    class: \"toggle-button\"\n  }, _toDisplayString($setup.showSpecialMenuForm ? 'Ocultar Formulario' : 'Mostrar Formulario'), 1 /* TEXT */), _createCommentVNode(\" Formulario para agregar/editar platos especiales \"), $setup.showSpecialMenuForm ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [_createElementVNode(\"form\", {\n    onSubmit: _cache[24] || (_cache[24] = _withModifiers((...args) => $setup.saveSpecialMenuItem && $setup.saveSpecialMenuItem(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_cache[61] || (_cache[61] = _createElementVNode(\"label\", {\n    for: \"special-item-name\"\n  }, \"Nombre del plato especial:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"special-item-name\",\n    \"onUpdate:modelValue\": _cache[17] || (_cache[17] = $event => $setup.newSpecialItem.name = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newSpecialItem.name]])]), _createElementVNode(\"div\", null, [_cache[62] || (_cache[62] = _createElementVNode(\"label\", {\n    for: \"special-item-description\"\n  }, \"Descripción del plato especial:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"special-item-description\",\n    \"onUpdate:modelValue\": _cache[18] || (_cache[18] = $event => $setup.newSpecialItem.description = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newSpecialItem.description]])]), _createElementVNode(\"div\", null, [_cache[63] || (_cache[63] = _createElementVNode(\"label\", {\n    for: \"special-item-price\"\n  }, \"Precio:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"special-item-price\",\n    \"onUpdate:modelValue\": _cache[19] || (_cache[19] = $event => $setup.newSpecialItem.price = $event),\n    min: \"0\",\n    step: \"0.01\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newSpecialItem.price, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"div\", null, [_cache[65] || (_cache[65] = _createElementVNode(\"label\", {\n    for: \"special-item-drinks\"\n  }, \"Incluye refresco:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"special-item-drinks\",\n    \"onUpdate:modelValue\": _cache[20] || (_cache[20] = $event => $setup.newSpecialItem.includesDrink = $event)\n  }, _cache[64] || (_cache[64] = [_createElementVNode(\"option\", {\n    value: true\n  }, \"Sí\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: false\n  }, \"No\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.newSpecialItem.includesDrink]])]), _createElementVNode(\"div\", null, [_cache[66] || (_cache[66] = _createElementVNode(\"label\", {\n    for: \"special-item-quantity\"\n  }, \"Cantidad disponible:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"special-item-quantity\",\n    \"onUpdate:modelValue\": _cache[21] || (_cache[21] = $event => $setup.newSpecialItem.availableQuantity = $event),\n    min: \"0\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newSpecialItem.availableQuantity, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"div\", null, [_cache[67] || (_cache[67] = _createElementVNode(\"label\", {\n    for: \"special-item-image\"\n  }, \"Imagen del plato especial:\", -1 /* HOISTED */)), _createElementVNode(\"input\", {\n    type: \"file\",\n    id: \"special-item-image\",\n    onChange: _cache[22] || (_cache[22] = (...args) => $setup.onSpecialImageChange && $setup.onSpecialImageChange(...args))\n  }, null, 32 /* NEED_HYDRATION */), $setup.newSpecialItem.image ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.newSpecialItem.image,\n    alt: \"Imagen del plato especial\",\n    style: {\n      \"max-width\": \"100px\",\n      \"margin-top\": \"10px\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_26)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"button\", _hoisted_28, _toDisplayString($setup.isEditingSpecial ? 'Actualizar' : 'Crear'), 1 /* TEXT */), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[23] || (_cache[23] = (...args) => $setup.clearSpecialMenuForm && $setup.clearSpecialMenuForm(...args)),\n    class: \"clear-button\"\n  }, \"Cancelar\")])], 32 /* NEED_HYDRATION */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Lista de platos especiales \"), _createElementVNode(\"div\", _hoisted_29, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.specialMenuItems, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"menu-item-card\"\n    }, [_createElementVNode(\"div\", _hoisted_30, [item.image ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: item.image,\n      alt: \"Plato especial\",\n      class: \"menu-item-image\"\n    }, null, 8 /* PROPS */, _hoisted_31)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_32, \"Sin imagen\"))]), _createElementVNode(\"div\", _hoisted_33, [_createElementVNode(\"h3\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(item.description), 1 /* TEXT */), _createElementVNode(\"p\", null, [_cache[68] || (_cache[68] = _createElementVNode(\"strong\", null, \"Precio:\", -1 /* HOISTED */)), _createTextVNode(\" $\" + _toDisplayString(item.price), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[69] || (_cache[69] = _createElementVNode(\"strong\", null, \"Incluye refresco:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(item.includesDrink ? 'Sí' : 'No'), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[70] || (_cache[70] = _createElementVNode(\"strong\", null, \"Disponibles:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(item.availableQuantity), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_34, [_createElementVNode(\"button\", {\n      onClick: $event => $setup.editSpecialMenuItem(index),\n      class: \"edit-button\"\n    }, \"Editar\", 8 /* PROPS */, _hoisted_35), _createElementVNode(\"button\", {\n      onClick: $event => $setup.sellSpecialMenuItem(index),\n      onMouseenter: $event => $setup.checkAvailabilityToast(item.id),\n      class: \"sell-button tooltip-container\"\n    }, \" Vender \", 40 /* PROPS, NEED_HYDRATION */, _hoisted_36), _createElementVNode(\"button\", {\n      onClick: $event => $setup.deleteSpecialMenuItem(index),\n      class: \"delete-button\"\n    }, \"Eliminar\", 8 /* PROPS */, _hoisted_37)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" SECCIÓN 3: MENÚ DEL RESTAURANTE \"), _createElementVNode(\"section\", _hoisted_38, [_cache[82] || (_cache[82] = _createElementVNode(\"h2\", null, \"Menú del Restaurante\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[25] || (_cache[25] = (...args) => $setup.toggleMenuForm && $setup.toggleMenuForm(...args)),\n    class: \"toggle-button\"\n  }, _toDisplayString($setup.showMenuForm ? 'Ocultar Formulario' : 'Mostrar Formulario'), 1 /* TEXT */), _createCommentVNode(\" Formulario para agregar/editar platos \"), $setup.showMenuForm ? (_openBlock(), _createElementBlock(\"div\", _hoisted_39, [_createElementVNode(\"form\", {\n    onSubmit: _cache[33] || (_cache[33] = _withModifiers((...args) => $setup.saveMenuItem && $setup.saveMenuItem(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_cache[72] || (_cache[72] = _createElementVNode(\"label\", {\n    for: \"item-name\"\n  }, \"Nombre del plato:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"item-name\",\n    \"onUpdate:modelValue\": _cache[26] || (_cache[26] = $event => $setup.newItem.name = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newItem.name]])]), _createElementVNode(\"div\", null, [_cache[73] || (_cache[73] = _createElementVNode(\"label\", {\n    for: \"item-description\"\n  }, \"Descripción del plato:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"item-description\",\n    \"onUpdate:modelValue\": _cache[27] || (_cache[27] = $event => $setup.newItem.description = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newItem.description]])]), _createElementVNode(\"div\", null, [_cache[74] || (_cache[74] = _createElementVNode(\"label\", {\n    for: \"item-price\"\n  }, \"Precio:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"item-price\",\n    \"onUpdate:modelValue\": _cache[28] || (_cache[28] = $event => $setup.newItem.price = $event),\n    min: \"0\",\n    step: \"0.01\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newItem.price, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"div\", null, [_cache[76] || (_cache[76] = _createElementVNode(\"label\", {\n    for: \"item-drinks\"\n  }, \"Incluye refresco:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"item-drinks\",\n    \"onUpdate:modelValue\": _cache[29] || (_cache[29] = $event => $setup.newItem.includesDrink = $event)\n  }, _cache[75] || (_cache[75] = [_createElementVNode(\"option\", {\n    value: true\n  }, \"Sí\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: false\n  }, \"No\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.newItem.includesDrink]])]), _createElementVNode(\"div\", null, [_cache[77] || (_cache[77] = _createElementVNode(\"label\", {\n    for: \"item-quantity\"\n  }, \"Cantidad disponible:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"item-quantity\",\n    \"onUpdate:modelValue\": _cache[30] || (_cache[30] = $event => $setup.newItem.availableQuantity = $event),\n    min: \"0\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newItem.availableQuantity, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"div\", null, [_cache[78] || (_cache[78] = _createElementVNode(\"label\", {\n    for: \"item-image\"\n  }, \"Imagen del plato:\", -1 /* HOISTED */)), _createElementVNode(\"input\", {\n    type: \"file\",\n    id: \"item-image\",\n    onChange: _cache[31] || (_cache[31] = (...args) => $setup.onImageChange && $setup.onImageChange(...args))\n  }, null, 32 /* NEED_HYDRATION */), $setup.newItem.image ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.newItem.image,\n    alt: \"Imagen del plato\",\n    style: {\n      \"max-width\": \"100px\",\n      \"margin-top\": \"10px\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_40)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_41, [_createElementVNode(\"button\", _hoisted_42, _toDisplayString($setup.isEditing ? 'Actualizar' : 'Crear'), 1 /* TEXT */), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[32] || (_cache[32] = (...args) => $setup.clearMenuForm && $setup.clearMenuForm(...args)),\n    class: \"clear-button\"\n  }, \"Cancelar\")])], 32 /* NEED_HYDRATION */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Lista de platos \"), _createElementVNode(\"div\", _hoisted_43, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.menuItems, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"menu-item-card\"\n    }, [_createElementVNode(\"div\", _hoisted_44, [item.image ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: item.image,\n      alt: \"Plato\",\n      class: \"menu-item-image\"\n    }, null, 8 /* PROPS */, _hoisted_45)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_46, \"Sin imagen\"))]), _createElementVNode(\"div\", _hoisted_47, [_createElementVNode(\"h3\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(item.description), 1 /* TEXT */), _createElementVNode(\"p\", null, [_cache[79] || (_cache[79] = _createElementVNode(\"strong\", null, \"Precio:\", -1 /* HOISTED */)), _createTextVNode(\" $\" + _toDisplayString(item.price), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[80] || (_cache[80] = _createElementVNode(\"strong\", null, \"Incluye refresco:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(item.includesDrink ? 'Sí' : 'No'), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[81] || (_cache[81] = _createElementVNode(\"strong\", null, \"Disponibles:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(item.availableQuantity), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_48, [_createElementVNode(\"button\", {\n      onClick: $event => $setup.editMenuItem(index),\n      class: \"edit-button\"\n    }, \"Editar\", 8 /* PROPS */, _hoisted_49), _createElementVNode(\"button\", {\n      onClick: $event => $setup.sellMenuItem(index),\n      onMouseenter: $event => $setup.checkAvailabilityToast(item.id),\n      class: \"sell-button tooltip-container\"\n    }, \" Vender \", 40 /* PROPS, NEED_HYDRATION */, _hoisted_50), _createElementVNode(\"button\", {\n      onClick: $event => $setup.deleteMenuItem(index),\n      class: \"delete-button\"\n    }, \"Eliminar\", 8 /* PROPS */, _hoisted_51)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" SECCIÓN 4: INVENTARIO DE PLATOS VENDIDOS \"), _createElementVNode(\"section\", _hoisted_52, [_cache[90] || (_cache[90] = _createElementVNode(\"h2\", null, \"Inventario de Platos Vendidos\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_53, [_createElementVNode(\"div\", _hoisted_54, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[34] || (_cache[34] = $event => $setup.searchTerm = $event),\n    placeholder: \"Buscar plato...\",\n    class: \"inventory-search-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchTerm]])]), _createElementVNode(\"div\", _hoisted_55, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[35] || (_cache[35] = $event => $setup.sortBy = $event),\n    class: \"inventory-filter\"\n  }, _cache[83] || (_cache[83] = [_createStaticVNode(\"<option value=\\\"\\\" data-v-6324675e>Ordenar por</option><option value=\\\"name\\\" data-v-6324675e>Nombre</option><option value=\\\"quantity-desc\\\" data-v-6324675e>Más vendidos</option><option value=\\\"quantity-asc\\\" data-v-6324675e>Menos vendidos</option><option value=\\\"price-desc\\\" data-v-6324675e>Mayor precio</option><option value=\\\"price-asc\\\" data-v-6324675e>Menor precio</option><option value=\\\"date-desc\\\" data-v-6324675e>Más recientes</option><option value=\\\"date-asc\\\" data-v-6324675e>Más antiguos</option>\", 8)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.sortBy]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[36] || (_cache[36] = $event => $setup.categoryFilter = $event),\n    class: \"inventory-filter\"\n  }, _cache[84] || (_cache[84] = [_createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Todas las categorías\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"drinks\"\n  }, \"Con refresco\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"nodrinks\"\n  }, \"Sin refresco\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.categoryFilter]])]), _createElementVNode(\"div\", _hoisted_56, [_createElementVNode(\"button\", {\n    onClick: _cache[37] || (_cache[37] = (...args) => $setup.exportToExcel && $setup.exportToExcel(...args)),\n    class: \"export-button excel\"\n  }, _cache[85] || (_cache[85] = [_createElementVNode(\"span\", {\n    class: \"action-icon\"\n  }, \"📊\", -1 /* HOISTED */), _createTextVNode(\" Exportar a Excel \")])), _createElementVNode(\"button\", {\n    onClick: _cache[38] || (_cache[38] = (...args) => $setup.exportToPDF && $setup.exportToPDF(...args)),\n    class: \"export-button pdf\"\n  }, _cache[86] || (_cache[86] = [_createElementVNode(\"span\", {\n    class: \"action-icon\"\n  }, \"📄\", -1 /* HOISTED */), _createTextVNode(\" Exportar a PDF \")])), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[39] || (_cache[39] = $event => $setup.selectedChartType = $event),\n    class: \"inventory-filter\"\n  }, _cache[87] || (_cache[87] = [_createElementVNode(\"option\", {\n    value: \"bar\"\n  }, \"Gráfico de barras\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"line\"\n  }, \"Gráfico de líneas\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"none\"\n  }, \"Sin gráfico\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.selectedChartType]])])]), _createCommentVNode(\" Gráfico de ventas con tratamiento de errores \"), $setup.selectedChartType !== 'none' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_57, [$setup.filteredSoldItems.length > 0 ? (_openBlock(), _createBlock(_component_SalesChartComponent, {\n    key: 0,\n    chartType: $setup.selectedChartType,\n    items: $setup.filteredSoldItems,\n    class: \"sales-chart\",\n    onError: $setup.handleChartError\n  }, null, 8 /* PROPS */, [\"chartType\", \"items\", \"onError\"])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_58, \" No hay datos suficientes para mostrar el gráfico \"))])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_59, [_createElementVNode(\"table\", null, [_cache[89] || (_cache[89] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Nombre del Plato\"), _createElementVNode(\"th\", null, \"Categoría\"), _createElementVNode(\"th\", null, \"Cantidad Vendida\"), _createElementVNode(\"th\", null, \"Precio por Unidad\"), _createElementVNode(\"th\", null, \"Fecha de Venta\"), _createElementVNode(\"th\", null, \"Subtotal\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredSoldItems, (item, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index,\n      class: _normalizeClass({\n        'alternate-row': index % 2 !== 0\n      })\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.includesDrink ? 'Con refresco' : 'Sin refresco'), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.quantity), 1 /* TEXT */), _createElementVNode(\"td\", null, \"$\" + _toDisplayString($setup.formatPrice(item.price)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($setup.formatDate(item.date)), 1 /* TEXT */), _createElementVNode(\"td\", null, \"$\" + _toDisplayString($setup.formatPrice(item.quantity * item.price)), 1 /* TEXT */)], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"tfoot\", null, [_createElementVNode(\"tr\", null, [_cache[88] || (_cache[88] = _createElementVNode(\"td\", {\n    colspan: \"5\"\n  }, [_createElementVNode(\"strong\", null, \"Total Ventas\")], -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_createElementVNode(\"strong\", null, \"$\" + _toDisplayString($setup.formatPrice($setup.totalSales)), 1 /* TEXT */)])])])])])]), _createCommentVNode(\" SECCIÓN 5: COMPARTIR MENU \"), _createElementVNode(\"section\", _hoisted_60, [_cache[94] || (_cache[94] = _createElementVNode(\"h2\", null, \"Compartir Menú\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_61, [_createElementVNode(\"button\", {\n    onClick: _cache[40] || (_cache[40] = (...args) => $setup.shareByWhatsApp && $setup.shareByWhatsApp(...args)),\n    class: \"whatsapp-button\"\n  }, _cache[91] || (_cache[91] = [_createElementVNode(\"span\", {\n    class: \"emoji\"\n  }, \"📱\", -1 /* HOISTED */), _createTextVNode(\" Compartir en WhatsApp \")])), _createElementVNode(\"button\", {\n    onClick: _cache[41] || (_cache[41] = (...args) => $setup.copyLink && $setup.copyLink(...args)),\n    class: \"copy-button\"\n  }, _cache[92] || (_cache[92] = [_createElementVNode(\"span\", {\n    class: \"emoji\"\n  }, \"📋\", -1 /* HOISTED */), _createTextVNode(\" Copiar Enlace \")]))]), $setup.showCopiedMessage ? (_openBlock(), _createElementBlock(\"p\", _hoisted_62, \"¡Enlace copiado al portapapeles!\")) : _createCommentVNode(\"v-if\", true), $setup.shareLink ? (_openBlock(), _createElementBlock(\"p\", _hoisted_63, [_cache[93] || (_cache[93] = _createTextVNode(\" Enlace para compartir: \")), _createElementVNode(\"a\", {\n    href: $setup.shareLink,\n    target: \"_blank\"\n  }, _toDisplayString($setup.shareLink), 9 /* TEXT, PROPS */, _hoisted_64)])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Toast Notification \"), $setup.toast.show ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 2,\n    class: _normalizeClass([\"toast-notification\", $setup.toast.type])\n  }, _toDisplayString($setup.toast.message), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","type","_createElementBlock","_hoisted_1","_createCommentVNode","$setup","notification","show","_normalizeClass","_createTextVNode","_toDisplayString","message","_createElementVNode","onClick","_cache","$event","migrationStatus","inProgress","completed","_hoisted_2","_hoisted_3","_hoisted_4","args","toggleBusinessForm","disabled","isEmployee","$props","viewOnly","title","showBusinessForm","_hoisted_5","_hoisted_6","onSubmit","_withModifiers","saveBusinessInfo","for","id","businessInfo","name","required","description","contact","address","onChange","onLogoChange","logo","src","alt","style","_hoisted_7","_hoisted_8","clearBusinessForm","_hoisted_9","_hoisted_10","_hoisted_11","togglePaymentForm","showPaymentForm","_hoisted_12","_hoisted_13","savePaymentInfo","paymentInfo","qrTitle","placeholder","onQRImageChange","qrImage","_hoisted_14","nequiNumber","onNequiImageChange","nequiImage","_hoisted_15","_hoisted_16","clearPaymentForm","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","toggleSpecialMenuForm","showSpecialMenuForm","_hoisted_25","saveSpecialMenuItem","newSpecialItem","price","min","step","number","includesDrink","value","availableQuantity","onSpecialImageChange","image","_hoisted_26","_hoisted_27","_hoisted_28","isEditingSpecial","clearSpecialMenuForm","_hoisted_29","_Fragment","_renderList","specialMenuItems","item","index","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","editSpecialMenuItem","_hoisted_35","sellSpecialMenuItem","onMouseenter","checkAvailabilityToast","_hoisted_36","deleteSpecialMenuItem","_hoisted_37","_hoisted_38","toggleMenuForm","showMenuForm","_hoisted_39","saveMenuItem","newItem","onImageChange","_hoisted_40","_hoisted_41","_hoisted_42","isEditing","clearMenuForm","_hoisted_43","menuItems","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","editMenuItem","_hoisted_49","sellMenuItem","_hoisted_50","deleteMenuItem","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","searchTerm","_hoisted_55","sortBy","_createStaticVNode","categoryFilter","_hoisted_56","exportToExcel","exportToPDF","selectedChartType","_hoisted_57","filteredSoldItems","length","_createBlock","_component_SalesChartComponent","chartType","items","onError","handleChartError","_hoisted_58","_hoisted_59","quantity","formatPrice","formatDate","date","colspan","totalSales","_hoisted_60","_hoisted_61","shareByWhatsApp","copyLink","showCopiedMessage","_hoisted_62","shareLink","_hoisted_63","href","target","_hoisted_64","toast"],"sources":["F:\\Driver google\\VUE.JS-2\\temp\\websap\\src\\components\\MenuComponent.vue"],"sourcesContent":["<template>\n  <div class=\"menu-container\">\n    <!-- Notificaciones -->\n    <div \n      v-if=\"notification.show\" \n      class=\"notification\" \n      :class=\"notification.type\"\n    >\n      {{ notification.message }}\n      <button @click=\"notification.show = false\" class=\"notification-close\">&times;</button>\n    </div>\n\n    <!-- Mensaje de migración de datos -->\n    <div v-if=\"migrationStatus.inProgress || migrationStatus.completed\" class=\"migration-status\" :class=\"{ 'completed': migrationStatus.completed }\">\n      <div class=\"migration-message\">\n        <span v-if=\"migrationStatus.inProgress\" class=\"loading-spinner\"></span>\n        {{ migrationStatus.message }}\n      </div>\n    </div>\n  \n    <!-- SECCIÓN 1: INFORMACIÓN DEL NEGOCIO -->\n    <section class=\"business-info-section\">\n      <h2>Información del Negocio</h2>\n      <button \n        @click=\"toggleBusinessForm\" \n        class=\"toggle-button\"\n        :disabled=\"isEmployee && !viewOnly\"\n        :title=\"isEmployee && !viewOnly ? 'No tienes permisos para modificar la información del negocio' : ''\"\n      >\n        {{ showBusinessForm ? 'Ocultar Formulario' : 'Mostrar Formulario' }}\n      </button>\n\n      <div v-if=\"showBusinessForm\" class=\"business-form\">\n        <form @submit.prevent=\"saveBusinessInfo\">\n          <div>\n            <label for=\"business-name\">Nombre del Restaurante:</label>\n            <input type=\"text\" id=\"business-name\" v-model=\"businessInfo.name\" required>\n          </div>\n          <div>\n            <label for=\"business-description\">Descripción:</label>\n            <textarea id=\"business-description\" v-model=\"businessInfo.description\"></textarea>\n          </div>\n          <div>\n            <label for=\"business-contact\">Contacto:</label>\n            <input type=\"text\" id=\"business-contact\" v-model=\"businessInfo.contact\">\n          </div>\n          <div>\n            <label for=\"business-address\">Dirección:</label>\n            <input type=\"text\" id=\"business-address\" v-model=\"businessInfo.address\">\n          </div>\n          <div>\n            <label for=\"business-logo\">Logo:</label>\n            <input type=\"file\" id=\"business-logo\" @change=\"onLogoChange\">\n            <img v-if=\"businessInfo.logo\" :src=\"businessInfo.logo\" alt=\"Logo\" style=\"max-width: 100px; margin-top: 10px;\">\n          </div>\n          <div class=\"button-group\">\n            <button type=\"submit\" class=\"save-button\">Guardar</button>\n            <button type=\"button\" @click=\"clearBusinessForm\" class=\"clear-button\">Limpiar</button>\n          </div>\n        </form>\n      </div>\n\n      <div v-if=\"businessInfo.name\" class=\"business-preview\">\n        <h3>Información Guardada</h3>\n        <img v-if=\"businessInfo.logo\" :src=\"businessInfo.logo\" alt=\"Logo\" style=\"max-width: 100px;\">\n        <h4>{{ businessInfo.name }}</h4>\n        <p>{{ businessInfo.description }}</p>\n        <p><strong>Contacto:</strong> {{ businessInfo.contact }}</p>\n        <p><strong>Dirección:</strong> {{ businessInfo.address }}</p>\n      </div>\n    </section>\n\n    <!-- SECCIÓN 2: FORMA DE PAGO -->\n    <section class=\"payment-info-section\">\n      <h2>Forma de Pago</h2>\n      <button \n        @click=\"togglePaymentForm\" \n        class=\"toggle-button\"\n        :disabled=\"isEmployee && !viewOnly\"\n        :title=\"isEmployee && !viewOnly ? 'No tienes permisos para modificar la forma de pago' : ''\"\n      >\n        {{ showPaymentForm ? 'Ocultar Formulario' : 'Mostrar Formulario' }}\n      </button>\n\n      <div v-if=\"showPaymentForm\" class=\"payment-form\">\n        <form @submit.prevent=\"savePaymentInfo\">\n          <div>\n            <label for=\"qr-title\">Título del código QR:</label>\n            <input type=\"text\" id=\"qr-title\" v-model=\"paymentInfo.qrTitle\" placeholder=\"Ej: Escanea para pagar\">\n          </div>\n          <div>\n            <label for=\"qr-image\">Imagen QR de Pago:</label>\n            <input type=\"file\" id=\"qr-image\" @change=\"onQRImageChange\">\n            <img v-if=\"paymentInfo.qrImage\" :src=\"paymentInfo.qrImage\" alt=\"QR de Pago\" style=\"max-width: 200px; max-height: 200px; margin-top: 10px;\">\n          </div>\n          <div>\n            <label for=\"nequi-number\">Número de Nequi:</label>\n            <input type=\"text\" id=\"nequi-number\" v-model=\"paymentInfo.nequiNumber\" placeholder=\"Ej: 300 123 4567\">\n          </div>\n          <div>\n            <label for=\"nequi-image\">Imagen Nequi:</label>\n            <input type=\"file\" id=\"nequi-image\" @change=\"onNequiImageChange\">\n            <img v-if=\"paymentInfo.nequiImage\" :src=\"paymentInfo.nequiImage\" alt=\"Imagen Nequi\" style=\"max-width: 200px; max-height: 200px; margin-top: 10px;\">\n          </div>\n          <div class=\"button-group\">\n            <button type=\"submit\" class=\"save-button\">Guardar</button>\n            <button type=\"button\" @click=\"clearPaymentForm\" class=\"clear-button\">Limpiar</button>\n          </div>\n        </form>\n      </div>\n\n      <div v-if=\"paymentInfo.qrImage || paymentInfo.nequiNumber\" class=\"payment-preview\">\n        <h3>Información de Pago</h3>\n        <div class=\"payment-methods\">\n          <div v-if=\"paymentInfo.qrImage\" class=\"payment-method\">\n            <h4>{{ paymentInfo.qrTitle || 'Código QR de Pago' }}</h4>\n            <img :src=\"paymentInfo.qrImage\" alt=\"QR de Pago\" style=\"width: 200px; height: 200px; object-fit: contain;\">\n          </div>\n          \n          <div v-if=\"paymentInfo.nequiNumber || paymentInfo.nequiImage\" class=\"payment-method\">\n            <h4>Pago con Nequi</h4>\n            <img v-if=\"paymentInfo.nequiImage\" :src=\"paymentInfo.nequiImage\" alt=\"Nequi\" style=\"width: 200px; height: 200px; object-fit: contain;\">\n            <p v-if=\"paymentInfo.nequiNumber\"><strong>Número:</strong> {{ paymentInfo.nequiNumber }}</p>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- SECCIÓN 3.1: MENÚ ESPECIAL -->\n    <section class=\"menu-special-section\">\n      <h2>Menú Especial</h2>\n      <button @click=\"toggleSpecialMenuForm\" class=\"toggle-button\">\n        {{ showSpecialMenuForm ? 'Ocultar Formulario' : 'Mostrar Formulario' }}\n      </button>\n\n      <!-- Formulario para agregar/editar platos especiales -->\n      <div v-if=\"showSpecialMenuForm\" class=\"menu-form\">\n        <form @submit.prevent=\"saveSpecialMenuItem\">\n          <div>\n            <label for=\"special-item-name\">Nombre del plato especial:</label>\n            <input type=\"text\" id=\"special-item-name\" v-model=\"newSpecialItem.name\" required>\n          </div>\n          <div>\n            <label for=\"special-item-description\">Descripción del plato especial:</label>\n            <textarea id=\"special-item-description\" v-model=\"newSpecialItem.description\"></textarea>\n          </div>\n          <div>\n            <label for=\"special-item-price\">Precio:</label>\n            <input type=\"number\" id=\"special-item-price\" v-model.number=\"newSpecialItem.price\" min=\"0\" step=\"0.01\" required>\n          </div>\n          <div>\n            <label for=\"special-item-drinks\">Incluye refresco:</label>\n            <select id=\"special-item-drinks\" v-model=\"newSpecialItem.includesDrink\">\n              <option :value=\"true\">Sí</option>\n              <option :value=\"false\">No</option>\n            </select>\n          </div>\n          <div>\n            <label for=\"special-item-quantity\">Cantidad disponible:</label>\n            <input type=\"number\" id=\"special-item-quantity\" v-model.number=\"newSpecialItem.availableQuantity\" min=\"0\" required>\n          </div>\n          <div>\n            <label for=\"special-item-image\">Imagen del plato especial:</label>\n            <input type=\"file\" id=\"special-item-image\" @change=\"onSpecialImageChange\">\n            <img v-if=\"newSpecialItem.image\" :src=\"newSpecialItem.image\" alt=\"Imagen del plato especial\" style=\"max-width: 100px; margin-top: 10px;\">\n          </div>\n          <div class=\"button-group\">\n            <button type=\"submit\" class=\"save-button\">{{ isEditingSpecial ? 'Actualizar' : 'Crear' }}</button>\n            <button type=\"button\" @click=\"clearSpecialMenuForm\" class=\"clear-button\">Cancelar</button>\n          </div>\n        </form>\n      </div>\n\n      <!-- Lista de platos especiales -->\n      <div class=\"menu-special-items-list\">\n        <div v-for=\"(item, index) in specialMenuItems\" :key=\"index\" class=\"menu-item-card\">\n          <div class=\"menu-item-image-container\">\n            <img v-if=\"item.image\" :src=\"item.image\" alt=\"Plato especial\" class=\"menu-item-image\">\n            <div v-else class=\"no-image-placeholder\">Sin imagen</div>\n          </div>\n          <div class=\"menu-item-details\">\n            <h3>{{ item.name }}</h3>\n            <p>{{ item.description }}</p>\n            <p><strong>Precio:</strong> ${{ item.price }}</p>\n            <p><strong>Incluye refresco:</strong> {{ item.includesDrink ? 'Sí' : 'No' }}</p>\n            <p><strong>Disponibles:</strong> {{ item.availableQuantity }}</p>\n          </div>\n          <div class=\"menu-item-actions\">\n            <button @click=\"editSpecialMenuItem(index)\" class=\"edit-button\">Editar</button>\n            <button \n              @click=\"sellSpecialMenuItem(index)\" \n              @mouseenter=\"checkAvailabilityToast(item.id)\"\n              class=\"sell-button tooltip-container\">\n              Vender\n            </button>\n            <button @click=\"deleteSpecialMenuItem(index)\" class=\"delete-button\">Eliminar</button>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- SECCIÓN 3: MENÚ DEL RESTAURANTE -->\n    <section class=\"menu-section\">\n      <h2>Menú del Restaurante</h2>\n      <button @click=\"toggleMenuForm\" class=\"toggle-button\">\n        {{ showMenuForm ? 'Ocultar Formulario' : 'Mostrar Formulario' }}\n      </button>\n\n      <!-- Formulario para agregar/editar platos -->\n      <div v-if=\"showMenuForm\" class=\"menu-form\">\n        <form @submit.prevent=\"saveMenuItem\">\n          <div>\n            <label for=\"item-name\">Nombre del plato:</label>\n            <input type=\"text\" id=\"item-name\" v-model=\"newItem.name\" required>\n          </div>\n          <div>\n            <label for=\"item-description\">Descripción del plato:</label>\n            <textarea id=\"item-description\" v-model=\"newItem.description\"></textarea>\n          </div>\n          <div>\n            <label for=\"item-price\">Precio:</label>\n            <input type=\"number\" id=\"item-price\" v-model.number=\"newItem.price\" min=\"0\" step=\"0.01\" required>\n          </div>\n          <div>\n            <label for=\"item-drinks\">Incluye refresco:</label>\n            <select id=\"item-drinks\" v-model=\"newItem.includesDrink\">\n              <option :value=\"true\">Sí</option>\n              <option :value=\"false\">No</option>\n            </select>\n          </div>\n          <div>\n            <label for=\"item-quantity\">Cantidad disponible:</label>\n            <input type=\"number\" id=\"item-quantity\" v-model.number=\"newItem.availableQuantity\" min=\"0\" required>\n          </div>\n          <div>\n            <label for=\"item-image\">Imagen del plato:</label>\n            <input type=\"file\" id=\"item-image\" @change=\"onImageChange\">\n            <img v-if=\"newItem.image\" :src=\"newItem.image\" alt=\"Imagen del plato\" style=\"max-width: 100px; margin-top: 10px;\">\n          </div>\n          <div class=\"button-group\">\n            <button type=\"submit\" class=\"save-button\">{{ isEditing ? 'Actualizar' : 'Crear' }}</button>\n            <button type=\"button\" @click=\"clearMenuForm\" class=\"clear-button\">Cancelar</button>\n          </div>\n        </form>\n      </div>\n\n      <!-- Lista de platos -->\n      <div class=\"menu-items-list\">\n        <div v-for=\"(item, index) in menuItems\" :key=\"index\" class=\"menu-item-card\">\n          <div class=\"menu-item-image-container\">\n            <img v-if=\"item.image\" :src=\"item.image\" alt=\"Plato\" class=\"menu-item-image\">\n            <div v-else class=\"no-image-placeholder\">Sin imagen</div>\n          </div>\n          <div class=\"menu-item-details\">\n            <h3>{{ item.name }}</h3>\n            <p>{{ item.description }}</p>\n            <p><strong>Precio:</strong> ${{ item.price }}</p>\n            <p><strong>Incluye refresco:</strong> {{ item.includesDrink ? 'Sí' : 'No' }}</p>\n            <p><strong>Disponibles:</strong> {{ item.availableQuantity }}</p>\n          </div>\n          <div class=\"menu-item-actions\">\n            <button @click=\"editMenuItem(index)\" class=\"edit-button\">Editar</button>\n            <button \n              @click=\"sellMenuItem(index)\" \n              @mouseenter=\"checkAvailabilityToast(item.id)\"\n              class=\"sell-button tooltip-container\">\n              Vender\n            </button>\n            <button @click=\"deleteMenuItem(index)\" class=\"delete-button\">Eliminar</button>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- SECCIÓN 4: INVENTARIO DE PLATOS VENDIDOS -->\n    <section class=\"inventory-section\">\n      <h2>Inventario de Platos Vendidos</h2>\n      \n      <div class=\"inventory-controls\">\n        <div class=\"inventory-search-container\">\n          <input \n            v-model=\"searchTerm\" \n            placeholder=\"Buscar plato...\" \n            class=\"inventory-search-input\"\n          />\n        </div>\n        \n        <div class=\"inventory-filters\">\n          <select v-model=\"sortBy\" class=\"inventory-filter\">\n            <option value=\"\">Ordenar por</option>\n            <option value=\"name\">Nombre</option>\n            <option value=\"quantity-desc\">Más vendidos</option>\n            <option value=\"quantity-asc\">Menos vendidos</option>\n            <option value=\"price-desc\">Mayor precio</option>\n            <option value=\"price-asc\">Menor precio</option>\n            <option value=\"date-desc\">Más recientes</option>\n            <option value=\"date-asc\">Más antiguos</option>\n          </select>\n          \n          <select v-model=\"categoryFilter\" class=\"inventory-filter\">\n            <option value=\"\">Todas las categorías</option>\n            <option value=\"drinks\">Con refresco</option>\n            <option value=\"nodrinks\">Sin refresco</option>\n          </select>\n        </div>\n        \n        <div class=\"inventory-actions\">\n          <button @click=\"exportToExcel\" class=\"export-button excel\">\n            <span class=\"action-icon\">📊</span> Exportar a Excel\n          </button>\n          <button @click=\"exportToPDF\" class=\"export-button pdf\">\n            <span class=\"action-icon\">📄</span> Exportar a PDF\n          </button>\n          <select v-model=\"selectedChartType\" class=\"inventory-filter\">\n            <option value=\"bar\">Gráfico de barras</option>\n            <option value=\"line\">Gráfico de líneas</option>\n            <option value=\"none\">Sin gráfico</option>\n          </select>\n        </div>\n      </div>\n      \n      <!-- Gráfico de ventas con tratamiento de errores -->\n      <div v-if=\"selectedChartType !== 'none'\" class=\"sales-chart-container\">\n        <SalesChartComponent \n          v-if=\"filteredSoldItems.length > 0\" \n          :chartType=\"selectedChartType\" \n          :items=\"filteredSoldItems\"\n          class=\"sales-chart\"\n          @error=\"handleChartError\"\n        />\n        <div v-else class=\"empty-chart-message\">\n          No hay datos suficientes para mostrar el gráfico\n        </div>\n      </div>\n      \n      <div class=\"inventory-table\">\n        <table>\n          <thead>\n            <tr>\n              <th>Nombre del Plato</th>\n              <th>Categoría</th>\n              <th>Cantidad Vendida</th>\n              <th>Precio por Unidad</th>\n              <th>Fecha de Venta</th>\n              <th>Subtotal</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item, index) in filteredSoldItems\" :key=\"index\" :class=\"{ 'alternate-row': index % 2 !== 0 }\">\n              <td>{{ item.name }}</td>\n              <td>{{ item.includesDrink ? 'Con refresco' : 'Sin refresco' }}</td>\n              <td>{{ item.quantity }}</td>\n              <td>${{ formatPrice(item.price) }}</td>\n              <td>{{ formatDate(item.date) }}</td>\n              <td>${{ formatPrice(item.quantity * item.price) }}</td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td colspan=\"5\"><strong>Total Ventas</strong></td>\n              <td><strong>${{ formatPrice(totalSales) }}</strong></td>\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n    </section>\n\n    <!-- SECCIÓN 5: COMPARTIR MENU -->\n    <section class=\"share-section\">\n      <h2>Compartir Menú</h2>\n      <div class=\"share-buttons\">\n        <button @click=\"shareByWhatsApp\" class=\"whatsapp-button\">\n          <span class=\"emoji\">📱</span> Compartir en WhatsApp\n        </button>\n        <button @click=\"copyLink\" class=\"copy-button\">\n          <span class=\"emoji\">📋</span> Copiar Enlace\n        </button>\n      </div>\n      <p v-if=\"showCopiedMessage\" class=\"copied-message\">¡Enlace copiado al portapapeles!</p>\n      <p v-if=\"shareLink\" class=\"share-link\">\n        Enlace para compartir: <a :href=\"shareLink\" target=\"_blank\">{{ shareLink }}</a>\n      </p>\n    </section>\n\n    <!-- Toast Notification -->\n    <div v-if=\"toast.show\" \n         class=\"toast-notification\" \n         :class=\"toast.type\">\n      {{ toast.message }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue';\nimport { saveMenu } from '../services/menuService';\nimport { formatShareLinkMessage } from '../utils/messageFormatter';\nimport SalesChartComponent from './SalesChartComponent.vue';\nimport { saveAs } from 'file-saver';\nimport * as XLSX from 'xlsx';\nimport { jsPDF } from 'jspdf';\nimport 'jspdf-autotable';\nimport { \n  getMenuItems, \n  saveMenuItems,\n  getBusinessInfo, \n  saveBusinessInfo as saveBusinessInfoToDB,\n  getSoldItems, \n  saveSoldItems,\n  deleteMenuItemFromDB,\n  migrateFromLocalStorage,\n  compressImage,\n  updateItemAvailability\n} from '../services/storageService';\nimport { confirm, alert } from '../services/dialogService';\nimport { getCurrentUser, hasRole } from '../services/authService';\nimport { guardarPlato } from '@/services/indexedDBService';\n\nexport default {\n  name: 'MenuComponent',\n  components: {\n    SalesChartComponent\n  },\n  props: {\n    viewOnly: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    // Estado para información del negocio\n    const businessInfo = ref({\n      name: '',\n      description: '',\n      contact: '',\n      address: '',\n      logo: ''\n    });\n    const showBusinessForm = ref(false);\n\n    // Estado para información de pago\n    const paymentInfo = ref({\n      qrTitle: '',\n      qrImage: '',\n      nequiNumber: '',\n      nequiImage: ''\n    });\n    const showPaymentForm = ref(false);\n\n    // Estado para platos del menú\n    const newItem = ref({\n      name: '',\n      description: '',\n      price: 0,\n      includesDrink: false,\n      availableQuantity: 0,\n      image: '',\n      id: null\n    });\n    const menuItems = ref([]);\n    const showMenuForm = ref(false);\n    const isEditing = ref(false);\n    const editingIndex = ref(-1);\n\n    // Estado para ventas e inventario\n    const soldItems = ref([]);\n    const searchTerm = ref('');\n    const sortBy = ref('');\n    const categoryFilter = ref('');\n    const selectedChartType = ref('bar');\n\n    // Estado para compartir\n    const shareLink = ref('');\n    const showCopiedMessage = ref(false);\n    \n    // Estado para mostrar progreso de migración\n    const migrationStatus = ref({\n      inProgress: false,\n      completed: false,\n      message: ''\n    });\n\n    // Estado para errores del gráfico\n    const chartError = ref(null);\n    \n    // Primero, añadir el componente Toast\n    const toast = ref({\n      show: false,\n      message: '',\n      type: 'success' // success, error, warning\n    });\n\n    // Manejar errores del gráfico\n    const handleChartError = (error) => {\n      console.error(\"Error en el gráfico:\", error);\n      chartError.value = error;\n    };\n\n    // Estado para mensajes de notificación\n    const notification = ref({\n      show: false,\n      message: '',\n      type: 'success', // 'success', 'error'\n      timeout: null\n    });\n\n    // Estado para platos especiales\n    const newSpecialItem = ref({\n      name: '',\n      description: '',\n      price: 0,\n      includesDrink: false,\n      availableQuantity: 0,\n      image: '',\n      id: null\n    });\n    const specialMenuItems = ref([]);\n    const showSpecialMenuForm = ref(false);\n    const isEditingSpecial = ref(false);\n    const editingSpecialIndex = ref(-1);\n\n    // Cargar datos guardados\n    onMounted(async () => {\n      try {\n        migrationStatus.value.inProgress = true;\n        migrationStatus.value.message = 'Cargando datos...';\n        \n        const hasLocalData = localStorage.getItem('businessInfo') || \n                             localStorage.getItem('menuItems') ||\n                             localStorage.getItem('soldItems');\n          \n        if (hasLocalData) {\n          migrationStatus.value.message = 'Migrando datos desde localStorage a IndexedDB...';\n          \n          const migrationResult = await migrateFromLocalStorage();\n          \n          if (migrationResult) {\n            migrationStatus.value.completed = true;\n            migrationStatus.value.message = 'Migración completada exitosamente';\n            localStorage.removeItem('businessInfo');\n            localStorage.removeItem('menuItems');\n            localStorage.removeItem('soldItems');\n          } else {\n            migrationStatus.value.message = 'Error en la migración de datos';\n          }\n        }\n\n        const dbBusinessInfo = await getBusinessInfo();\n        if (dbBusinessInfo && dbBusinessInfo.name) {\n          businessInfo.value = dbBusinessInfo;\n        }\n\n        const dbMenuItems = await getMenuItems();\n        if (dbMenuItems && dbMenuItems.length > 0) {\n          // Separar los platos regulares de los especiales\n          const regularItems = dbMenuItems.filter(item => !item.isSpecial);\n          const specialItems = dbMenuItems.filter(item => item.isSpecial === true);\n          \n          menuItems.value = regularItems;\n          \n          if (specialItems.length > 0) {\n            specialMenuItems.value = specialItems;\n          }\n        }\n\n        const dbSoldItems = await getSoldItems();\n        if (dbSoldItems && dbSoldItems.length > 0) {\n          soldItems.value = dbSoldItems;\n        }\n        \n        setTimeout(() => {\n          migrationStatus.value.inProgress = false;\n        }, 1500);\n      } catch (error) {\n        console.error('Error al cargar datos:', error);\n        migrationStatus.value.message = 'Error al cargar datos: ' + error.message;\n        setTimeout(() => {\n          migrationStatus.value.inProgress = false;\n        }, 3000);\n      }\n    });\n\n    // Métodos para información del negocio\n    const toggleBusinessForm = () => {\n      showBusinessForm.value = !showBusinessForm.value;\n    };\n\n    const onLogoChange = async (event) => {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = async (e) => {\n          const compressedLogo = await compressImage(e.target.result);\n          businessInfo.value.logo = compressedLogo;\n        };\n        reader.readAsDataURL(file);\n      }\n    };\n\n    const saveBusinessInfo = async () => {\n      try {\n        if (notification.value.timeout) {\n          clearTimeout(notification.value.timeout);\n        }\n        \n        await saveBusinessInfoToDB(businessInfo.value);\n        \n        notification.value = {\n          show: true,\n          message: 'Información del negocio guardada con éxito!',\n          type: 'success',\n          timeout: setTimeout(() => {\n            notification.value.show = false;\n          }, 3000)\n        };\n      } catch (error) {\n        console.error('Error al guardar información del negocio:', error);\n        \n        notification.value = {\n          show: true,\n          message: 'Error al guardar la información. Por favor, intenta nuevamente.',\n          type: 'error',\n          timeout: setTimeout(() => {\n            notification.value.show = false;\n          }, 3000)\n        };\n      }\n    };\n\n    const clearBusinessForm = async () => {\n      const confirmed = await confirm('¿Estás seguro de querer limpiar el formulario?');\n      if (confirmed) {\n        businessInfo.value = {\n          name: '',\n          description: '',\n          contact: '',\n          address: '',\n          logo: ''\n        };\n      }\n    };\n\n    // Métodos para información de pago\n    const togglePaymentForm = () => {\n      showPaymentForm.value = !showPaymentForm.value;\n    };\n\n    const onQRImageChange = async (event) => {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = async (e) => {\n          const compressedImage = await compressImage(e.target.result);\n          paymentInfo.value.qrImage = compressedImage;\n        };\n        reader.readAsDataURL(file);\n      }\n    };\n\n    const onNequiImageChange = async (event) => {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = async (e) => {\n          const compressedImage = await compressImage(e.target.result);\n          paymentInfo.value.nequiImage = compressedImage;\n        };\n        reader.readAsDataURL(file);\n      }\n    };\n\n    const savePaymentInfo = async () => {\n      try {\n        if (notification.value.timeout) {\n          clearTimeout(notification.value.timeout);\n        }\n        \n        businessInfo.value.paymentInfo = { ...paymentInfo.value };\n        \n        await saveBusinessInfoToDB(businessInfo.value);\n        \n        notification.value = {\n          show: true,\n          message: 'Información de pago guardada con éxito!',\n          type: 'success',\n          timeout: setTimeout(() => {\n            notification.value.show = false;\n          }, 3000)\n        };\n      } catch (error) {\n        console.error('Error al guardar información de pago:', error);\n        \n        notification.value = {\n          show: true,\n          message: 'Error al guardar la información de pago. Por favor, intenta nuevamente.',\n          type: 'error',\n          timeout: setTimeout(() => {\n            notification.value.show = false;\n          }, 3000)\n        };\n      }\n    };\n\n    const clearPaymentForm = async () => {\n      const confirmed = await confirm('¿Estás seguro de querer limpiar la información de pago?');\n      if (confirmed) {\n        paymentInfo.value = {\n          qrTitle: '',\n          qrImage: '',\n          nequiNumber: '',\n          nequiImage: ''\n        };\n      }\n    };\n\n    // Métodos para platos del menú\n    const toggleMenuForm = () => {\n      showMenuForm.value = !showMenuForm.value;\n      if (!showMenuForm.value) {\n        clearMenuForm();\n      }\n    };\n\n    const onImageChange = async (event) => {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = async (e) => {\n          const compressedImage = await compressImage(e.target.result);\n          newItem.value.image = compressedImage;\n        };\n        reader.readAsDataURL(file);\n      }\n    };\n\n    const saveMenuItem = async () => {\n      try {\n        // Validaciones iniciales\n        if (!newItem.value.name || !newItem.value.price) {\n          showNotification('El nombre y el precio son obligatorios', 'error');\n          return;\n        }\n\n        if (newItem.value.availableQuantity < 0) {\n          showNotification('La cantidad disponible no puede ser negativa', 'error');\n          return;\n        }\n\n        // Generar ID si no existe\n        if (!newItem.value.id) {\n          newItem.value.id = Date.now() + Math.random().toString(36).substring(2, 10);\n        }\n\n        try {\n          console.log('📝 Datos del plato antes de guardar:', newItem.value);\n          \n          // Guardar en la base de datos\n          const savedPlato = await guardarPlato(newItem.value);\n          console.log('✅ Plato guardado correctamente:', savedPlato);\n          \n          if (isEditing.value) {\n            // Actualizar el plato existente en la lista\n            const index = menuItems.value.findIndex(item => item.id === savedPlato.id);\n            if (index !== -1) {\n              menuItems.value[index] = { ...savedPlato };\n              showNotification('Plato actualizado exitosamente', 'success');\n            }\n          } else {\n            // Agregar el nuevo plato a la lista\n            menuItems.value.push({ ...savedPlato });\n            showNotification('Plato creado exitosamente', 'success');\n          }\n\n          // Guardar la lista completa\n          await saveMenuItems(menuItems.value);\n          \n          // Limpiar el formulario\n          clearMenuForm();\n          \n        } catch (error) {\n          console.error('❌ Error al guardar en la base de datos:', error);\n          showNotification(`Error al guardar el plato: ${error.message || 'Intente nuevamente'}`, 'error');\n        }\n      } catch (error) {\n        console.error('❌ Error general en saveMenuItem:', error);\n        showNotification(`Error inesperado: ${error.message || 'Intente nuevamente'}`, 'error');\n      }\n    };\n\n    const clearMenuForm = () => {\n      newItem.value = {\n        name: '',\n        description: '',\n        price: 0,\n        includesDrink: false,\n        availableQuantity: 0,\n        image: '',\n        id: null\n      };\n      isEditing.value = false;\n      editingIndex.value = -1;\n    };\n\n    const editMenuItem = (index) => {\n      newItem.value = { ...menuItems.value[index] };\n      isEditing.value = true;\n      editingIndex.value = index;\n      showMenuForm.value = true;\n    };\n\n    const deleteMenuItem = async (index) => {\n      try {\n        const item = menuItems.value[index];\n        \n        if (!item) {\n          console.error('Error: Elemento del menú no encontrado en el índice', index);\n          await alert('Error: No se encontró el elemento a eliminar');\n          return;\n        }\n        \n        // Confirmar eliminación\n        if (!confirm(`¿Estás seguro de que deseas eliminar \"${item.name || 'este plato'}\" del menú?`)) {\n          return;\n        }\n        \n        // Eliminar del backend MySQL directamente\n        try {\n          console.log(`Eliminando plato con ID: ${item.id} del servidor MySQL`);\n          const response = await fetch(`http://localhost:3000/direct-delete?id=${encodeURIComponent(item.id)}`, {\n            method: 'GET',\n            headers: {\n              'Cache-Control': 'no-cache'\n            }\n          });\n          \n          const result = await response.json();\n          console.log('Resultado de la eliminación directa:', result);\n          \n          if (!result.success) {\n            console.error('Error al eliminar plato del servidor:', result.message);\n            alert(`Error al eliminar plato: ${result.message}`);\n          }\n        } catch (serverError) {\n          console.error('Error al comunicarse con el servidor:', serverError);\n        }\n        \n        // Eliminar de IndexedDB\n        if (item.id) {\n          try {\n            console.log(`Llamando a deleteMenuItemFromDB para ID: ${item.id}`);\n            const deleteResult = await deleteMenuItemFromDB(item.id);\n            console.log(`Resultado de la eliminación de IndexedDB: ${deleteResult}`);\n          } catch (deleteError) {\n            console.error('Error al eliminar item del almacén local:', deleteError);\n          }\n        }\n        \n        // Eliminar de la lista local\n        menuItems.value.splice(index, 1);\n        \n        // Mostrar notificación de éxito\n        showNotification('Plato eliminado correctamente', 'success');\n        \n      } catch (error) {\n        console.error('Error al eliminar elemento del menú:', error);\n        showNotification('Error al eliminar el plato', 'error');\n      }\n    };\n\n    const sellMenuItem = async (index) => {\n      try {\n        const item = menuItems.value[index];\n        \n        // Validar disponibilidad\n        if (!item.availableQuantity || item.availableQuantity <= 0) {\n          showNotification('Este plato está agotado', 'error');\n          return;\n        }\n\n        const confirmed = await confirm(\n          `¿Desea vender una unidad de \"${item.name}\"?\\nDisponibles: ${item.availableQuantity}`\n        );\n\n        if (confirmed) {\n          try {\n            const newQuantity = item.availableQuantity - 1;\n            \n            // Actualizar en la base de datos\n            await updateItemAvailability(item.id, newQuantity);\n            \n            // Actualizar en el estado local\n            item.availableQuantity = newQuantity;\n            \n            // Registrar la venta\n            const currentDate = new Date().toISOString();\n            const soldItem = soldItems.value.find(sold => sold.name === item.name);\n            \n            if (soldItem) {\n              soldItem.quantity += 1;\n              soldItem.date = currentDate;\n            } else {\n              soldItems.value.push({\n                name: item.name,\n                quantity: 1,\n                price: item.price,\n                includesDrink: item.includesDrink,\n                date: currentDate\n              });\n            }\n            \n            // Guardar items vendidos\n            await saveSoldItems(soldItems.value);\n            \n            showNotification(`Se ha vendido una unidad de ${item.name}`, 'success');\n            \n            if (newQuantity <= 5) {\n              showNotification(`¡Atención! Quedan solo ${newQuantity} unidades de ${item.name}`, 'warning');\n            }\n          } catch (error) {\n            console.error('Error al procesar la venta:', error);\n            showNotification('Error al procesar la venta. Por favor, intente nuevamente.', 'error');\n          }\n        }\n      } catch (error) {\n        console.error('Error al procesar la venta:', error);\n        showNotification('Error al procesar la venta. Por favor, intente nuevamente.', 'error');\n      }\n    };\n\n    // Métodos para platos especiales\n    const toggleSpecialMenuForm = () => {\n      showSpecialMenuForm.value = !showSpecialMenuForm.value;\n      if (!showSpecialMenuForm.value) {\n        clearSpecialMenuForm();\n      }\n    };\n\n    const onSpecialImageChange = async (event) => {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = async (e) => {\n          const compressedImage = await compressImage(e.target.result);\n          newSpecialItem.value.image = compressedImage;\n        };\n        reader.readAsDataURL(file);\n      }\n    };\n\n    const saveSpecialMenuItem = async () => {\n      try {\n        if (!newSpecialItem.value.name || !newSpecialItem.value.price) {\n          showNotification('El nombre y el precio son obligatorios', 'error');\n          return;\n        }\n        \n        if (!newSpecialItem.value.id) {\n          newSpecialItem.value.id = Date.now() + Math.random().toString(36).substring(2, 10);\n        }\n        \n        // Marcar como plato especial\n        newSpecialItem.value.isSpecial = true;\n        \n        try {\n          console.log('📝 Datos del plato especial antes de guardar:', newSpecialItem.value);\n          \n          // Guardar en la base de datos\n          const savedPlato = await guardarPlato(newSpecialItem.value);\n          console.log('✅ Plato especial guardado correctamente:', savedPlato);\n          \n          if (isEditingSpecial.value) {\n            // Actualizar el plato existente en la lista\n            const index = specialMenuItems.value.findIndex(item => item.id === savedPlato.id);\n            if (index !== -1) {\n              specialMenuItems.value[index] = { ...savedPlato };\n              showNotification('Plato especial actualizado exitosamente', 'success');\n            }\n            isEditingSpecial.value = false;\n            editingSpecialIndex.value = -1;\n          } else {\n            const existingItem = specialMenuItems.value.find(item => \n              item.name.toLowerCase() === savedPlato.name.toLowerCase()\n            );\n            \n            if (existingItem) {\n              const confirmed = await confirm(\n                `Ya existe un plato especial llamado \"${savedPlato.name}\". ¿Desea actualizarlo?`,\n                { title: 'Actualizar plato especial existente' }\n              );\n              \n              if (confirmed) {\n                const index = specialMenuItems.value.findIndex(item => item.id === existingItem.id);\n                if (index !== -1) {\n                  // Conservar el ID original pero actualizar los demás datos\n                  const updatedPlato = {\n                    ...savedPlato,\n                    id: existingItem.id\n                  };\n                  \n                  // Actualizar en la base de datos\n                  await guardarPlato(updatedPlato);\n                  \n                  // Actualizar en la lista local\n                  specialMenuItems.value[index] = { ...updatedPlato };\n                  showNotification('Plato especial actualizado exitosamente', 'success');\n                }\n              } else {\n                return;\n              }\n            } else {\n              // Agregar el nuevo plato a la lista\n              specialMenuItems.value.push({ ...savedPlato });\n              showNotification('Plato especial creado exitosamente', 'success');\n            }\n          }\n          \n          // Guardar todos los elementos\n          await saveMenuItems([...menuItems.value, ...specialMenuItems.value]);\n          \n          // Limpiar el formulario\n          clearSpecialMenuForm();\n        } catch (error) {\n          console.error('❌ Error al guardar plato especial:', error);\n          showNotification(`Error al guardar el plato especial: ${error.message || 'Intente nuevamente'}`, 'error');\n        }\n      } catch (error) {\n        console.error('❌ Error general en saveSpecialMenuItem:', error);\n        showNotification(`Error inesperado: ${error.message || 'Intente nuevamente'}`, 'error');\n      }\n    };\n\n    const clearSpecialMenuForm = () => {\n      newSpecialItem.value = {\n        name: '',\n        description: '',\n        price: 0,\n        includesDrink: false,\n        availableQuantity: 0,\n        image: '',\n        id: null\n      };\n      isEditingSpecial.value = false;\n      editingSpecialIndex.value = -1;\n    };\n\n    const editSpecialMenuItem = (index) => {\n      newSpecialItem.value = { ...specialMenuItems.value[index] };\n      isEditingSpecial.value = true;\n      editingSpecialIndex.value = index;\n      showSpecialMenuForm.value = true;\n    };\n\n    const deleteSpecialMenuItem = async (index) => {\n      try {\n        const item = specialMenuItems.value[index];\n        \n        if (!item) {\n          console.error('Error: Elemento del menú especial no encontrado en el índice', index);\n          await alert('Error: No se encontró el elemento a eliminar');\n          return;\n        }\n        \n        // Confirmar eliminación\n        if (!confirm(`¿Estás seguro de que deseas eliminar \"${item.name || 'este plato'}\" del menú especial?`)) {\n          return;\n        }\n        \n        // Eliminar del backend MySQL directamente\n        try {\n          console.log(`Eliminando plato con ID: ${item.id} del servidor MySQL`);\n          const response = await fetch(`http://localhost:3000/direct-delete?id=${encodeURIComponent(item.id)}`, {\n            method: 'GET',\n            headers: {\n              'Cache-Control': 'no-cache'\n            }\n          });\n          \n          const result = await response.json();\n          console.log('Resultado de la eliminación directa:', result);\n          \n          if (!result.success) {\n            console.error('Error al eliminar plato del servidor:', result.message);\n            alert(`Error al eliminar plato: ${result.message}`);\n          }\n        } catch (serverError) {\n          console.error('Error al comunicarse con el servidor:', serverError);\n        }\n        \n        // Eliminar de IndexedDB\n        if (item.id) {\n          try {\n            console.log(`Llamando a deleteMenuItemFromDB para ID: ${item.id}`);\n            const deleteResult = await deleteMenuItemFromDB(item.id);\n            console.log(`Resultado de la eliminación de IndexedDB: ${deleteResult}`);\n          } catch (deleteError) {\n            console.error('Error al eliminar item del almacén local:', deleteError);\n          }\n        }\n        \n        // Eliminar de la lista local\n        specialMenuItems.value.splice(index, 1);\n        \n        // Mostrar notificación de éxito\n        showNotification('Plato eliminado correctamente', 'success');\n        \n      } catch (error) {\n        console.error('Error al eliminar elemento del menú especial:', error);\n        showNotification('Error al eliminar el plato', 'error');\n      }\n    };\n\n    const sellSpecialMenuItem = async (index) => {\n      try {\n        const item = specialMenuItems.value[index];\n        \n        // Validar disponibilidad\n        if (!item.availableQuantity || item.availableQuantity <= 0) {\n          showNotification('Este plato especial está agotado', 'error');\n          return;\n        }\n\n        const confirmed = await confirm(\n          `¿Desea vender una unidad de \"${item.name}\"?\\nDisponibles: ${item.availableQuantity}`\n        );\n\n        if (confirmed) {\n          try {\n            const newQuantity = item.availableQuantity - 1;\n            \n            // Actualizar en la base de datos\n            await updateItemAvailability(item.id, newQuantity);\n            \n            // Actualizar en el estado local\n            item.availableQuantity = newQuantity;\n            \n            // Registrar la venta\n            const currentDate = new Date().toISOString();\n            const soldItem = soldItems.value.find(sold => sold.name === item.name);\n            \n            if (soldItem) {\n              soldItem.quantity += 1;\n              soldItem.date = currentDate;\n            } else {\n              soldItems.value.push({\n                name: item.name,\n                quantity: 1,\n                price: item.price,\n                includesDrink: item.includesDrink,\n                date: currentDate\n              });\n            }\n            \n            // Guardar items vendidos\n            await saveSoldItems(soldItems.value);\n            \n            showNotification(`Se ha vendido una unidad de ${item.name}`, 'success');\n            \n            if (newQuantity <= 5) {\n              showNotification(`¡Atención! Quedan solo ${newQuantity} unidades de ${item.name}`, 'warning');\n            }\n          } catch (error) {\n            console.error('Error al procesar la venta:', error);\n            showNotification('Error al procesar la venta. Por favor, intente nuevamente.', 'error');\n          }\n        }\n      } catch (error) {\n        console.error('Error al procesar la venta:', error);\n        showNotification('Error al procesar la venta. Por favor, intente nuevamente.', 'error');\n      }\n    };\n\n    // Métodos para compartir\n    const shareByWhatsApp = async () => {\n      try {\n        await alert('Procesando imágenes para compartir...');\n        \n        const totalItems = menuItems.value.length + specialMenuItems.value.length;\n        if (totalItems > 30) {\n          await alert('El menú tiene demasiados elementos. Por favor, seleccione menos platos para compartir.');\n          return;\n        }\n        \n        // Combinar platos regulares y especiales\n        const itemsToShare = [\n          ...menuItems.value.map(item => ({\n            ...item,\n            isSpecial: false\n          })),\n          ...specialMenuItems.value.map(item => ({\n            ...item,\n            isSpecial: true\n          }))\n        ];\n        \n        console.log(`Preparando para compartir ${itemsToShare.length} elementos...`);\n        console.log('Items regulares:', menuItems.value.length);\n        console.log('Items especiales:', specialMenuItems.value.length);\n        \n        const menuId = await saveMenu(itemsToShare);\n        const url = `${window.location.origin}/menu/${menuId}`;\n        shareLink.value = url;\n        \n        const message = formatShareLinkMessage(url, businessInfo.value.name);\n        const whatsappUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(message)}`;\n        window.open(whatsappUrl, '_blank');\n      } catch (error) {\n        console.error('Error al compartir por WhatsApp:', error);\n        await alert(`Error al compartir el menú: ${error.message || 'Error desconocido'}. Por favor, intenta reducir el tamaño de las imágenes o eliminar algunos ítems.`);\n      }\n    };\n\n    const copyLink = async () => {\n      try {\n        const loadingMessage = 'Procesando imágenes para compartir...';\n        showCopiedMessage.value = true;\n        \n        const totalItems = menuItems.value.length + specialMenuItems.value.length;\n        if (totalItems > 30) {\n          await alert('El menú tiene demasiados elementos. Por favor, seleccione menos platos para compartir.');\n          showCopiedMessage.value = false;\n          return;\n        }\n        \n        // Combinar platos regulares y especiales\n        const itemsToShare = [\n          ...menuItems.value.map(item => ({\n            ...item,\n            isSpecial: false\n          })),\n          ...specialMenuItems.value.map(item => ({\n            ...item,\n            isSpecial: true\n          }))\n        ];\n        \n        const menuId = await saveMenu(itemsToShare);\n        const url = `${window.location.origin}/menu/${menuId}`;\n        shareLink.value = url;\n        \n        try {\n          await navigator.clipboard.writeText(url);\n          showCopiedMessage.value = true;\n          setTimeout(() => {\n            showCopiedMessage.value = false;\n          }, 3000);\n        } catch (clipboardError) {\n          console.error('Error al copiar al portapapeles:', clipboardError);\n          await alert('No se pudo copiar automáticamente. Por favor, copia manualmente este enlace: ' + url);\n        }\n      } catch (error) {\n        console.error('Error al generar enlace para compartir:', error);\n        showCopiedMessage.value = false;\n        await alert(`Error al generar el enlace: ${error.message || 'Error desconocido'}. Por favor, intenta reducir el tamaño de las imágenes o eliminar algunos ítems.`);\n      }\n    };\n\n    // Computados\n    const totalSales = computed(() => {\n      return soldItems.value.reduce((total, item) => {\n        return total + (item.quantity * item.price);\n      }, 0);\n    });\n\n    const formatPrice = (price) => {\n      if (isNaN(Number(price))) return '0,00';\n      const fixed = Number(price).toFixed(2);\n      const [intPart, decPart] = fixed.split('.');\n      const formattedIntPart = intPart.replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n      return `${formattedIntPart},${decPart}`;\n    };\n    \n    const formatDate = (dateStr) => {\n      if (!dateStr) return 'N/A';\n      const date = new Date(dateStr);\n      if (isNaN(date.getTime())) return 'Fecha inválida';\n      return new Intl.DateTimeFormat('es-ES', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      }).format(date);\n    };\n\n    const filteredSoldItems = computed(() => {\n      let items = soldItems.value;\n      if (!Array.isArray(items)) {\n        console.warn('soldItems no es un array. Devolviendo array vacío.');\n        return [];\n      }\n      if (searchTerm.value) {\n        const term = searchTerm.value.toLowerCase().trim();\n        \n        if (Array.isArray(items)) {\n          return items.filter(item => {\n            if (item && typeof item === 'object') {\n              const name = String(item.name || '').toLowerCase();\n              return name.includes(term);\n            }\n            return false;\n          });\n        } else {\n          console.warn('filterInventoryItems recibió un valor no array:', items);\n          return [];\n        }\n      }\n      if (categoryFilter.value) {\n        if (categoryFilter.value === 'drinks') {\n          items = items.filter(item => Boolean(item && item.includesDrink));\n        } else if (categoryFilter.value === 'nodrinks') {\n          items = items.filter(item => item && item.includesDrink === false);\n        }\n      }\n      if (sortBy.value) {\n        items = [...items];\n        switch (sortBy.value) {\n          case 'name':\n            items.sort((a, b) => {\n              if (!a || !a.name) return 1;\n              if (!b || !b.name) return -1;\n              return a.name.localeCompare(b.name);\n            });\n            break;\n          case 'quantity-desc':\n            items.sort((a, b) => {\n              const qtyA = (a && typeof a.quantity === 'number') ? a.quantity : 0;\n              const qtyB = (b && typeof b.quantity === 'number') ? b.quantity : 0;\n              return qtyB - qtyA;\n            });\n            break;\n          case 'quantity-asc':\n            items.sort((a, b) => {\n              const qtyA = (a && typeof a.quantity === 'number') ? a.quantity : 0;\n              const qtyB = (b && typeof b.quantity === 'number') ? b.quantity : 0;\n              return qtyA - qtyB;\n            });\n            break;\n          case 'price-desc':\n            items.sort((a, b) => {\n              const priceA = (a && typeof a.price === 'number') ? a.price : 0;\n              const priceB = (b && typeof b.price === 'number') ? b.price : 0;\n              return priceB - priceA;\n            });\n            break;\n          case 'price-asc':\n            items.sort((a, b) => {\n              const priceA = (a && typeof a.price === 'number') ? a.price : 0;\n              const priceB = (b && typeof b.price === 'number') ? b.price : 0;\n              return priceA - priceB;\n            });\n            break;\n          case 'date-desc':\n            items.sort((a, b) => {\n              const dateA = a && a.date ? new Date(a.date) : new Date(0);\n              const dateB = b && b.date ? new Date(b.date) : new Date(0);\n              return dateB - dateA;\n            });\n            break;\n          case 'date-asc':\n            items.sort((a, b) => {\n              const dateA = a && a.date ? new Date(a.date) : new Date(0);\n              const dateB = b && b.date ? new Date(b.date) : new Date(0);\n              return dateA - dateB;\n            });\n            break;\n          default:\n            break;\n        }\n      }\n      return items;\n    });\n\n    const exportToExcel = () => {\n      // Crear un array con los datos a exportar\n      const data = [\n        ['Nombre del Plato', 'Categoría', 'Cantidad Vendida', 'Precio por Unidad', 'Fecha de Venta', 'Subtotal'],\n        ...filteredSoldItems.value.map(item => [\n          item.name,\n          item.includesDrink ? 'Con refresco' : 'Sin refresco',\n          item.quantity,\n          `$${formatPrice(item.price)}`,\n          formatDate(item.date),\n          `$${formatPrice(item.quantity * item.price)}`\n        ]),\n        ['', '', '', '', 'Total', `$${formatPrice(totalSales.value)}`]\n      ];\n\n      // Crear un libro de Excel y una hoja de cálculo\n      const ws = XLSX.utils.aoa_to_sheet(data);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws, 'Ventas');\n\n      // Generar el archivo Excel y descargarlo\n      const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n      const blob = new Blob([excelBuffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n      saveAs(blob, `ventas_${new Date().toLocaleDateString()}.xlsx`);\n    };\n\n    const exportToPDF = () => {\n      // Crear un nuevo documento PDF\n      const doc = new jsPDF();\n      \n      // Añadir título\n      doc.setFontSize(18);\n      doc.text('Reporte de Ventas', 14, 22);\n      doc.setFontSize(11);\n      doc.text(`Fecha: ${new Date().toLocaleDateString()}`, 14, 32);\n\n      // Crear la tabla con los datos\n      const tableData = filteredSoldItems.value.map(item => [\n        item.name,\n        item.includesDrink ? 'Con refresco' : 'Sin refresco',\n        item.quantity,\n        `$${formatPrice(item.price)}`,\n        formatDate(item.date),\n        `$${formatPrice(item.quantity * item.price)}`\n      ]);\n\n      // Añadir la tabla\n      doc.autoTable({\n        head: [['Nombre del Plato', 'Categoría', 'Cantidad Vendida', 'Precio por Unidad', 'Fecha de Venta', 'Subtotal']],\n        body: tableData,\n        foot: [['', '', '', '', 'Total', `$${formatPrice(totalSales.value)}`]],\n        startY: 40,\n        theme: 'striped',\n        headStyles: { fillColor: [76, 175, 80] },\n        footStyles: { fillColor: [240, 240, 240], textColor: [0, 0, 0], fontStyle: 'bold' }\n      });\n\n      // Guardar el PDF de exportación\n      doc.save(`ventas_${new Date().toLocaleDateString()}.pdf`);\n    };\n\n    const removeDuplicates = (array) => {\n      return [...new Set(array)];\n    };\n\n    // Función para mostrar notificaciones\n    const showNotification = (message, type) => {\n      notification.value = {\n        show: true,\n        message,\n        type\n      };\n      \n      setTimeout(() => {\n        notification.value.show = false;\n      }, 3000); // 3 segundos como acordado\n    };\n\n    const checkAvailabilityToast = async (itemId) => {\n      try {\n        // Buscar el item en ambos menús\n        const item = menuItems.value.find(i => i.id === itemId) || \n                    specialMenuItems.value.find(i => i.id === itemId);\n        \n        if (item) {\n          if (item.availableQuantity > 5) {\n            showNotification(`Disponible: ${item.availableQuantity} unidades`, 'success');\n          } else if (item.availableQuantity > 0) {\n            showNotification(`¡Quedan solo ${item.availableQuantity} unidades!`, 'warning');\n          } else {\n            showNotification('Producto agotado', 'error');\n          }\n        }\n      } catch (error) {\n        console.error('Error al verificar disponibilidad:', error);\n      }\n    };\n\n    // Añadir propiedad isEmployee\n    const isEmployee = computed(() => {\n      return hasRole('Empleado') && !hasRole('Administrador') && !hasRole('Superadministrador');\n    });\n\n    const filterInventoryItems = computed(() => {\n      return (items) => {\n        if (!items || !Array.isArray(items)) {\n          console.warn('filterInventoryItems recibió un valor no array:', items);\n          return [];\n        }\n        if (searchTerm.value) {\n          const term = searchTerm.value.toLowerCase().trim();\n          \n          items = items.filter(item => {\n            if (item && typeof item === 'object') {\n              const name = String(item.name || '').toLowerCase();\n              return name.includes(term);\n            }\n            return false;\n          });\n        }\n        if (categoryFilter.value) {\n          if (categoryFilter.value === 'drinks') {\n            items = items.filter(item => item && item.includesDrink === true);\n          } else if (categoryFilter.value === 'nodrinks') {\n            items = items.filter(item => item && item.includesDrink === false);\n          }\n        }\n        if (sortBy.value) {\n          switch (sortBy.value) {\n            case 'name':\n              items.sort((a, b) => {\n                const nameA = (a && a.name) ? a.name.toLowerCase() : '';\n                const nameB = (b && b.name) ? b.name.toLowerCase() : '';\n                return nameA.localeCompare(nameB);\n              });\n              break;\n            case 'quantity-desc':\n              items.sort((a, b) => {\n                const qtyA = (a && typeof a.quantity === 'number') ? a.quantity : 0;\n                const qtyB = (b && typeof b.quantity === 'number') ? b.quantity : 0;\n                return qtyB - qtyA;\n              });\n              break;\n            case 'quantity-asc':\n              items.sort((a, b) => {\n                const qtyA = (a && typeof a.quantity === 'number') ? a.quantity : 0;\n                const qtyB = (b && typeof b.quantity === 'number') ? b.quantity : 0;\n                return qtyA - qtyB;\n              });\n              break;\n            case 'price-desc':\n              items.sort((a, b) => {\n                const priceA = (a && typeof a.price === 'number') ? a.price : 0;\n                const priceB = (b && typeof b.price === 'number') ? b.price : 0;\n                return priceB - priceA;\n              });\n              break;\n            case 'price-asc':\n              items.sort((a, b) => {\n                const priceA = (a && typeof a.price === 'number') ? a.price : 0;\n                const priceB = (b && typeof b.price === 'number') ? b.price : 0;\n                return priceA - priceB;\n              });\n              break;\n            case 'date-desc':\n              items.sort((a, b) => {\n                const dateA = a && a.date ? new Date(a.date) : new Date(0);\n                const dateB = b && b.date ? new Date(b.date) : new Date(0);\n                return dateB - dateA;\n              });\n              break;\n            case 'date-asc':\n              items.sort((a, b) => {\n                const dateA = a && a.date ? new Date(a.date) : new Date(0);\n                const dateB = b && b.date ? new Date(b.date) : new Date(0);\n                return dateA - dateB;\n              });\n              break;\n            default:\n              break;\n          }\n        }\n        return items;\n      };\n    });\n\n    return {\n      businessInfo,\n      showBusinessForm,\n      toggleBusinessForm,\n      onLogoChange,\n      saveBusinessInfo,\n      clearBusinessForm,\n      paymentInfo,\n      showPaymentForm,\n      togglePaymentForm,\n      onQRImageChange,\n      onNequiImageChange,\n      savePaymentInfo,\n      clearPaymentForm,\n      newItem,\n      menuItems,\n      showMenuForm,\n      isEditing,\n      toggleMenuForm,\n      onImageChange,\n      saveMenuItem,\n      editMenuItem,\n      deleteMenuItem,\n      sellMenuItem,\n      clearMenuForm,\n      soldItems,\n      totalSales,\n      searchTerm,\n      sortBy,\n      categoryFilter,\n      filteredSoldItems,\n      formatPrice,\n      selectedChartType,\n      exportToExcel,\n      exportToPDF,\n      shareLink,\n      showCopiedMessage,\n      shareByWhatsApp,\n      copyLink,\n      migrationStatus,\n      removeDuplicates,\n      chartError,\n      handleChartError,\n      notification,\n      formatDate,\n      newSpecialItem,\n      specialMenuItems,\n      showSpecialMenuForm,\n      isEditingSpecial,\n      editingSpecialIndex,\n      toggleSpecialMenuForm,\n      onSpecialImageChange,\n      saveSpecialMenuItem,\n      clearSpecialMenuForm,\n      editSpecialMenuItem,\n      deleteSpecialMenuItem,\n      sellSpecialMenuItem,\n      toast,\n      showNotification,\n      checkAvailabilityToast,\n      isEmployee,\n      filterInventoryItems\n    };\n  }\n};\n</script>\n\n<style scoped>\n.menu-container {\n  padding: 20px;\n}\n\nsection {\n  margin-bottom: 40px;\n  padding: 20px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  background-color: #fff;\n}\n\nh2 {\n  color: #333;\n  font-size: 24px;\n  margin-bottom: 20px;\n  border-bottom: 2px solid #4CAF50;\n  padding-bottom: 10px;\n}\n\n.toggle-button {\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px 15px;\n  margin-bottom: 20px;\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.toggle-button:hover {\n  background-color: #45a049;\n}\n\nform {\n  display: grid;\n  gap: 15px;\n}\n\nlabel {\n  font-weight: bold;\n}\n\ninput, textarea, select {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 14px;\n}\n\n.button-group {\n  display: flex;\n  gap: 10px;\n  margin-top: 15px;\n}\n\n.save-button {\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px 15px;\n  cursor: pointer;\n  flex: 1;\n}\n\n.save-button:hover {\n  background-color: #0056b3;\n}\n\n.clear-button {\n  background-color: #dc3545;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px 15px;\n  cursor: pointer;\n  flex: 1;\n}\n\n.clear-button:hover {\n  background-color: #c82333;\n}\n\n.business-preview {\n  margin-top: 20px;\n  padding: 15px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  background-color: #f9f9f9;\n}\n\n/* Mejoras a la lista de platos */\n.menu-items-list, .menu-special-items-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 20px;\n  margin-top: 20px;\n}\n\n.menu-item-card {\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  background-color: #f9f9f9;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n  display: flex;\n  flex-direction: column;\n}\n\n.menu-item-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 5px 15px rgba(0,0,0,0.2);\n}\n\n.menu-item-image-container {\n  width: 100%;\n  height: 200px;\n  position: relative;\n  overflow: hidden;\n  background-color: #f0f0f0;\n}\n\n.menu-item-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.5s ease;\n}\n\n.menu-item-card:hover .menu-item-image {\n  transform: scale(1.05);\n}\n\n.no-image-placeholder {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: #999;\n  font-style: italic;\n}\n\n.menu-item-details {\n  padding: 15px;\n  flex-grow: 1;\n}\n\n.menu-item-details h3 {\n  margin-top: 0;\n  color: #333;\n  font-size: 18px;\n}\n\n.menu-item-actions {\n  display: flex;\n  gap: 10px;\n  padding: 0 15px 15px;\n}\n\n.edit-button, .sell-button, .delete-button {\n  flex: 1;\n  padding: 8px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: bold;\n  transition: background-color 0.3s;\n}\n\n.edit-button {\n  background-color: #ffc107;\n  color: #212529;\n}\n\n.edit-button:hover {\n  background-color: #e0a800;\n}\n\n.sell-button {\n  background-color: #28a745;\n  color: white;\n}\n\n.sell-button:hover {\n  background-color: #218838;\n}\n\n.delete-button {\n  background-color: #dc3545;\n  color: white;\n}\n\n.delete-button:hover {\n  background-color: #c82333;\n}\n\n/* Mejoras a la sección de inventario */\n.inventory-section {\n  margin-bottom: 40px;\n}\n\n.inventory-controls {\n  margin-bottom: 20px;\n  display: grid;\n  gap: 15px;\n  grid-template-columns: 1fr;\n}\n\n@media (min-width: 768px) {\n  .inventory-controls {\n    grid-template-columns: repeat(3, 1fr);\n  }\n}\n\n.inventory-search-input {\n  width: 100%;\n  padding: 10px 15px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 16px;\n  box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);\n}\n\n.inventory-filters, \n.inventory-actions {\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n}\n\n.inventory-filter {\n  flex: 1;\n  min-width: 150px;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 14px;\n  background-color: white;\n}\n\n.export-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 10px 15px;\n  border: none;\n  border-radius: 4px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.export-button.excel {\n  background-color: #1D6F42;\n  color: white;\n}\n\n.export-button.excel:hover {\n  background-color: #165235;\n}\n\n.export-button.pdf {\n  background-color: #F40F02;\n  color: white;\n}\n\n.export-button.pdf:hover {\n  background-color: #C90C02;\n}\n\n.action-icon {\n  font-size: 18px;\n}\n\n.sales-chart-container {\n  margin-bottom: 20px;\n  background-color: white;\n  padding: 15px;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n  min-height: 300px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.empty-chart-message {\n  color: #666;\n  font-style: italic;\n  text-align: center;\n  width: 100%;\n  padding: 50px 20px;\n}\n\n.sales-chart {\n  margin-bottom: 20px;\n  background-color: white;\n  padding: 15px;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n}\n\n.inventory-table {\n  overflow-x: auto;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n}\n\nth, td {\n  padding: 15px;\n  text-align: left;\n}\n\nthead {\n  background-color: #4CAF50;\n  color: white;\n}\n\nthead th {\n  font-weight: 600;\n}\n\ntbody tr:hover {\n  background-color: #f1f1f1;\n}\n\n.alternate-row {\n  background-color: #f9f9f9;\n}\n\ntfoot {\n  background-color: #e9e9e9;\n  font-weight: bold;\n}\n\ntfoot td {\n  padding: 12px 15px;\n}\n\n.share-buttons {\n  display: flex;\n  gap: 15px;\n  margin-top: 20px;\n}\n\n.whatsapp-button, .copy-button {\n  flex: 1;\n  padding: 12px 15px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.whatsapp-button {\n  background-color: #25D366;\n  color: white;\n}\n\n.whatsapp-button:hover {\n  background-color: #128C7E;\n}\n\n.copy-button {\n  background-color: #6c757d;\n  color: white;\n}\n\n.copy-button:hover {\n  background-color: #5a6268;\n}\n\n.emoji {\n  font-size: 1.2em;\n  margin-right: 8px;\n}\n\n.copied-message {\n  color: #28a745;\n  margin-top: 10px;\n}\n\n.share-link {\n  margin-top: 15px;\n  padding: 10px;\n  background-color: #f8f9fa;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  word-break: break-all;\n}\n\n.migration-status {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  background-color: #ffeb3b;\n  color: #333;\n  padding: 15px 20px;\n  border-radius: 6px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n  z-index: 1000;\n  max-width: 300px;\n  transition: all 0.3s ease;\n}\n\n.migration-status.completed {\n  background-color: #4CAF50;\n  color: white;\n}\n\n.migration-message {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.loading-spinner {\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n  border: 3px solid rgba(0, 0, 0, 0.1);\n  border-top-color: #333;\n  animation: spin 1s ease-in-out infinite;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* Estilos para notificaciones */\n.notification {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  padding: 15px 20px;\n  border-radius: 4px;\n  color: white;\n  font-weight: bold;\n  z-index: 1001;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  min-width: 300px;\n  max-width: 500px;\n  animation: slide-in 0.3s ease-out;\n}\n\n.notification.success {\n  background-color: #4CAF50;\n}\n\n.notification.error {\n  background-color: #f44336;\n}\n\n.notification-close {\n  background: transparent;\n  border: none;\n  color: white;\n  font-size: 20px;\n  margin-left: 15px;\n  cursor: pointer;\n  padding: 0 5px;\n}\n\n@keyframes slide-in {\n  from {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n/* Estilos del toast */\n.toast-notification {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  padding: 15px 20px;\n  border-radius: 8px;\n  color: white;\n  z-index: 1000;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  animation: fadeIn 0.3s, fadeOut 0.3s 2.7s;\n}\n\n.toast-notification.success {\n  background-color: #4CAF50;\n}\n\n.toast-notification.error {\n  background-color: #f44336;\n}\n\n.toast-notification.warning {\n  background-color: #ff9800;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; transform: translateY(-20px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n\n@keyframes fadeOut {\n  from { opacity: 1; transform: translateY(0); }\n  to { opacity: 0; transform: translateY(-20px); }\n}\n\n/* Estilos del tooltip */\n.tooltip-container {\n  position: relative;\n}\n\n.tooltip {\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 8px 12px;\n  background-color: #333;\n  color: white;\n  border-radius: 6px;\n  font-size: 14px;\n  white-space: nowrap;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.3s, visibility 0.3s;\n}\n\n.tooltip::after {\n  content: '';\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  border: 6px solid transparent;\n  border-top-color: #333;\n}\n\n.tooltip-visible {\n  opacity: 1;\n  visibility: visible;\n}\n\n.action-button:hover .tooltip {\n  opacity: 1;\n  visibility: visible;\n}\n\n/* Añadir estilos para botones deshabilitados */\n.toggle-button:disabled {\n  background-color: #cccccc;\n  color: #666666;\n  cursor: not-allowed;\n  opacity: 0.7;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}